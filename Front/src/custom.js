/* eslint-disable */

(() => {
    var e = {
            180: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-content code{background-color:hsla(0,0%,78%,.3);border-radius:2px;padding:.15em}.ck.ck-editor__editable .ck-code_selected{background-color:hsla(0,0%,78%,.5)}',
                    '',
                ]);
                const s = o;
            },
            636: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-content blockquote{border-left:5px solid #ccc;font-style:italic;margin-left:0;margin-right:0;overflow:hidden;padding-left:1.5em;padding-right:1.5em}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}',
                    '',
                ]);
                const s = o;
            },
            714: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-content pre{background:hsla(0,0%,78%,.3);border:1px solid #c4c4c4;border-radius:2px;color:#353535;direction:ltr;font-style:normal;min-width:200px;padding:1em;tab-size:4;text-align:left;white-space:pre-wrap}.ck-content pre code{background:unset;border-radius:0;padding:0}.ck.ck-editor__editable pre{position:relative}.ck.ck-editor__editable pre[data-language]:after{content:attr(data-language);position:absolute}:root{--ck-color-code-block-label-background:#757575}.ck.ck-editor__editable pre[data-language]:after{background:var(--ck-color-code-block-label-background);color:#fff;font-family:var(--ck-font-face);font-size:10px;line-height:16px;padding:var(--ck-spacing-tiny) var(--ck-spacing-medium);right:10px;top:-1px;white-space:nowrap}.ck.ck-code-block-dropdown .ck-dropdown__panel{max-height:250px;overflow-x:hidden;overflow-y:auto}',
                    '',
                ]);
                const s = o;
            },
            638: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}',
                    '',
                ]);
                const s = o;
            },
            230: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}',
                    '',
                ]);
                const s = o;
            },
            48: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-content .image{clear:both;display:table;margin:.9em auto;min-width:50px;text-align:center}.ck-content .image img{display:block;margin:0 auto;max-width:100%;min-width:100%}.ck-content .image-inline{align-items:flex-start;display:inline-flex;max-width:100%}.ck-content .image-inline picture{display:flex}.ck-content .image-inline img,.ck-content .image-inline picture{flex-grow:1;flex-shrink:1;max-width:100%}.ck.ck-editor__editable .image>figcaption.ck-placeholder:before{overflow:hidden;padding-left:inherit;padding-right:inherit;text-overflow:ellipsis;white-space:nowrap}.ck.ck-editor__editable .image-inline.ck-widget_selected,.ck.ck-editor__editable .image.ck-widget_selected{z-index:1}.ck.ck-editor__editable .image-inline.ck-widget_selected ::selection{display:none}.ck.ck-editor__editable td .image-inline img,.ck.ck-editor__editable th .image-inline img{max-width:none}',
                    '',
                ]);
                const s = o;
            },
            662: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    ':root{--ck-color-image-caption-background:#f7f7f7;--ck-color-image-caption-text:#333;--ck-color-image-caption-highligted-background:#fd0}.ck-content .image>figcaption{background-color:var(--ck-color-image-caption-background);caption-side:bottom;color:var(--ck-color-image-caption-text);display:table-caption;font-size:.75em;outline-offset:-1px;padding:.6em;word-break:break-word}.ck.ck-editor__editable .image>figcaption.image__caption_highlighted{animation:ck-image-caption-highlight .6s ease-out}@keyframes ck-image-caption-highlight{0%{background-color:var(--ck-color-image-caption-highligted-background)}to{background-color:var(--ck-color-image-caption-background)}}',
                    '',
                ]);
                const s = o;
            },
            622: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    ':root{--ck-image-style-spacing:1.5em;--ck-inline-image-style-spacing:calc(var(--ck-image-style-spacing)/2)}.ck-content .image-style-block-align-left,.ck-content .image-style-block-align-right{max-width:calc(100% - var(--ck-image-style-spacing))}.ck-content .image-style-align-left,.ck-content .image-style-align-right{clear:none}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing);max-width:50%}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-block-align-right{margin-left:auto;margin-right:0}.ck-content .image-style-block-align-left{margin-left:0;margin-right:auto}.ck-content p+.image-style-align-left,.ck-content p+.image-style-align-right,.ck-content p+.image-style-side{margin-top:0}.ck-content .image-inline.image-style-align-left,.ck-content .image-inline.image-style-align-right{margin-bottom:var(--ck-inline-image-style-spacing);margin-top:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-left{margin-right:var(--ck-inline-image-style-spacing)}.ck-content .image-inline.image-style-align-right{margin-left:var(--ck-inline-image-style-spacing)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-background)}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__action:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):after,.ck.ck-splitbutton.ck-splitbutton_flatten:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover):after{display:none}.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__action:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled),.ck.ck-splitbutton.ck-splitbutton_flatten.ck-splitbutton_open:hover>.ck-splitbutton__arrow:not(.ck-disabled):not(:hover){background-color:var(--ck-color-button-on-hover-background)}',
                    '',
                ]);
                const s = o;
            },
            899: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-image-upload-complete-icon{border-radius:50%;display:block;position:absolute;right:min(var(--ck-spacing-medium),6%);top:min(var(--ck-spacing-medium),6%);z-index:1}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20;--ck-image-upload-icon-width:2px;--ck-image-upload-icon-is-visible:clamp(0px,100% - 50px,1px)}.ck-image-upload-complete-icon{animation-delay:0ms,3s;animation-duration:.5s,.5s;animation-fill-mode:forwards,forwards;animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;background:var(--ck-color-image-upload-icon-background);font-size:calc(1px*var(--ck-image-upload-icon-size));height:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size));opacity:0;overflow:hidden;width:calc(var(--ck-image-upload-icon-is-visible)*var(--ck-image-upload-icon-size))}.ck-image-upload-complete-icon:after{animation-delay:.5s;animation-duration:.5s;animation-fill-mode:forwards;animation-name:ck-upload-complete-icon-check;border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);box-sizing:border-box;height:0;left:25%;opacity:0;top:50%;transform:scaleX(-1) rotate(135deg);transform-origin:left top;width:0}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{height:0;opacity:1;width:0}33%{height:0;width:.3em}to{height:.45em;opacity:1;width:.3em}}',
                    '',
                ]);
                const s = o;
            },
            825: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck .ck-upload-placeholder-loader{align-items:center;display:flex;justify-content:center;left:0;position:absolute;top:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px;--ck-upload-placeholder-image-aspect-ratio:2.8}.ck .ck-image-upload-placeholder{margin:0;width:100%}.ck .ck-image-upload-placeholder.image-inline{width:calc(var(--ck-upload-placeholder-loader-size)*2*var(--ck-upload-placeholder-image-aspect-ratio))}.ck .ck-image-upload-placeholder img{aspect-ratio:var(--ck-upload-placeholder-image-aspect-ratio)}.ck .ck-upload-placeholder-loader{height:100%;width:100%}.ck .ck-upload-placeholder-loader:before{animation:ck-upload-placeholder-loader 1s linear infinite;border-radius:50%;border-right:2px solid transparent;border-top:3px solid var(--ck-color-upload-placeholder-loader);height:var(--ck-upload-placeholder-loader-size);width:var(--ck-upload-placeholder-loader-size)}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}',
                    '',
                ]);
                const s = o;
            },
            870: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck.ck-editor__editable .image,.ck.ck-editor__editable .image-inline{position:relative}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{left:0;position:absolute;top:0}.ck.ck-editor__editable .image-inline.ck-appear,.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar,.ck.ck-editor__editable .image-inline .ck-progress-bar{background:var(--ck-color-upload-bar-background);height:2px;transition:width .1s;width:0}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}',
                    '',
                ]);
                const s = o;
            },
            831: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}',
                    '',
                ]);
                const s = o;
            },
            399: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck .ck-link_selected{background:var(--ck-color-link-selected-background)}.ck .ck-link_selected span.image-inline{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-link-selected-background)}.ck .ck-fake-link-selection{background:var(--ck-color-link-fake-selection)}.ck .ck-fake-link-selection_collapsed{border-right:1px solid var(--ck-color-base-text);height:100%;margin-right:-1px;outline:1px solid hsla(0,0%,100%,.5)}',
                    '',
                ]);
                const s = o;
            },
            465: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{color:var(--ck-color-link-default);cursor:pointer;max-width:var(--ck-input-width);min-width:3em;padding:0 var(--ck-spacing-medium);text-align:center;text-overflow:ellipsis}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{max-width:100%;min-width:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview),[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}}',
                    '',
                ]);
                const s = o;
            },
            827: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form_layout-vertical .ck-button.ck-button-cancel,.ck.ck-link-form_layout-vertical .ck-button.ck-button-save{margin-top:var(--ck-spacing-medium)}.ck.ck-link-form_layout-vertical{min-width:var(--ck-input-width);padding:0}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical>.ck-button{border-radius:0;margin:0;padding:var(--ck-spacing-standard);width:50%}.ck.ck-link-form_layout-vertical>.ck-button:not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form_layout-vertical>.ck-button,[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical>.ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin:var(--ck-spacing-standard) var(--ck-spacing-large)}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{padding:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}',
                    '',
                ]);
                const s = o;
            },
            777: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([e.id, '.ck-content .media{clear:both;display:block;margin:.9em 0;min-width:15em}', '']);
                const s = o;
            },
            952: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-media__wrapper .ck-media__placeholder{align-items:center;display:flex;flex-direction:column}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{display:block;overflow:hidden}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{background:var(--ck-color-base-foreground);padding:calc(var(--ck-spacing-standard)*3)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{background-position:50%;background-size:cover;height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);min-width:var(--ck-media-embed-placeholder-icon-size)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{height:100%;width:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);font-style:italic;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-height:380px;max-width:300px}.ck-media__wrapper[data-oembed-url*="goo.gl/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.app.goo.gl"] .ck-media__placeholder__icon,.ck-media__wrapper[data-oembed-url*="maps.google.com"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Im0yMDYuNDc3IDI2MC45LTI4Ljk4NyAyOC45ODdhNS4yMTggNS4yMTggMCAwIDAgMy43OCAxLjYxaDQ5LjYyMWMxLjY5NCAwIDMuMTktLjc5OCA0LjE0Ni0yLjAzN3oiIGZpbGw9IiM1Yzg4YzUiLz48cGF0aCBkPSJNMjI2Ljc0MiAyMjIuOTg4Yy05LjI2NiAwLTE2Ljc3NyA3LjE3LTE2Ljc3NyAxNi4wMTQuMDA3IDIuNzYyLjY2MyA1LjQ3NCAyLjA5MyA3Ljg3NS40My43MDMuODMgMS40MDggMS4xOSAyLjEwNy4zMzMuNTAyLjY1IDEuMDA1Ljk1IDEuNTA4LjM0My40NzcuNjczLjk1Ny45ODggMS40NCAxLjMxIDEuNzY5IDIuNSAzLjUwMiAzLjYzNyA1LjE2OC43OTMgMS4yNzUgMS42ODMgMi42NCAyLjQ2NiAzLjk5IDIuMzYzIDQuMDk0IDQuMDA3IDguMDkyIDQuNiAxMy45MTR2LjAxMmMuMTgyLjQxMi41MTYuNjY2Ljg3OS42NjcuNDAzLS4wMDEuNzY4LS4zMTQuOTMtLjc5OS42MDMtNS43NTYgMi4yMzgtOS43MjkgNC41ODUtMTMuNzk0Ljc4Mi0xLjM1IDEuNjczLTIuNzE1IDIuNDY1LTMuOTkgMS4xMzctMS42NjYgMi4zMjgtMy40IDMuNjM4LTUuMTY5LjMxNS0uNDgyLjY0NS0uOTYyLjk4OC0xLjQzOS4zLS41MDMuNjE3LTEuMDA2Ljk1LTEuNTA4LjM1OS0uNy43Ni0xLjQwNCAxLjE5LTIuMTA3IDEuNDI2LTIuNDAyIDItNS4xMTQgMi4wMDQtNy44NzUgMC04Ljg0NC03LjUxMS0xNi4wMTQtMTYuNzc2LTE2LjAxNHoiIGZpbGw9IiNkZDRiM2UiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PGVsbGlwc2Ugcnk9IjUuNTY0IiByeD0iNS44MjgiIGN5PSIyMzkuMDAyIiBjeD0iMjI2Ljc0MiIgZmlsbD0iIzgwMmQyNyIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJNMTkwLjMwMSAyMzcuMjgzYy00LjY3IDAtOC40NTcgMy44NTMtOC40NTcgOC42MDZzMy43ODYgOC42MDcgOC40NTcgOC42MDdjMy4wNDMgMCA0LjgwNi0uOTU4IDYuMzM3LTIuNTE2IDEuNTMtMS41NTcgMi4wODctMy45MTMgMi4wODctNi4yOSAwLS4zNjItLjAyMy0uNzIyLS4wNjQtMS4wNzloLTguMjU3djMuMDQzaDQuODVjLS4xOTcuNzU5LS41MzEgMS40NS0xLjA1OCAxLjk4Ni0uOTQyLjk1OC0yLjAyOCAxLjU0OC0zLjkwMSAxLjU0OC0yLjg3NiAwLTUuMjA4LTIuMzcyLTUuMjA4LTUuMjk5IDAtMi45MjYgMi4zMzItNS4yOTkgNS4yMDgtNS4yOTkgMS4zOTkgMCAyLjYxOC40MDcgMy41ODQgMS4yOTNsMi4zODEtMi4zOGMwLS4wMDItLjAwMy0uMDA0LS4wMDQtLjAwNS0xLjU4OC0xLjUyNC0zLjYyLTIuMjE1LTUuOTU1LTIuMjE1em00LjQzIDUuNjYuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0ibTIxNS4xODQgMjUxLjkyOS03Ljk4IDcuOTc5IDI4LjQ3NyAyOC40NzVhNS4yMzMgNS4yMzMgMCAwIDAgLjQ0OS0yLjEyM3YtMzEuMTY1Yy0uNDY5LjY3NS0uOTM0IDEuMzQ5LTEuMzgyIDIuMDA1LS43OTIgMS4yNzUtMS42ODIgMi42NC0yLjQ2NSAzLjk5LTIuMzQ3IDQuMDY1LTMuOTgyIDguMDM4LTQuNTg1IDEzLjc5NC0uMTYyLjQ4NS0uNTI3Ljc5OC0uOTMuNzk5LS4zNjMtLjAwMS0uNjk3LS4yNTUtLjg3OS0uNjY3di0uMDEyYy0uNTkzLTUuODIyLTIuMjM3LTkuODItNC42LTEzLjkxNC0uNzgzLTEuMzUtMS42NzMtMi43MTUtMi40NjYtMy45OS0xLjEzNy0xLjY2Ni0yLjMyNy0zLjQtMy42MzctNS4xNjlsLS4wMDItLjAwM3oiIGZpbGw9IiNjM2MzYzMiLz48cGF0aCBkPSJtMjEyLjk4MyAyNDguNDk1LTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOCA1LjIzOGgxLjAxNWwzNS42NjYtMzUuNjY2YTEzNi4yNzUgMTM2LjI3NSAwIDAgMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAgMC0uOTg5LTEuNDQgMzUuMTI3IDM1LjEyNyAwIDAgMC0uOTUtMS41MDhjLS4wODMtLjE2Mi0uMTc2LS4zMjYtLjI2NC0uNDg5eiIgZmlsbD0iI2ZkZGM0ZiIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48cGF0aCBkPSJtMjExLjk5OCAyNjEuMDgzLTYuMTUyIDYuMTUxIDI0LjI2NCAyNC4yNjRoLjc4MWE1LjIyNyA1LjIyNyAwIDAgMCA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OVptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OVoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzNabTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1Wk00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIiBzdHlsZT0iZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCA0MDAgNDAwIiB4bWw6c3BhY2U9InByZXNlcnZlIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIHN0eWxlPSJmaWxsOiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}',
                    '',
                ]);
                const s = o;
            },
            525: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck.ck-media-form{align-items:flex-start;display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}',
                    '',
                ]);
                const s = o;
            },
            85: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0;width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2)}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{border:1px solid var(--ck-color-base-border);border-radius:1px;height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);outline:none;width:var(--ck-insert-table-dropdown-box-width)}.ck .ck-insert-table-dropdown-grid-box.ck-on{background:var(--ck-color-focus-outer-shadow);border-color:var(--ck-color-focus-border)}',
                    '',
                ]);
                const s = o;
            },
            104: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-content .table{display:table;margin:.9em auto}.ck-content .table table{border:1px double #b3b3b3;border-collapse:collapse;border-spacing:0;height:100%;width:100%}.ck-content .table table td,.ck-content .table table th{border:1px solid #bfbfbf;min-width:2em;padding:.4em}.ck-content .table table th{background:rgba(0,0,0,.05);font-weight:700}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}.ck-editor__editable .ck-table-bogus-paragraph{display:inline-block;width:100%}',
                    '',
                ]);
                const s = o;
            },
            844: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    ':root{--ck-color-table-focused-cell-background:rgba(158,201,250,.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}',
                    '',
                ]);
                const s = o;
            },
            593: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    ':root{--ck-table-selected-cell-background:rgba(158,207,250,.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{box-shadow:unset;caret-color:transparent;outline:unset;position:relative}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{background-color:var(--ck-table-selected-cell-background);bottom:0;content:"";left:0;pointer-events:none;position:absolute;right:0;top:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget{outline:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget>.ck-widget__selection-handle{display:none}',
                    '',
                ]);
                const s = o;
            },
            590: (e, t, i) => {
                'use strict';
                i.d(t, { Z: () => s });
                var n = i(645),
                    o = i.n(n)()(function (e) {
                        return e[1];
                    });
                o.push([
                    e.id,
                    '.ck-vertical-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck-vertical-form .ck-button:focus:after{display:none}@media screen and (max-width:600px){.ck.ck-responsive-form .ck-button:after{bottom:-1px;content:"";position:absolute;right:-1px;top:-1px;width:0;z-index:1}.ck.ck-responsive-form .ck-button:focus:after{display:none}}.ck-vertical-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form{padding:var(--ck-spacing-large)}.ck.ck-responsive-form:focus{outline:none}[dir=ltr] .ck.ck-responsive-form>:not(:first-child),[dir=rtl] .ck.ck-responsive-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-responsive-form{padding:0;width:calc(var(--ck-input-width)*.8)}.ck.ck-responsive-form .ck-labeled-field-view{margin:var(--ck-spacing-large) var(--ck-spacing-large) 0}.ck.ck-responsive-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-responsive-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-responsive-form>.ck-button:nth-last-child(2):after{border-right:1px solid var(--ck-color-base-border)}.ck.ck-responsive-form>.ck-button:last-child,.ck.ck-responsive-form>.ck-button:nth-last-child(2){border-radius:0;margin-top:var(--ck-spacing-large);padding:var(--ck-spacing-standard)}.ck.ck-responsive-form>.ck-button:last-child:not(:focus),.ck.ck-responsive-form>.ck-button:nth-last-child(2):not(:focus){border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-responsive-form>.ck-button:last-child,[dir=ltr] .ck.ck-responsive-form>.ck-button:nth-last-child(2),[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2){margin-left:0}[dir=rtl] .ck.ck-responsive-form>.ck-button:last-child:last-of-type,[dir=rtl] .ck.ck-responsive-form>.ck-button:nth-last-child(2):last-of-type{border-right:1px solid var(--ck-color-base-border)}}',
                    '',
                ]);
                const s = o;
            },
            645: (e) => {
                'use strict';
                e.exports = function (e) {
                    var t = [];
                    return (
                        (t.toString = function () {
                            return this.map(function (t) {
                                var i = e(t);
                                return t[2] ? '@media '.concat(t[2], ' {').concat(i, '}') : i;
                            }).join('');
                        }),
                        (t.i = function (e, i, n) {
                            'string' == typeof e && (e = [[null, e, '']]);
                            var o = {};
                            if (n)
                                for (var s = 0; s < this.length; s++) {
                                    var r = this[s][0];
                                    null != r && (o[r] = !0);
                                }
                            for (var a = 0; a < e.length; a++) {
                                var l = [].concat(e[a]);
                                (n && o[l[0]]) || (i && (l[2] ? (l[2] = ''.concat(i, ' and ').concat(l[2])) : (l[2] = i)), t.push(l));
                            }
                        }),
                        t
                    );
                };
            },
            379: (e, t, i) => {
                'use strict';
                var n,
                    o = function () {
                        return void 0 === n && (n = Boolean(window && document && document.all && !window.atob)), n;
                    },
                    s = (function () {
                        var e = {};
                        return function (t) {
                            if (void 0 === e[t]) {
                                var i = document.querySelector(t);
                                if (window.HTMLIFrameElement && i instanceof window.HTMLIFrameElement)
                                    try {
                                        i = i.contentDocument.head;
                                    } catch (e) {
                                        i = null;
                                    }
                                e[t] = i;
                            }
                            return e[t];
                        };
                    })(),
                    r = [];
                function a(e) {
                    for (var t = -1, i = 0; i < r.length; i++)
                        if (r[i].identifier === e) {
                            t = i;
                            break;
                        }
                    return t;
                }
                function l(e, t) {
                    for (var i = {}, n = [], o = 0; o < e.length; o++) {
                        var s = e[o],
                            l = t.base ? s[0] + t.base : s[0],
                            c = i[l] || 0,
                            d = ''.concat(l, ' ').concat(c);
                        i[l] = c + 1;
                        var u = a(d),
                            m = { css: s[1], media: s[2], sourceMap: s[3] };
                        -1 !== u ? (r[u].references++, r[u].updater(m)) : r.push({ identifier: d, updater: f(m, t), references: 1 }), n.push(d);
                    }
                    return n;
                }
                function c(e) {
                    var t = document.createElement('style'),
                        n = e.attributes || {};
                    if (void 0 === n.nonce) {
                        var o = i.nc;
                        o && (n.nonce = o);
                    }
                    if (
                        (Object.keys(n).forEach(function (e) {
                            t.setAttribute(e, n[e]);
                        }),
                        'function' == typeof e.insert)
                    )
                        e.insert(t);
                    else {
                        var r = s(e.insert || 'head');
                        if (!r) throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");
                        r.appendChild(t);
                    }
                    return t;
                }
                var d,
                    u =
                        ((d = []),
                        function (e, t) {
                            return (d[e] = t), d.filter(Boolean).join('\n');
                        });
                function m(e, t, i, n) {
                    var o = i ? '' : n.media ? '@media '.concat(n.media, ' {').concat(n.css, '}') : n.css;
                    if (e.styleSheet) e.styleSheet.cssText = u(t, o);
                    else {
                        var s = document.createTextNode(o),
                            r = e.childNodes;
                        r[t] && e.removeChild(r[t]), r.length ? e.insertBefore(s, r[t]) : e.appendChild(s);
                    }
                }
                function g(e, t, i) {
                    var n = i.css,
                        o = i.media,
                        s = i.sourceMap;
                    if (
                        (o ? e.setAttribute('media', o) : e.removeAttribute('media'),
                        s &&
                            'undefined' != typeof btoa &&
                            (n += '\n/*# sourceMappingURL=data:application/json;base64,'.concat(btoa(unescape(encodeURIComponent(JSON.stringify(s)))), ' */')),
                        e.styleSheet)
                    )
                        e.styleSheet.cssText = n;
                    else {
                        for (; e.firstChild; ) e.removeChild(e.firstChild);
                        e.appendChild(document.createTextNode(n));
                    }
                }
                var h = null,
                    p = 0;
                function f(e, t) {
                    var i, n, o;
                    if (t.singleton) {
                        var s = p++;
                        (i = h || (h = c(t))), (n = m.bind(null, i, s, !1)), (o = m.bind(null, i, s, !0));
                    } else
                        (i = c(t)),
                            (n = g.bind(null, i, t)),
                            (o = function () {
                                !(function (e) {
                                    if (null === e.parentNode) return !1;
                                    e.parentNode.removeChild(e);
                                })(i);
                            });
                    return (
                        n(e),
                        function (t) {
                            if (t) {
                                if (t.css === e.css && t.media === e.media && t.sourceMap === e.sourceMap) return;
                                n((e = t));
                            } else o();
                        }
                    );
                }
                e.exports = function (e, t) {
                    (t = t || {}).singleton || 'boolean' == typeof t.singleton || (t.singleton = o());
                    var i = l((e = e || []), t);
                    return function (e) {
                        if (((e = e || []), '[object Array]' === Object.prototype.toString.call(e))) {
                            for (var n = 0; n < i.length; n++) {
                                var o = a(i[n]);
                                r[o].references--;
                            }
                            for (var s = l(e, t), c = 0; c < i.length; c++) {
                                var d = a(i[c]);
                                0 === r[d].references && (r[d].updater(), r.splice(d, 1));
                            }
                            i = s;
                        }
                    };
                };
            },
            945: (e, t, i) => {
                e.exports = i(79)('./src/clipboard.js');
            },
            704: (e, t, i) => {
                e.exports = i(79)('./src/core.js');
            },
            492: (e, t, i) => {
                e.exports = i(79)('./src/engine.js');
            },
            331: (e, t, i) => {
                e.exports = i(79)('./src/enter.js');
            },
            747: (e, t, i) => {
                e.exports = i(79)('./src/paragraph.js');
            },
            468: (e, t, i) => {
                e.exports = i(79)('./src/select-all.js');
            },
            181: (e, t, i) => {
                e.exports = i(79)('./src/typing.js');
            },
            273: (e, t, i) => {
                e.exports = i(79)('./src/ui.js');
            },
            254: (e, t, i) => {
                e.exports = i(79)('./src/undo.js');
            },
            448: (e, t, i) => {
                e.exports = i(79)('./src/upload.js');
            },
            209: (e, t, i) => {
                e.exports = i(79)('./src/utils.js');
            },
            995: (e, t, i) => {
                e.exports = i(79)('./src/widget.js');
            },
            79: (e) => {
                'use strict';
                e.exports = CKEditor5.dll;
            },
        },
        t = {};
    function i(n) {
        var o = t[n];
        if (void 0 !== o) return o.exports;
        var s = (t[n] = { id: n, exports: {} });
        return e[n](s, s.exports, i), s.exports;
    }
    (i.n = (e) => {
        var t = e && e.__esModule ? () => e.default : () => e;
        return i.d(t, { a: t }), t;
    }),
        (i.d = (e, t) => {
            for (var n in t) i.o(t, n) && !i.o(e, n) && Object.defineProperty(e, n, { enumerable: !0, get: t[n] });
        }),
        (i.g = (function () {
            if ('object' == typeof globalThis) return globalThis;
            try {
                return this || new Function('return this')();
            } catch (e) {
                if ('object' == typeof window) return window;
            }
        })()),
        (i.o = (e, t) => Object.prototype.hasOwnProperty.call(e, t)),
        (i.r = (e) => {
            'undefined' != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, { value: 'Module' }),
                Object.defineProperty(e, '__esModule', { value: !0 });
        }),
        (i.nc = void 0);
    var n = {};
    (() => {
        'use strict';
        i.r(n), i.d(n, { default: () => Ur, icons: () => Fr });
        const e =
            "<svg width='68' height='64' viewBox='0 0 68 64' xmlns='http://www.w3.org/2000/svg'><g fill='none' fill-rule='evenodd'><path d='M43.71 11.025a11.508 11.508 0 0 0-1.213 5.159c0 6.42 5.244 11.625 11.713 11.625.083 0 .167 0 .25-.002v16.282a5.464 5.464 0 0 1-2.756 4.739L30.986 60.7a5.548 5.548 0 0 1-5.512 0L4.756 48.828A5.464 5.464 0 0 1 2 44.089V20.344c0-1.955 1.05-3.76 2.756-4.738L25.474 3.733a5.548 5.548 0 0 1 5.512 0l12.724 7.292z' fill='#FFF'/><path d='M45.684 8.79a12.604 12.604 0 0 0-1.329 5.65c0 7.032 5.744 12.733 12.829 12.733.091 0 .183-.001.274-.003v17.834a5.987 5.987 0 0 1-3.019 5.19L31.747 63.196a6.076 6.076 0 0 1-6.037 0L3.02 50.193A5.984 5.984 0 0 1 0 45.003V18.997c0-2.14 1.15-4.119 3.019-5.19L25.71.804a6.076 6.076 0 0 1 6.037 0L45.684 8.79zm-29.44 11.89c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h25.489c.833 0 1.51-.67 1.51-1.498v-.715c0-.827-.677-1.498-1.51-1.498h-25.49.001zm0 9.227c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h18.479c.833 0 1.509-.67 1.509-1.498v-.715c0-.827-.676-1.498-1.51-1.498H16.244zm0 9.227c-.834 0-1.51.671-1.51 1.498v.715c0 .828.676 1.498 1.51 1.498h25.489c.833 0 1.51-.67 1.51-1.498v-.715c0-.827-.677-1.498-1.51-1.498h-25.49.001zm41.191-14.459c-5.835 0-10.565-4.695-10.565-10.486 0-5.792 4.73-10.487 10.565-10.487C63.27 3.703 68 8.398 68 14.19c0 5.791-4.73 10.486-10.565 10.486v-.001z' fill='#1EBC61' fill-rule='nonzero'/><path d='M60.857 15.995c0-.467-.084-.875-.251-1.225a2.547 2.547 0 0 0-.686-.88 2.888 2.888 0 0 0-1.026-.531 4.418 4.418 0 0 0-1.259-.175c-.134 0-.283.006-.447.018-.15.01-.3.034-.446.07l.075-1.4h3.587v-1.8h-5.462l-.214 5.06c.319-.116.682-.21 1.089-.28.406-.071.77-.107 1.088-.107.218 0 .437.021.655.063.218.041.413.114.585.218s.313.244.422.419c.109.175.163.391.163.65 0 .424-.132.745-.396.961a1.434 1.434 0 0 1-.938.325c-.352 0-.656-.1-.912-.3-.256-.2-.43-.453-.523-.762l-1.925.588c.1.35.258.664.472.943.214.279.47.514.767.706.298.191.63.339.995.443.365.104.749.156 1.151.156.437 0 .86-.064 1.272-.193.41-.13.778-.323 1.1-.581a2.8 2.8 0 0 0 .775-.981c.193-.396.29-.864.29-1.405h-.001z' fill='#FFF' fill-rule='nonzero'/></g></svg>\n";
        var t = i(704),
            o = i(209);
        const s = function (e) {
            return null != e && 'object' == typeof e;
        };
        const r = 'object' == typeof global && global && global.Object === Object && global;
        var a = 'object' == typeof self && self && self.Object === Object && self;
        const l = (r || a || Function('return this')()).Symbol;
        var c = Object.prototype,
            d = c.hasOwnProperty,
            u = c.toString,
            m = l ? l.toStringTag : void 0;
        const g = function (e) {
            var t = d.call(e, m),
                i = e[m];
            try {
                e[m] = void 0;
                var n = !0;
            } catch (e) {}
            var o = u.call(e);
            return n && (t ? (e[m] = i) : delete e[m]), o;
        };
        var h = Object.prototype.toString;
        const p = function (e) {
            return h.call(e);
        };
        var f = l ? l.toStringTag : void 0;
        const b = function (e) {
            return null == e ? (void 0 === e ? '[object Undefined]' : '[object Null]') : f && f in Object(e) ? g(e) : p(e);
        };
        const w = (function (e, t) {
            return function (i) {
                return e(t(i));
            };
        })(Object.getPrototypeOf, Object);
        var k = Function.prototype,
            v = Object.prototype,
            _ = k.toString,
            y = v.hasOwnProperty,
            I = _.call(Object);
        const C = function (e) {
            if (!s(e) || '[object Object]' != b(e)) return !1;
            var t = w(e);
            if (null === t) return !0;
            var i = y.call(t, 'constructor') && t.constructor;
            return 'function' == typeof i && i instanceof i && _.call(i) == I;
        };
        const A = function (e) {
            return s(e) && 1 === e.nodeType && !C(e);
        };
        var x = i(273),
            T = i(492);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class M extends t.EditorUI {
            constructor(e, t) {
                super(e), (this.view = t), (this._toolbarConfig = (0, x.normalizeToolbarConfig)(e.config.get('toolbar'))), (this._elementReplacer = new o.ElementReplacer());
            }
            get element() {
                return this.view.element;
            }
            init(e) {
                const t = this.editor,
                    i = this.view,
                    n = t.editing.view,
                    o = i.editable,
                    s = n.document.getRoot();
                (o.name = s.rootName), i.render();
                const r = o.element;
                this.setEditableElement(o.name, r),
                    i.editable.bind('isFocused').to(this.focusTracker),
                    n.attachDomRoot(r),
                    e && this._elementReplacer.replace(e, this.element),
                    this._initPlaceholder(),
                    this._initToolbar(),
                    this.fire('ready');
            }
            destroy() {
                const e = this.view,
                    t = this.editor.editing.view;
                this._elementReplacer.restore(), t.detachDomRoot(e.editable.name), e.destroy(), super.destroy();
            }
            _initToolbar() {
                const e = this.view;
                e.stickyPanel.bind('isActive').to(this.focusTracker, 'isFocused'),
                    (e.stickyPanel.limiterElement = e.element),
                    e.stickyPanel.bind('viewportTopOffset').to(this, 'viewportOffset', ({ top: e }) => e),
                    e.toolbar.fillFromConfig(this._toolbarConfig, this.componentFactory),
                    this.addToolbar(e.toolbar);
            }
            _initPlaceholder() {
                const e = this.editor,
                    t = e.editing.view,
                    i = t.document.getRoot(),
                    n = e.sourceElement,
                    o = e.config.get('placeholder') || (n && 'textarea' === n.tagName.toLowerCase() && n.getAttribute('placeholder'));
                o && (0, T.enablePlaceholder)({ view: t, element: i, text: o, isDirectHost: !1, keepOnFocus: !0 });
            }
        }
        var E = i(379),
            S = i.n(E),
            L = i(638),
            N = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(L.Z, N);
        L.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class j extends x.BoxedEditorUIView {
            constructor(e, t, i = {}) {
                super(e),
                    (this.stickyPanel = new x.StickyPanelView(e)),
                    (this.toolbar = new x.ToolbarView(e, { shouldGroupWhenFull: i.shouldToolbarGroupWhenFull })),
                    (this.editable = new x.InlineEditableUIView(e, t));
            }
            render() {
                super.render(), this.stickyPanel.content.add(this.toolbar), this.top.add(this.stickyPanel), this.main.add(this.editable);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class D extends t.Editor {
            constructor(e, i = {}) {
                if (!A(e) && void 0 !== i.initialData) throw new o.CKEditorError('editor-create-initial-data', null);
                super(i),
                    void 0 === this.config.get('initialData') &&
                        this.config.set(
                            'initialData',
                            (function (e) {
                                return A(e) ? (0, o.getDataFromElement)(e) : e;
                            })(e),
                        ),
                    A(e) && (this.sourceElement = e),
                    this.model.document.createRoot();
                const n = !this.config.get('toolbar.shouldNotGroupWhenFull'),
                    s = new j(this.locale, this.editing.view, { shouldToolbarGroupWhenFull: n });
                (this.ui = new M(this, s)), (0, t.attachToForm)(this);
            }
            destroy() {
                return this.sourceElement && this.updateSourceElement(), this.ui.destroy(), super.destroy();
            }
            static create(e, t = {}) {
                return new Promise((i) => {
                    const n = new this(e, t);
                    i(
                        n
                            .initPlugins()
                            .then(() => n.ui.init(A(e) ? e : null))
                            .then(() => n.data.init(n.config.get('initialData')))
                            .then(() => n.fire('ready'))
                            .then(() => n),
                    );
                });
            }
        }
        (0, o.mix)(D, t.DataApiMixin), (0, o.mix)(D, t.ElementApiMixin);
        var z = i(945),
            P = i(331),
            B = i(468),
            R = i(181),
            O = i(254);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class V extends t.Plugin {
            static get requires() {
                return [z.Clipboard, P.Enter, B.SelectAll, P.ShiftEnter, R.Typing, O.Undo];
            }
            static get pluginName() {
                return 'Essentials';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function U(e, t, i, n) {
            let s,
                r = null;
            'function' == typeof n
                ? (s = n)
                : ((r = e.commands.get(n)),
                  (s = () => {
                      e.execute(n);
                  })),
                e.model.document.on('change:data', (a, l) => {
                    if ((r && !r.isEnabled) || !t.isEnabled) return;
                    const c = (0, o.first)(e.model.document.selection.getRanges());
                    if (!c.isCollapsed) return;
                    if (l.isUndo || !l.isLocal) return;
                    const d = Array.from(e.model.document.differ.getChanges()),
                        u = d[0];
                    if (1 != d.length || 'insert' !== u.type || '$text' != u.name || 1 != u.length) return;
                    const m = u.position.parent;
                    if (m.is('element', 'codeBlock')) return;
                    if (m.is('element', 'listItem') && 'function' != typeof n && !['numberedList', 'bulletedList', 'todoList'].includes(n)) return;
                    if (r && !0 === r.value) return;
                    const g = m.getChild(0),
                        h = e.model.createRangeOn(g);
                    if (!h.containsRange(c) && !c.end.isEqual(h.end)) return;
                    const p = i.exec(g.data.substr(0, c.end.offset));
                    p &&
                        e.model.enqueueChange((t) => {
                            const i = t.createPositionAt(m, 0),
                                n = t.createPositionAt(m, p[0].length),
                                o = new T.LiveRange(i, n);
                            if (!1 !== s({ match: p })) {
                                t.remove(o);
                                const i = e.model.document.selection.getFirstRange(),
                                    n = t.createRangeIn(m);
                                !m.isEmpty || n.isEqual(i) || n.containsRange(i, !0) || t.remove(m);
                            }
                            o.detach(),
                                e.model.enqueueChange(() => {
                                    e.plugins.get('Delete').requestUndoOnBackspace();
                                });
                        });
                });
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function F(e, t, i, n) {
            let o, s;
            i instanceof RegExp ? (o = i) : (s = i),
                (s =
                    s ||
                    ((e) => {
                        let t;
                        const i = [],
                            n = [];
                        for (; null !== (t = o.exec(e)) && !(t && t.length < 4); ) {
                            let { index: e, 1: o, 2: s, 3: r } = t;
                            const a = o + s + r;
                            e += t[0].length - a.length;
                            const l = [e, e + o.length],
                                c = [e + o.length + s.length, e + o.length + s.length + r.length];
                            i.push(l), i.push(c), n.push([e + o.length, e + o.length + s.length]);
                        }
                        return { remove: i, format: n };
                    })),
                e.model.document.on('change:data', (i, o) => {
                    if (o.isUndo || !o.isLocal || !t.isEnabled) return;
                    const r = e.model,
                        a = r.document.selection;
                    if (!a.isCollapsed) return;
                    const l = Array.from(r.document.differ.getChanges()),
                        c = l[0];
                    if (1 != l.length || 'insert' !== c.type || '$text' != c.name || 1 != c.length) return;
                    const d = a.focus,
                        u = d.parent,
                        { text: m, range: g } = (function (e, t) {
                            let i = e.start;
                            return {
                                text: Array.from(e.getItems()).reduce(
                                    (e, n) => ((!n.is('$text') && !n.is('$textProxy')) || n.getAttribute('code') ? ((i = t.createPositionAfter(n)), '') : e + n.data),
                                    '',
                                ),
                                range: t.createRange(i, e.end),
                            };
                        })(r.createRange(r.createPositionAt(u, 0), d), r),
                        h = s(m),
                        p = H(g.start, h.format, r),
                        f = H(g.start, h.remove, r);
                    p.length &&
                        f.length &&
                        r.enqueueChange((t) => {
                            if (!1 !== n(t, p)) {
                                for (const e of f.reverse()) t.remove(e);
                                r.enqueueChange(() => {
                                    e.plugins.get('Delete').requestUndoOnBackspace();
                                });
                            }
                        });
                });
        }
        function H(e, t, i) {
            return t.filter((e) => void 0 !== e[0] && void 0 !== e[1]).map((t) => i.createRange(e.getShiftedBy(t[0]), e.getShiftedBy(t[1])));
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Y extends t.Plugin {
            static get requires() {
                return [R.Delete];
            }
            static get pluginName() {
                return 'Autoformat';
            }
            afterInit() {
                this._addListAutoformats(),
                    this._addBasicStylesAutoformats(),
                    this._addHeadingAutoformats(),
                    this._addBlockQuoteAutoformats(),
                    this._addCodeBlockAutoformats(),
                    this._addHorizontalLineAutoformats();
            }
            _addListAutoformats() {
                const e = this.editor.commands;
                e.get('bulletedList') && U(this.editor, this, /^[*-]\s$/, 'bulletedList'),
                    e.get('numberedList') && U(this.editor, this, /^1[.|)]\s$/, 'numberedList'),
                    e.get('todoList') && U(this.editor, this, /^\[\s?\]\s$/, 'todoList'),
                    e.get('checkTodoList') &&
                        U(this.editor, this, /^\[\s?x\s?\]\s$/, () => {
                            this.editor.execute('todoList'), this.editor.execute('checkTodoList');
                        });
            }
            _addBasicStylesAutoformats() {
                const e = this.editor.commands;
                if (e.get('bold')) {
                    const e = W(this.editor, 'bold');
                    F(this.editor, this, /(?:^|\s)(\*\*)([^*]+)(\*\*)$/g, e), F(this.editor, this, /(?:^|\s)(__)([^_]+)(__)$/g, e);
                }
                if (e.get('italic')) {
                    const e = W(this.editor, 'italic');
                    F(this.editor, this, /(?:^|\s)(\*)([^*_]+)(\*)$/g, e), F(this.editor, this, /(?:^|\s)(_)([^_]+)(_)$/g, e);
                }
                if (e.get('code')) {
                    const e = W(this.editor, 'code');
                    F(this.editor, this, /(`)([^`]+)(`)$/g, e);
                }
                if (e.get('strikethrough')) {
                    const e = W(this.editor, 'strikethrough');
                    F(this.editor, this, /(~~)([^~]+)(~~)$/g, e);
                }
            }
            _addHeadingAutoformats() {
                const e = this.editor.commands.get('heading');
                e &&
                    e.modelElements
                        .filter((e) => e.match(/^heading[1-6]$/))
                        .forEach((t) => {
                            const i = t[7],
                                n = new RegExp(`^(#{${i}})\\s$`);
                            U(this.editor, this, n, () => {
                                if (!e.isEnabled || e.value === t) return !1;
                                this.editor.execute('heading', { value: t });
                            });
                        });
            }
            _addBlockQuoteAutoformats() {
                this.editor.commands.get('blockQuote') && U(this.editor, this, /^>\s$/, 'blockQuote');
            }
            _addCodeBlockAutoformats() {
                const e = this.editor,
                    t = e.model.document.selection;
                e.commands.get('codeBlock') &&
                    U(e, this, /^```$/, () => {
                        if (t.getFirstPosition().parent.is('element', 'listItem')) return !1;
                        this.editor.execute('codeBlock', { usePreviousLanguageChoice: !0 });
                    });
            }
            _addHorizontalLineAutoformats() {
                this.editor.commands.get('horizontalLine') && U(this.editor, this, /^---$/, 'horizontalLine');
            }
        }
        function W(e, t) {
            return (i, n) => {
                if (!e.commands.get(t).isEnabled) return !1;
                const o = e.model.schema.getValidRanges(n, t);
                for (const e of o) i.setAttribute(t, !0, e);
                i.removeSelectionAttribute(t);
            };
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Z extends t.Command {
            refresh() {
                (this.value = this._getValue()), (this.isEnabled = this._checkEnabled());
            }
            execute(e = {}) {
                const t = this.editor.model,
                    i = t.schema,
                    n = t.document.selection,
                    o = Array.from(n.getSelectedBlocks()),
                    s = void 0 === e.forceValue ? !this.value : e.forceValue;
                t.change((e) => {
                    if (s) {
                        const t = o.filter((e) => Q(e) || $(i, e));
                        this._applyQuote(e, t);
                    } else this._removeQuote(e, o.filter(Q));
                });
            }
            _getValue() {
                const e = this.editor.model.document.selection,
                    t = (0, o.first)(e.getSelectedBlocks());
                return !(!t || !Q(t));
            }
            _checkEnabled() {
                if (this.value) return !0;
                const e = this.editor.model.document.selection,
                    t = this.editor.model.schema,
                    i = (0, o.first)(e.getSelectedBlocks());
                return !!i && $(t, i);
            }
            _removeQuote(e, t) {
                q(e, t)
                    .reverse()
                    .forEach((t) => {
                        if (t.start.isAtStart && t.end.isAtEnd) return void e.unwrap(t.start.parent);
                        if (t.start.isAtStart) {
                            const i = e.createPositionBefore(t.start.parent);
                            return void e.move(t, i);
                        }
                        t.end.isAtEnd || e.split(t.end);
                        const i = e.createPositionAfter(t.end.parent);
                        e.move(t, i);
                    });
            }
            _applyQuote(e, t) {
                const i = [];
                q(e, t)
                    .reverse()
                    .forEach((t) => {
                        let n = Q(t.start);
                        n || ((n = e.createElement('blockQuote')), e.wrap(t, n)), i.push(n);
                    }),
                    i.reverse().reduce((t, i) => (t.nextSibling == i ? (e.merge(e.createPositionAfter(t)), t) : i));
            }
        }
        function Q(e) {
            return 'blockQuote' == e.parent.name ? e.parent : null;
        }
        function q(e, t) {
            let i,
                n = 0;
            const o = [];
            for (; n < t.length; ) {
                const s = t[n],
                    r = t[n + 1];
                i || (i = e.createPositionBefore(s)), (r && s.nextSibling == r) || (o.push(e.createRange(i, e.createPositionAfter(s))), (i = null)), n++;
            }
            return o;
        }
        function $(e, t) {
            const i = e.checkChild(t.parent, 'blockQuote'),
                n = e.checkChild(['$root', 'blockQuote'], t);
            return i && n;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class G extends t.Plugin {
            static get pluginName() {
                return 'BlockQuoteEditing';
            }
            static get requires() {
                return [P.Enter, R.Delete];
            }
            init() {
                const e = this.editor,
                    t = e.model.schema;
                e.commands.add('blockQuote', new Z(e)),
                    t.register('blockQuote', { inheritAllFrom: '$container' }),
                    e.conversion.elementToElement({ model: 'blockQuote', view: 'blockquote' }),
                    e.model.document.registerPostFixer((i) => {
                        const n = e.model.document.differ.getChanges();
                        for (const e of n)
                            if ('insert' == e.type) {
                                const n = e.position.nodeAfter;
                                if (!n) continue;
                                if (n.is('element', 'blockQuote') && n.isEmpty) return i.remove(n), !0;
                                if (n.is('element', 'blockQuote') && !t.checkChild(e.position, n)) return i.unwrap(n), !0;
                                if (n.is('element')) {
                                    const e = i.createRangeIn(n);
                                    for (const n of e.getItems()) if (n.is('element', 'blockQuote') && !t.checkChild(i.createPositionBefore(n), n)) return i.unwrap(n), !0;
                                }
                            } else if ('remove' == e.type) {
                                const t = e.position.parent;
                                if (t.is('element', 'blockQuote') && t.isEmpty) return i.remove(t), !0;
                            }
                        return !1;
                    });
                const i = this.editor.editing.view.document,
                    n = e.model.document.selection,
                    o = e.commands.get('blockQuote');
                this.listenTo(
                    i,
                    'enter',
                    (t, i) => {
                        if (!n.isCollapsed || !o.value) return;
                        n.getLastPosition().parent.isEmpty && (e.execute('blockQuote'), e.editing.view.scrollToTheSelection(), i.preventDefault(), t.stop());
                    },
                    { context: 'blockquote' },
                ),
                    this.listenTo(
                        i,
                        'delete',
                        (t, i) => {
                            if ('backward' != i.direction || !n.isCollapsed || !o.value) return;
                            const s = n.getLastPosition().parent;
                            s.isEmpty && !s.previousSibling && (e.execute('blockQuote'), e.editing.view.scrollToTheSelection(), i.preventDefault(), t.stop());
                        },
                        { context: 'blockquote' },
                    );
            }
        }
        var K = i(636),
            J = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(K.Z, J);
        K.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class X extends t.Plugin {
            static get pluginName() {
                return 'BlockQuoteUI';
            }
            init() {
                const e = this.editor,
                    i = e.t;
                e.ui.componentFactory.add('blockQuote', (n) => {
                    const o = e.commands.get('blockQuote'),
                        s = new x.ButtonView(n);
                    return (
                        s.set({ label: i('Block quote'), icon: t.icons.quote, tooltip: !0, isToggleable: !0 }),
                        s.bind('isOn', 'isEnabled').to(o, 'value', 'isEnabled'),
                        this.listenTo(s, 'execute', () => {
                            e.execute('blockQuote'), e.editing.view.focus();
                        }),
                        s
                    );
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ee extends t.Plugin {
            static get requires() {
                return [G, X];
            }
            static get pluginName() {
                return 'BlockQuote';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class te extends t.Command {
            constructor(e, t) {
                super(e), (this.attributeKey = t);
            }
            refresh() {
                const e = this.editor.model,
                    t = e.document;
                (this.value = this._getValueFromFirstAllowedNode()), (this.isEnabled = e.schema.checkAttributeInSelection(t.selection, this.attributeKey));
            }
            execute(e = {}) {
                const t = this.editor.model,
                    i = t.document.selection,
                    n = void 0 === e.forceValue ? !this.value : e.forceValue;
                t.change((e) => {
                    if (i.isCollapsed) n ? e.setSelectionAttribute(this.attributeKey, !0) : e.removeSelectionAttribute(this.attributeKey);
                    else {
                        const o = t.schema.getValidRanges(i.getRanges(), this.attributeKey);
                        for (const t of o) n ? e.setAttribute(this.attributeKey, n, t) : e.removeAttribute(this.attributeKey, t);
                    }
                });
            }
            _getValueFromFirstAllowedNode() {
                const e = this.editor.model,
                    t = e.schema,
                    i = e.document.selection;
                if (i.isCollapsed) return i.hasAttribute(this.attributeKey);
                for (const e of i.getRanges()) for (const i of e.getItems()) if (t.checkAttribute(i, this.attributeKey)) return i.hasAttribute(this.attributeKey);
                return !1;
            }
        }
        class ie extends t.Plugin {
            static get pluginName() {
                return 'BoldEditing';
            }
            init() {
                const e = this.editor;
                e.model.schema.extend('$text', { allowAttributes: 'bold' }),
                    e.model.schema.setAttributeProperties('bold', { isFormatting: !0, copyOnEnter: !0 }),
                    e.conversion.attributeToElement({
                        model: 'bold',
                        view: 'strong',
                        upcastAlso: [
                            'b',
                            (e) => {
                                const t = e.getStyle('font-weight');
                                return t ? ('bold' == t || Number(t) >= 600 ? { name: !0, styles: ['font-weight'] } : void 0) : null;
                            },
                        ],
                    }),
                    e.commands.add('bold', new te(e, 'bold')),
                    e.keystrokes.set('CTRL+B', 'bold');
            }
        }
        class ne extends t.Plugin {
            static get pluginName() {
                return 'BoldUI';
            }
            init() {
                const e = this.editor,
                    t = e.t;
                e.ui.componentFactory.add('bold', (i) => {
                    const n = e.commands.get('bold'),
                        o = new x.ButtonView(i);
                    return (
                        o.set({
                            label: t('Bold'),
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',
                            keystroke: 'CTRL+B',
                            tooltip: !0,
                            isToggleable: !0,
                        }),
                        o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
                        this.listenTo(o, 'execute', () => {
                            e.execute('bold'), e.editing.view.focus();
                        }),
                        o
                    );
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class oe extends t.Plugin {
            static get requires() {
                return [ie, ne];
            }
            static get pluginName() {
                return 'Bold';
            }
        }
        var se = i(747);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class re extends t.Command {
            constructor(e, t) {
                super(e), (this.modelElements = t);
            }
            refresh() {
                const e = (0, o.first)(this.editor.model.document.selection.getSelectedBlocks());
                (this.value = !!e && this.modelElements.includes(e.name) && e.name), (this.isEnabled = !!e && this.modelElements.some((t) => ae(e, t, this.editor.model.schema)));
            }
            execute(e) {
                const t = this.editor.model,
                    i = t.document,
                    n = e.value;
                t.change((e) => {
                    const o = Array.from(i.selection.getSelectedBlocks()).filter((e) => ae(e, n, t.schema));
                    for (const t of o) t.is('element', n) || e.rename(t, n);
                });
            }
        }
        function ae(e, t, i) {
            return i.checkChild(e.parent, t) && !i.isObject(e);
        }
        class le extends t.Plugin {
            static get pluginName() {
                return 'HeadingEditing';
            }
            constructor(e) {
                super(e),
                    e.config.define('heading', {
                        options: [
                            { model: 'paragraph', title: 'Paragraph', class: 'ck-heading_paragraph' },
                            { model: 'heading1', view: 'h2', title: 'Heading 1', class: 'ck-heading_heading1' },
                            { model: 'heading2', view: 'h3', title: 'Heading 2', class: 'ck-heading_heading2' },
                            { model: 'heading3', view: 'h4', title: 'Heading 3', class: 'ck-heading_heading3' },
                        ],
                    });
            }
            static get requires() {
                return [se.Paragraph];
            }
            init() {
                const e = this.editor,
                    t = e.config.get('heading.options'),
                    i = [];
                for (const n of t) 'paragraph' !== n.model && (e.model.schema.register(n.model, { inheritAllFrom: '$block' }), e.conversion.elementToElement(n), i.push(n.model));
                this._addDefaultH1Conversion(e), e.commands.add('heading', new re(e, i));
            }
            afterInit() {
                const e = this.editor,
                    t = e.commands.get('enter'),
                    i = e.config.get('heading.options');
                t &&
                    this.listenTo(t, 'afterExecute', (t, n) => {
                        const o = e.model.document.selection.getFirstPosition().parent;
                        i.some((e) => o.is('element', e.model)) && !o.is('element', 'paragraph') && 0 === o.childCount && n.writer.rename(o, 'paragraph');
                    });
            }
            _addDefaultH1Conversion(e) {
                e.conversion.for('upcast').elementToElement({ model: 'heading1', view: 'h1', converterPriority: o.priorities.get('low') + 1 });
            }
        }
        var ce = i(230),
            de = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(ce.Z, de);
        ce.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ue extends t.Plugin {
            static get pluginName() {
                return 'HeadingUI';
            }
            init() {
                const e = this.editor,
                    t = e.t,
                    i =
                        /**
                         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                         */
                        (function (e) {
                            const t = e.t,
                                i = {
                                    Paragraph: t('Paragraph'),
                                    'Heading 1': t('Heading 1'),
                                    'Heading 2': t('Heading 2'),
                                    'Heading 3': t('Heading 3'),
                                    'Heading 4': t('Heading 4'),
                                    'Heading 5': t('Heading 5'),
                                    'Heading 6': t('Heading 6'),
                                };
                            return e.config.get('heading.options').map((e) => {
                                const t = i[e.title];
                                return t && t != e.title && (e.title = t), e;
                            });
                        })(e),
                    n = t('Choose heading'),
                    s = t('Heading');
                e.ui.componentFactory.add('heading', (t) => {
                    const r = {},
                        a = new o.Collection(),
                        l = e.commands.get('heading'),
                        c = e.commands.get('paragraph'),
                        d = [l];
                    for (const e of i) {
                        const t = { type: 'button', model: new x.Model({ label: e.title, class: e.class, withText: !0 }) };
                        'paragraph' === e.model
                            ? (t.model.bind('isOn').to(c, 'value'), t.model.set('commandName', 'paragraph'), d.push(c))
                            : (t.model.bind('isOn').to(l, 'value', (t) => t === e.model), t.model.set({ commandName: 'heading', commandValue: e.model })),
                            a.add(t),
                            (r[e.model] = e.title);
                    }
                    const u = (0, x.createDropdown)(t);
                    return (
                        (0, x.addListToDropdown)(u, a),
                        u.buttonView.set({ isOn: !1, withText: !0, tooltip: s }),
                        u.extendTemplate({ attributes: { class: ['ck-heading-dropdown'] } }),
                        u.bind('isEnabled').toMany(d, 'isEnabled', (...e) => e.some((e) => e)),
                        u.buttonView.bind('label').to(l, 'value', c, 'value', (e, t) => {
                            const i = e || (t && 'paragraph');
                            return r[i] ? r[i] : n;
                        }),
                        this.listenTo(u, 'execute', (t) => {
                            e.execute(t.source.commandName, t.source.commandValue ? { value: t.source.commandValue } : void 0), e.editing.view.focus();
                        }),
                        u
                    );
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class me extends t.Plugin {
            static get requires() {
                return [le, ue];
            }
            static get pluginName() {
                return 'Heading';
            }
        }
        var ge = i(995);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class he extends t.Command {
            refresh() {
                const e = this.editor.plugins.get('ImageUtils').getClosestSelectedImageElement(this.editor.model.document.selection);
                (this.isEnabled = !!e), this.isEnabled && e.hasAttribute('alt') ? (this.value = e.getAttribute('alt')) : (this.value = !1);
            }
            execute(e) {
                const t = this.editor,
                    i = t.plugins.get('ImageUtils'),
                    n = t.model,
                    o = i.getClosestSelectedImageElement(n.document.selection);
                n.change((t) => {
                    t.setAttribute('alt', e.newValue, o);
                });
            }
        }
        function pe(e) {
            return e.createContainerElement('figure', { class: 'image' }, [e.createEmptyElement('img'), e.createSlot()]);
        }
        function fe(e, t) {
            const i = e.plugins.get('ImageUtils'),
                n = e.plugins.has('ImageInlineEditing') && e.plugins.has('ImageBlockEditing');
            return (e) => {
                if (!i.isInlineImageView(e)) return null;
                if (!n) return o(e);
                return (e.findAncestor(i.isBlockImageView) ? 'imageBlock' : 'imageInline') !== t ? null : o(e);
            };
            function o(e) {
                const t = { name: !0 };
                return e.hasAttribute('src') && (t.attributes = ['src']), t;
            }
        }
        function be(e, t) {
            const i = (0, o.first)(t.getSelectedBlocks());
            return !i || e.isObject(i) || (i.isEmpty && 'listItem' != i.name) ? 'imageBlock' : 'imageInline';
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class we extends t.Plugin {
            static get pluginName() {
                return 'ImageUtils';
            }
            isImage(e) {
                return this.isInlineImage(e) || this.isBlockImage(e);
            }
            isInlineImageView(e) {
                return !!e && e.is('element', 'img');
            }
            isBlockImageView(e) {
                return !!e && e.is('element', 'figure') && e.hasClass('image');
            }
            insertImage(e = {}, t = null, i = null) {
                const n = this.editor,
                    o = n.model,
                    s = o.document.selection;
                (i = ke(n, t || s, i)), (e = { ...Object.fromEntries(s.getAttributes()), ...e });
                for (const t in e) o.schema.checkAttribute(i, t) || delete e[t];
                return o.change((n) => {
                    const s = n.createElement(i, e);
                    return o.insertObject(s, t, null, { setSelection: 'on', findOptimalPosition: !t && 'imageInline' != i }), s.parent ? s : null;
                });
            }
            getClosestSelectedImageWidget(e) {
                const t = e.getFirstPosition();
                if (!t) return null;
                const i = e.getSelectedElement();
                if (i && this.isImageWidget(i)) return i;
                let n = t.parent;
                for (; n; ) {
                    if (n.is('element') && this.isImageWidget(n)) return n;
                    n = n.parent;
                }
                return null;
            }
            getClosestSelectedImageElement(e) {
                const t = e.getSelectedElement();
                return this.isImage(t) ? t : e.getFirstPosition().findAncestor('imageBlock');
            }
            isImageAllowed() {
                const e = this.editor.model.document.selection;
                return (
                    (function (e, t) {
                        if ('imageBlock' == ke(e, t)) {
                            const i = (function (e, t) {
                                const i = (0, ge.findOptimalInsertionRange)(e, t).start.parent;
                                if (i.isEmpty && !i.is('element', '$root')) return i.parent;
                                return i;
                            })(t, e.model);
                            if (e.model.schema.checkChild(i, 'imageBlock')) return !0;
                        } else if (e.model.schema.checkChild(t.focus, 'imageInline')) return !0;
                        return !1;
                    })(this.editor, e) &&
                    (function (e) {
                        return [...e.focus.getAncestors()].every((e) => !e.is('element', 'imageBlock'));
                    })(e)
                );
            }
            toImageWidget(e, t, i) {
                t.setCustomProperty('image', !0, e);
                return (0, ge.toWidget)(e, t, {
                    label: () => {
                        const t = this.findViewImgElement(e).getAttribute('alt');
                        return t ? `${t} ${i}` : i;
                    },
                });
            }
            isImageWidget(e) {
                return !!e.getCustomProperty('image') && (0, ge.isWidget)(e);
            }
            isBlockImage(e) {
                return !!e && e.is('element', 'imageBlock');
            }
            isInlineImage(e) {
                return !!e && e.is('element', 'imageInline');
            }
            findViewImgElement(e) {
                if (this.isInlineImageView(e)) return e;
                const t = this.editor.editing.view;
                for (const { item: i } of t.createRangeIn(e)) if (this.isInlineImageView(i)) return i;
            }
        }
        function ke(e, t, i) {
            const n = e.model.schema,
                o = e.config.get('image.insert.type');
            return e.plugins.has('ImageBlockEditing')
                ? e.plugins.has('ImageInlineEditing')
                    ? i ||
                      ('inline' === o ? 'imageInline' : 'block' === o ? 'imageBlock' : t.is('selection') ? be(n, t) : n.checkChild(t, 'imageInline') ? 'imageInline' : 'imageBlock')
                    : 'imageBlock'
                : 'imageInline';
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ve extends t.Plugin {
            static get requires() {
                return [we];
            }
            static get pluginName() {
                return 'ImageTextAlternativeEditing';
            }
            init() {
                this.editor.commands.add('imageTextAlternative', new he(this.editor));
            }
        }
        var _e = i(831),
            ye = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(_e.Z, ye);
        _e.Z.locals;
        var Ie = i(590),
            Ce = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Ie.Z, Ce);
        Ie.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ae extends x.View {
            constructor(e) {
                super(e);
                const i = this.locale.t;
                (this.focusTracker = new o.FocusTracker()),
                    (this.keystrokes = new o.KeystrokeHandler()),
                    (this.labeledInput = this._createLabeledInputView()),
                    (this.saveButtonView = this._createButton(i('Save'), t.icons.check, 'ck-button-save')),
                    (this.saveButtonView.type = 'submit'),
                    (this.cancelButtonView = this._createButton(i('Cancel'), t.icons.cancel, 'ck-button-cancel', 'cancel')),
                    (this._focusables = new x.ViewCollection()),
                    (this._focusCycler = new x.FocusCycler({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: { focusPrevious: 'shift + tab', focusNext: 'tab' },
                    })),
                    this.setTemplate({
                        tag: 'form',
                        attributes: { class: ['ck', 'ck-text-alternative-form', 'ck-responsive-form'], tabindex: '-1' },
                        children: [this.labeledInput, this.saveButtonView, this.cancelButtonView],
                    }),
                    (0, x.injectCssTransitionDisabler)(this);
            }
            render() {
                super.render(),
                    this.keystrokes.listenTo(this.element),
                    (0, x.submitHandler)({ view: this }),
                    [this.labeledInput, this.saveButtonView, this.cancelButtonView].forEach((e) => {
                        this._focusables.add(e), this.focusTracker.add(e.element);
                    });
            }
            destroy() {
                super.destroy(), this.focusTracker.destroy(), this.keystrokes.destroy();
            }
            _createButton(e, t, i, n) {
                const o = new x.ButtonView(this.locale);
                return o.set({ label: e, icon: t, tooltip: !0 }), o.extendTemplate({ attributes: { class: i } }), n && o.delegate('execute').to(this, n), o;
            }
            _createLabeledInputView() {
                const e = this.locale.t,
                    t = new x.LabeledFieldView(this.locale, x.createLabeledInputText);
                return (t.label = e('Text alternative')), t;
            }
        }
        function xe(e) {
            const t = e.editing.view,
                i = x.BalloonPanelView.defaultPositions,
                n = e.plugins.get('ImageUtils');
            return {
                target: t.domConverter.mapViewToDom(n.getClosestSelectedImageWidget(t.document.selection)),
                positions: [
                    i.northArrowSouth,
                    i.northArrowSouthWest,
                    i.northArrowSouthEast,
                    i.southArrowNorth,
                    i.southArrowNorthWest,
                    i.southArrowNorthEast,
                    i.viewportStickyNorth,
                ],
            };
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Te extends t.Plugin {
            static get requires() {
                return [x.ContextualBalloon];
            }
            static get pluginName() {
                return 'ImageTextAlternativeUI';
            }
            init() {
                this._createButton(), this._createForm();
            }
            destroy() {
                super.destroy(), this._form.destroy();
            }
            _createButton() {
                const e = this.editor,
                    i = e.t;
                e.ui.componentFactory.add('imageTextAlternative', (n) => {
                    const o = e.commands.get('imageTextAlternative'),
                        s = new x.ButtonView(n);
                    return (
                        s.set({ label: i('Change image text alternative'), icon: t.icons.lowVision, tooltip: !0 }),
                        s.bind('isEnabled').to(o, 'isEnabled'),
                        this.listenTo(s, 'execute', () => {
                            this._showForm();
                        }),
                        s
                    );
                });
            }
            _createForm() {
                const e = this.editor,
                    t = e.editing.view.document,
                    i = e.plugins.get('ImageUtils');
                (this._balloon = this.editor.plugins.get('ContextualBalloon')),
                    (this._form = new Ae(e.locale)),
                    this._form.render(),
                    this.listenTo(this._form, 'submit', () => {
                        e.execute('imageTextAlternative', { newValue: this._form.labeledInput.fieldView.element.value }), this._hideForm(!0);
                    }),
                    this.listenTo(this._form, 'cancel', () => {
                        this._hideForm(!0);
                    }),
                    this._form.keystrokes.set('Esc', (e, t) => {
                        this._hideForm(!0), t();
                    }),
                    this.listenTo(e.ui, 'update', () => {
                        i.getClosestSelectedImageWidget(t.selection)
                            ? this._isVisible &&
                              /**
                               * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                               * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                               */
                              (function (e) {
                                  const t = e.plugins.get('ContextualBalloon');
                                  if (e.plugins.get('ImageUtils').getClosestSelectedImageWidget(e.editing.view.document.selection)) {
                                      const i = xe(e);
                                      t.updatePosition(i);
                                  }
                              })(e)
                            : this._hideForm(!0);
                    }),
                    (0, x.clickOutsideHandler)({
                        emitter: this._form,
                        activator: () => this._isVisible,
                        contextElements: [this._balloon.view.element],
                        callback: () => this._hideForm(),
                    });
            }
            _showForm() {
                if (this._isVisible) return;
                const e = this.editor,
                    t = e.commands.get('imageTextAlternative'),
                    i = this._form.labeledInput;
                this._form.disableCssTransitions(),
                    this._isInBalloon || this._balloon.add({ view: this._form, position: xe(e) }),
                    (i.fieldView.value = i.fieldView.element.value = t.value || ''),
                    this._form.labeledInput.fieldView.select(),
                    this._form.enableCssTransitions();
            }
            _hideForm(e) {
                this._isInBalloon &&
                    (this._form.focusTracker.isFocused && this._form.saveButtonView.focus(), this._balloon.remove(this._form), e && this.editor.editing.view.focus());
            }
            get _isVisible() {
                return this._balloon.visibleView === this._form;
            }
            get _isInBalloon() {
                return this._balloon.hasView(this._form);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Me extends t.Plugin {
            static get requires() {
                return [ve, Te];
            }
            static get pluginName() {
                return 'ImageTextAlternative';
            }
        }
        function Ee(e, t) {
            return (e) => {
                e.on('attribute:srcset:' + t, i);
            };
            function i(t, i, n) {
                if (!n.consumable.consume(i.item, t.name)) return;
                const o = n.writer,
                    s = n.mapper.toViewElement(i.item),
                    r = e.findViewImgElement(s);
                if (null === i.attributeNewValue) {
                    const e = i.attributeOldValue;
                    e.data && (o.removeAttribute('srcset', r), o.removeAttribute('sizes', r), e.width && o.removeAttribute('width', r));
                } else {
                    const e = i.attributeNewValue;
                    e.data && (o.setAttribute('srcset', e.data, r), o.setAttribute('sizes', '100vw', r), e.width && o.setAttribute('width', e.width, r));
                }
            }
        }
        function Se(e, t, i) {
            return (e) => {
                e.on(`attribute:${i}:${t}`, n);
            };
            function n(t, i, n) {
                if (!n.consumable.consume(i.item, t.name)) return;
                const o = n.writer,
                    s = n.mapper.toViewElement(i.item),
                    r = e.findViewImgElement(s);
                o.setAttribute(i.attributeKey, i.attributeNewValue || '', r);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Le extends T.Observer {
            observe(e) {
                this.listenTo(
                    e,
                    'load',
                    (e, t) => {
                        const i = t.target;
                        this.checkShouldIgnoreEventFromTarget(i) || ('IMG' == i.tagName && this._fireEvents(t));
                    },
                    { useCapture: !0 },
                );
            }
            _fireEvents(e) {
                this.isEnabled && (this.document.fire('layoutChanged'), this.document.fire('imageLoaded', e));
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ne extends t.Command {
            constructor(e) {
                super(e);
                const t = e.config.get('image.insert.type');
                e.plugins.has('ImageBlockEditing') || ('block' === t && (0, o.logWarning)('image-block-plugin-required')),
                    e.plugins.has('ImageInlineEditing') || ('inline' === t && (0, o.logWarning)('image-inline-plugin-required'));
            }
            refresh() {
                this.isEnabled = this.editor.plugins.get('ImageUtils').isImageAllowed();
            }
            execute(e) {
                const t = (0, o.toArray)(e.source),
                    i = this.editor.model.document.selection,
                    n = this.editor.plugins.get('ImageUtils'),
                    s = Object.fromEntries(i.getAttributes());
                t.forEach((e, t) => {
                    const o = i.getSelectedElement();
                    if (('string' == typeof e && (e = { src: e }), t && o && n.isImage(o))) {
                        const t = this.editor.model.createPositionAfter(o);
                        n.insertImage({ ...e, ...s }, t);
                    } else n.insertImage({ ...e, ...s });
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class je extends t.Plugin {
            static get requires() {
                return [we];
            }
            static get pluginName() {
                return 'ImageEditing';
            }
            init() {
                const e = this.editor,
                    t = e.conversion;
                e.editing.view.addObserver(Le),
                    t
                        .for('upcast')
                        .attributeToAttribute({ view: { name: 'img', key: 'alt' }, model: 'alt' })
                        .attributeToAttribute({
                            view: { name: 'img', key: 'srcset' },
                            model: {
                                key: 'srcset',
                                value: (e) => {
                                    const t = { data: e.getAttribute('srcset') };
                                    return e.hasAttribute('width') && (t.width = e.getAttribute('width')), t;
                                },
                            },
                        });
                const i = new Ne(e);
                e.commands.add('insertImage', i), e.commands.add('imageInsert', i);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class De extends t.Command {
            constructor(e, t) {
                super(e), (this._modelElementName = t);
            }
            refresh() {
                const e = this.editor.plugins.get('ImageUtils'),
                    t = e.getClosestSelectedImageElement(this.editor.model.document.selection);
                'imageBlock' === this._modelElementName ? (this.isEnabled = e.isInlineImage(t)) : (this.isEnabled = e.isBlockImage(t));
            }
            execute() {
                const e = this.editor,
                    t = this.editor.model,
                    i = e.plugins.get('ImageUtils'),
                    n = i.getClosestSelectedImageElement(t.document.selection),
                    o = Object.fromEntries(n.getAttributes());
                return o.src || o.uploadId
                    ? t.change((e) => {
                          const s = Array.from(t.markers).filter((e) => e.getRange().containsItem(n)),
                              r = i.insertImage(o, t.createSelection(n, 'on'), this._modelElementName);
                          if (!r) return null;
                          const a = e.createRangeOn(r);
                          for (const t of s) {
                              const i = t.getRange(),
                                  n = '$graveyard' != i.root.rootName ? i.getJoined(a, !0) : a;
                              e.updateMarker(t, { range: n });
                          }
                          return { oldElement: n, newElement: r };
                      })
                    : null;
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ze extends t.Plugin {
            static get requires() {
                return [je, we, z.ClipboardPipeline];
            }
            static get pluginName() {
                return 'ImageBlockEditing';
            }
            init() {
                const e = this.editor;
                e.model.schema.register('imageBlock', { inheritAllFrom: '$blockObject', allowAttributes: ['alt', 'src', 'srcset'] }),
                    this._setupConversion(),
                    e.plugins.has('ImageInlineEditing') && (e.commands.add('imageTypeBlock', new De(this.editor, 'imageBlock')), this._setupClipboardIntegration());
            }
            _setupConversion() {
                const e = this.editor,
                    t = e.t,
                    i = e.conversion,
                    n = e.plugins.get('ImageUtils');
                i.for('dataDowncast').elementToStructure({ model: 'imageBlock', view: (e, { writer: t }) => pe(t) }),
                    i.for('editingDowncast').elementToStructure({ model: 'imageBlock', view: (e, { writer: i }) => n.toImageWidget(pe(i), i, t('image widget')) }),
                    i.for('downcast').add(Se(n, 'imageBlock', 'src')).add(Se(n, 'imageBlock', 'alt')).add(Ee(n, 'imageBlock')),
                    i
                        .for('upcast')
                        .elementToElement({
                            view: fe(e, 'imageBlock'),
                            model: (e, { writer: t }) => t.createElement('imageBlock', e.hasAttribute('src') ? { src: e.getAttribute('src') } : null),
                        })
                        .add(
                            /**
                             * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                             */
                            (function (e) {
                                return (e) => {
                                    e.on('element:figure', t);
                                };
                                function t(t, i, n) {
                                    if (!n.consumable.test(i.viewItem, { name: !0, classes: 'image' })) return;
                                    const s = e.findViewImgElement(i.viewItem);
                                    if (!s || !n.consumable.test(s, { name: !0 })) return;
                                    n.consumable.consume(i.viewItem, { name: !0, classes: 'image' });
                                    const r = n.convertItem(s, i.modelCursor),
                                        a = (0, o.first)(r.modelRange.getItems());
                                    a ? (n.convertChildren(i.viewItem, a), n.updateConversionResult(a, i)) : n.consumable.revert(i.viewItem, { name: !0, classes: 'image' });
                                }
                            })(n),
                        );
            }
            _setupClipboardIntegration() {
                const e = this.editor,
                    t = e.model,
                    i = e.editing.view,
                    n = e.plugins.get('ImageUtils');
                this.listenTo(e.plugins.get('ClipboardPipeline'), 'inputTransformation', (o, s) => {
                    const r = Array.from(s.content.getChildren());
                    let a;
                    if (!r.every(n.isInlineImageView)) return;
                    a = s.targetRanges ? e.editing.mapper.toModelRange(s.targetRanges[0]) : t.document.selection.getFirstRange();
                    const l = t.createSelection(a);
                    if ('imageBlock' === be(t.schema, l)) {
                        const e = new T.UpcastWriter(i.document),
                            t = r.map((t) => e.createElement('figure', { class: 'image' }, t));
                        s.content = e.createDocumentFragment(t);
                    }
                });
            }
        }
        var Pe = i(48),
            Be = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Pe.Z, Be);
        Pe.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Re extends t.Plugin {
            static get requires() {
                return [ze, ge.Widget, Me];
            }
            static get pluginName() {
                return 'ImageBlock';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Oe extends t.Plugin {
            static get requires() {
                return [je, we, z.ClipboardPipeline];
            }
            static get pluginName() {
                return 'ImageInlineEditing';
            }
            init() {
                const e = this.editor,
                    t = e.model.schema;
                t.register('imageInline', { inheritAllFrom: '$inlineObject', allowAttributes: ['alt', 'src', 'srcset'] }),
                    t.addChildCheck((e, t) => {
                        if (e.endsWith('caption') && 'imageInline' === t.name) return !1;
                    }),
                    this._setupConversion(),
                    e.plugins.has('ImageBlockEditing') && (e.commands.add('imageTypeInline', new De(this.editor, 'imageInline')), this._setupClipboardIntegration());
            }
            _setupConversion() {
                const e = this.editor,
                    t = e.t,
                    i = e.conversion,
                    n = e.plugins.get('ImageUtils');
                i.for('dataDowncast').elementToElement({ model: 'imageInline', view: (e, { writer: t }) => t.createEmptyElement('img') }),
                    i.for('editingDowncast').elementToStructure({
                        model: 'imageInline',
                        view: (e, { writer: i }) =>
                            n.toImageWidget(
                                /**
                                 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                                 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                                 */
                                (function (e) {
                                    return e.createContainerElement('span', { class: 'image-inline' }, e.createEmptyElement('img'));
                                })(i),
                                i,
                                t('image widget'),
                            ),
                    }),
                    i.for('downcast').add(Se(n, 'imageInline', 'src')).add(Se(n, 'imageInline', 'alt')).add(Ee(n, 'imageInline')),
                    i
                        .for('upcast')
                        .elementToElement({
                            view: fe(e, 'imageInline'),
                            model: (e, { writer: t }) => t.createElement('imageInline', e.hasAttribute('src') ? { src: e.getAttribute('src') } : null),
                        });
            }
            _setupClipboardIntegration() {
                const e = this.editor,
                    t = e.model,
                    i = e.editing.view,
                    n = e.plugins.get('ImageUtils');
                this.listenTo(e.plugins.get('ClipboardPipeline'), 'inputTransformation', (o, s) => {
                    const r = Array.from(s.content.getChildren());
                    let a;
                    if (!r.every(n.isBlockImageView)) return;
                    a = s.targetRanges ? e.editing.mapper.toModelRange(s.targetRanges[0]) : t.document.selection.getFirstRange();
                    const l = t.createSelection(a);
                    if ('imageInline' === be(t.schema, l)) {
                        const e = new T.UpcastWriter(i.document),
                            t = r.map((t) =>
                                1 === t.childCount ? (Array.from(t.getAttributes()).forEach((i) => e.setAttribute(...i, n.findViewImgElement(t))), t.getChild(0)) : t,
                            );
                        s.content = e.createDocumentFragment(t);
                    }
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ve extends t.Plugin {
            static get requires() {
                return [Oe, ge.Widget, Me];
            }
            static get pluginName() {
                return 'ImageInline';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ue extends t.Plugin {
            static get requires() {
                return [Re, Ve];
            }
            static get pluginName() {
                return 'Image';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Fe extends t.Command {
            refresh() {
                const e = this.editor,
                    t = e.plugins.get('ImageCaptionUtils');
                if (!e.plugins.has(ze)) return (this.isEnabled = !1), void (this.value = !1);
                const i = e.model.document.selection,
                    n = i.getSelectedElement();
                if (!n) {
                    const e = t.getCaptionFromModelSelection(i);
                    return (this.isEnabled = !!e), void (this.value = !!e);
                }
                (this.isEnabled = this.editor.plugins.get('ImageUtils').isImage(n)), this.isEnabled ? (this.value = !!t.getCaptionFromImageModelElement(n)) : (this.value = !1);
            }
            execute(e = {}) {
                const { focusCaptionOnShow: t } = e;
                this.editor.model.change((e) => {
                    this.value ? this._hideImageCaption(e) : this._showImageCaption(e, t);
                });
            }
            _showImageCaption(e, t) {
                const i = this.editor.model.document.selection,
                    n = this.editor.plugins.get('ImageCaptionEditing');
                let o = i.getSelectedElement();
                const s = n._getSavedCaption(o);
                this.editor.plugins.get('ImageUtils').isInlineImage(o) && (this.editor.execute('imageTypeBlock'), (o = i.getSelectedElement()));
                const r = s || e.createElement('caption');
                e.append(r, o), t && e.setSelection(r, 'in');
            }
            _hideImageCaption(e) {
                const t = this.editor,
                    i = t.model.document.selection,
                    n = t.plugins.get('ImageCaptionEditing'),
                    o = t.plugins.get('ImageCaptionUtils');
                let s,
                    r = i.getSelectedElement();
                r ? (s = o.getCaptionFromImageModelElement(r)) : ((s = o.getCaptionFromModelSelection(i)), (r = s.parent)),
                    n._saveCaption(r, s),
                    e.setSelection(r, 'on'),
                    e.remove(s);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class He extends t.Plugin {
            static get pluginName() {
                return 'ImageCaptionUtils';
            }
            static get requires() {
                return [we];
            }
            getCaptionFromImageModelElement(e) {
                for (const t of e.getChildren()) if (t && t.is('element', 'caption')) return t;
                return null;
            }
            getCaptionFromModelSelection(e) {
                const t = this.editor.plugins.get('ImageUtils'),
                    i = e.getFirstPosition().findAncestor('caption');
                return i && t.isBlockImage(i.parent) ? i : null;
            }
            matchImageCaptionViewElement(e) {
                const t = this.editor.plugins.get('ImageUtils');
                return 'figcaption' == e.name && t.isBlockImageView(e.parent) ? { name: !0 } : null;
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ye extends t.Plugin {
            static get requires() {
                return [we, He];
            }
            static get pluginName() {
                return 'ImageCaptionEditing';
            }
            constructor(e) {
                super(e), (this._savedCaptionsMap = new WeakMap());
            }
            init() {
                const e = this.editor,
                    t = e.model.schema;
                t.isRegistered('caption')
                    ? t.extend('caption', { allowIn: 'imageBlock' })
                    : t.register('caption', { allowIn: 'imageBlock', allowContentOf: '$block', isLimit: !0 }),
                    e.commands.add('toggleImageCaption', new Fe(this.editor)),
                    this._setupConversion(),
                    this._setupImageTypeCommandsIntegration(),
                    this._registerCaptionReconversion();
            }
            _setupConversion() {
                const e = this.editor,
                    t = e.editing.view,
                    i = e.plugins.get('ImageUtils'),
                    n = e.plugins.get('ImageCaptionUtils'),
                    o = e.t;
                e.conversion.for('upcast').elementToElement({ view: (e) => n.matchImageCaptionViewElement(e), model: 'caption' }),
                    e.conversion
                        .for('dataDowncast')
                        .elementToElement({ model: 'caption', view: (e, { writer: t }) => (i.isBlockImage(e.parent) ? t.createContainerElement('figcaption') : null) }),
                    e.conversion.for('editingDowncast').elementToElement({
                        model: 'caption',
                        view: (e, { writer: n }) => {
                            if (!i.isBlockImage(e.parent)) return null;
                            const s = n.createEditableElement('figcaption');
                            n.setCustomProperty('imageCaption', !0, s), (0, T.enablePlaceholder)({ view: t, element: s, text: o('Enter image caption'), keepOnFocus: !0 });
                            const r = e.parent.getAttribute('alt'),
                                a = r ? o('Caption for image: %0', [r]) : o('Caption for the image');
                            return (0, ge.toWidgetEditable)(s, n, { label: a });
                        },
                    });
            }
            _setupImageTypeCommandsIntegration() {
                const e = this.editor,
                    t = e.plugins.get('ImageUtils'),
                    i = e.plugins.get('ImageCaptionUtils'),
                    n = e.commands.get('imageTypeInline'),
                    o = e.commands.get('imageTypeBlock'),
                    s = (e) => {
                        if (!e.return) return;
                        const { oldElement: n, newElement: o } = e.return;
                        if (!n) return;
                        if (t.isBlockImage(n)) {
                            const e = i.getCaptionFromImageModelElement(n);
                            if (e) return void this._saveCaption(o, e);
                        }
                        const s = this._getSavedCaption(n);
                        s && this._saveCaption(o, s);
                    };
                n && this.listenTo(n, 'execute', s, { priority: 'low' }), o && this.listenTo(o, 'execute', s, { priority: 'low' });
            }
            _getSavedCaption(e) {
                const t = this._savedCaptionsMap.get(e);
                return t ? T.Element.fromJSON(t) : null;
            }
            _saveCaption(e, t) {
                this._savedCaptionsMap.set(e, t.toJSON());
            }
            _registerCaptionReconversion() {
                const e = this.editor,
                    t = e.model,
                    i = e.plugins.get('ImageUtils'),
                    n = e.plugins.get('ImageCaptionUtils');
                t.document.on('change:data', () => {
                    const o = t.document.differ.getChanges();
                    for (const t of o) {
                        if ('alt' !== t.attributeKey) continue;
                        const o = t.range.start.nodeAfter;
                        if (i.isBlockImage(o)) {
                            const t = n.getCaptionFromImageModelElement(o);
                            if (!t) return;
                            e.editing.reconvertItem(t);
                        }
                    }
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class We extends t.Plugin {
            static get requires() {
                return [He];
            }
            static get pluginName() {
                return 'ImageCaptionUI';
            }
            init() {
                const e = this.editor,
                    i = e.editing.view,
                    n = e.plugins.get('ImageCaptionUtils'),
                    o = e.t;
                e.ui.componentFactory.add('toggleImageCaption', (s) => {
                    const r = e.commands.get('toggleImageCaption'),
                        a = new x.ButtonView(s);
                    return (
                        a.set({ icon: t.icons.caption, tooltip: !0, isToggleable: !0 }),
                        a.bind('isOn', 'isEnabled').to(r, 'value', 'isEnabled'),
                        a.bind('label').to(r, 'value', (e) => o(e ? 'Toggle caption off' : 'Toggle caption on')),
                        this.listenTo(a, 'execute', () => {
                            e.execute('toggleImageCaption', { focusCaptionOnShow: !0 });
                            const t = n.getCaptionFromModelSelection(e.model.document.selection);
                            if (t) {
                                const n = e.editing.mapper.toViewElement(t);
                                i.scrollToTheSelection(),
                                    i.change((e) => {
                                        e.addClass('image__caption_highlighted', n);
                                    });
                            }
                            e.editing.view.focus();
                        }),
                        a
                    );
                });
            }
        }
        var Ze = i(662),
            Qe = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Ze.Z, Qe);
        Ze.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class qe extends t.Plugin {
            static get requires() {
                return [Ye, We];
            }
            static get pluginName() {
                return 'ImageCaption';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class $e extends t.Command {
            constructor(e, t) {
                super(e),
                    (this._defaultStyles = { imageBlock: !1, imageInline: !1 }),
                    (this._styles = new Map(
                        t.map((e) => {
                            if (e.isDefault) for (const t of e.modelElements) this._defaultStyles[t] = e.name;
                            return [e.name, e];
                        }),
                    ));
            }
            refresh() {
                const e = this.editor.plugins.get('ImageUtils').getClosestSelectedImageElement(this.editor.model.document.selection);
                (this.isEnabled = !!e),
                    this.isEnabled ? (e.hasAttribute('imageStyle') ? (this.value = e.getAttribute('imageStyle')) : (this.value = this._defaultStyles[e.name])) : (this.value = !1);
            }
            execute(e = {}) {
                const t = this.editor,
                    i = t.model,
                    n = t.plugins.get('ImageUtils');
                i.change((t) => {
                    const o = e.value;
                    let s = n.getClosestSelectedImageElement(i.document.selection);
                    o &&
                        this.shouldConvertImageType(o, s) &&
                        (this.editor.execute(n.isBlockImage(s) ? 'imageTypeInline' : 'imageTypeBlock'), (s = n.getClosestSelectedImageElement(i.document.selection))),
                        !o || this._styles.get(o).isDefault ? t.removeAttribute('imageStyle', s) : t.setAttribute('imageStyle', o, s);
                });
            }
            shouldConvertImageType(e, t) {
                return !this._styles.get(e).modelElements.includes(t.name);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const { objectFullWidth: Ge, objectInline: Ke, objectLeft: Je, objectRight: Xe, objectCenter: et, objectBlockLeft: tt, objectBlockRight: it } = t.icons,
            nt = {
                get inline() {
                    return { name: 'inline', title: 'In line', icon: Ke, modelElements: ['imageInline'], isDefault: !0 };
                },
                get alignLeft() {
                    return { name: 'alignLeft', title: 'Left aligned image', icon: Je, modelElements: ['imageBlock', 'imageInline'], className: 'image-style-align-left' };
                },
                get alignBlockLeft() {
                    return { name: 'alignBlockLeft', title: 'Left aligned image', icon: tt, modelElements: ['imageBlock'], className: 'image-style-block-align-left' };
                },
                get alignCenter() {
                    return { name: 'alignCenter', title: 'Centered image', icon: et, modelElements: ['imageBlock'], className: 'image-style-align-center' };
                },
                get alignRight() {
                    return { name: 'alignRight', title: 'Right aligned image', icon: Xe, modelElements: ['imageBlock', 'imageInline'], className: 'image-style-align-right' };
                },
                get alignBlockRight() {
                    return { name: 'alignBlockRight', title: 'Right aligned image', icon: it, modelElements: ['imageBlock'], className: 'image-style-block-align-right' };
                },
                get block() {
                    return { name: 'block', title: 'Centered image', icon: et, modelElements: ['imageBlock'], isDefault: !0 };
                },
                get side() {
                    return { name: 'side', title: 'Side image', icon: Xe, modelElements: ['imageBlock'], className: 'image-style-side' };
                },
            },
            ot = { full: Ge, left: tt, right: it, center: et, inlineLeft: Je, inlineRight: Xe, inline: Ke },
            st = [
                { name: 'imageStyle:wrapText', title: 'Wrap text', defaultItem: 'imageStyle:alignLeft', items: ['imageStyle:alignLeft', 'imageStyle:alignRight'] },
                {
                    name: 'imageStyle:breakText',
                    title: 'Break text',
                    defaultItem: 'imageStyle:block',
                    items: ['imageStyle:alignBlockLeft', 'imageStyle:block', 'imageStyle:alignBlockRight'],
                },
            ];
        function rt(e) {
            (0, o.logWarning)('image-style-configuration-definition-invalid', e);
        }
        const at = {
            normalizeStyles: function (e) {
                return (e.configuredStyles.options || [])
                    .map((e) =>
                        (function (e) {
                            e =
                                'string' == typeof e
                                    ? nt[e]
                                        ? { ...nt[e] }
                                        : { name: e }
                                    : (function (e, t) {
                                          const i = { ...t };
                                          for (const n in e) Object.prototype.hasOwnProperty.call(t, n) || (i[n] = e[n]);
                                          return i;
                                      })(nt[e.name], e);
                            'string' == typeof e.icon && (e.icon = ot[e.icon] || e.icon);
                            return e;
                        })(e),
                    )
                    .filter((t) =>
                        (function (e, { isBlockPluginLoaded: t, isInlinePluginLoaded: i }) {
                            const { modelElements: n, name: s } = e;
                            if (!(n && n.length && s)) return rt({ style: e }), !1;
                            {
                                const s = [t ? 'imageBlock' : null, i ? 'imageInline' : null];
                                if (!n.some((e) => s.includes(e)))
                                    return (
                                        (0, o.logWarning)('image-style-missing-dependency', {
                                            style: e,
                                            missingPlugins: n.map((e) => ('imageBlock' === e ? 'ImageBlockEditing' : 'ImageInlineEditing')),
                                        }),
                                        !1
                                    );
                            }
                            return !0;
                        })(t, e),
                    );
            },
            getDefaultStylesConfiguration: function (e, t) {
                return e && t
                    ? { options: ['inline', 'alignLeft', 'alignRight', 'alignCenter', 'alignBlockLeft', 'alignBlockRight', 'block', 'side'] }
                    : e
                    ? { options: ['block', 'side'] }
                    : t
                    ? { options: ['inline', 'alignLeft', 'alignRight'] }
                    : {};
            },
            getDefaultDropdownDefinitions: function (e) {
                return e.has('ImageBlockEditing') && e.has('ImageInlineEditing') ? [...st] : [];
            },
            warnInvalidStyle: rt,
            DEFAULT_OPTIONS: nt,
            DEFAULT_ICONS: ot,
            DEFAULT_DROPDOWN_DEFINITIONS: st,
        };
        function lt(e, t) {
            for (const i of t) if (i.name === e) return i;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ct extends t.Plugin {
            static get pluginName() {
                return 'ImageStyleEditing';
            }
            static get requires() {
                return [we];
            }
            init() {
                const { normalizeStyles: e, getDefaultStylesConfiguration: t } = at,
                    i = this.editor,
                    n = i.plugins.has('ImageBlockEditing'),
                    o = i.plugins.has('ImageInlineEditing');
                i.config.define('image.styles', t(n, o)),
                    (this.normalizedStyles = e({ configuredStyles: i.config.get('image.styles'), isBlockPluginLoaded: n, isInlinePluginLoaded: o })),
                    this._setupConversion(n, o),
                    this._setupPostFixer(),
                    i.commands.add('imageStyle', new $e(i, this.normalizedStyles));
            }
            _setupConversion(e, t) {
                const i = this.editor,
                    n = i.model.schema,
                    s =
                        ((r = this.normalizedStyles),
                        (e, t, i) => {
                            if (!i.consumable.consume(t.item, e.name)) return;
                            const n = lt(t.attributeNewValue, r),
                                o = lt(t.attributeOldValue, r),
                                s = i.mapper.toViewElement(t.item),
                                a = i.writer;
                            o && a.removeClass(o.className, s), n && a.addClass(n.className, s);
                        });
                /**
                 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                 */
                var r;
                const a = (function (e) {
                    const t = {
                        imageInline: e.filter((e) => !e.isDefault && e.modelElements.includes('imageInline')),
                        imageBlock: e.filter((e) => !e.isDefault && e.modelElements.includes('imageBlock')),
                    };
                    return (e, i, n) => {
                        if (!i.modelRange) return;
                        const s = i.viewItem,
                            r = (0, o.first)(i.modelRange.getItems());
                        if (r && n.schema.checkAttribute(r, 'imageStyle'))
                            for (const e of t[r.name]) n.consumable.consume(s, { classes: e.className }) && n.writer.setAttribute('imageStyle', e.name, r);
                    };
                })(this.normalizedStyles);
                i.editing.downcastDispatcher.on('attribute:imageStyle', s),
                    i.data.downcastDispatcher.on('attribute:imageStyle', s),
                    e && (n.extend('imageBlock', { allowAttributes: 'imageStyle' }), i.data.upcastDispatcher.on('element:figure', a, { priority: 'low' })),
                    t && (n.extend('imageInline', { allowAttributes: 'imageStyle' }), i.data.upcastDispatcher.on('element:img', a, { priority: 'low' }));
            }
            _setupPostFixer() {
                const e = this.editor,
                    t = e.model.document,
                    i = e.plugins.get(we),
                    n = new Map(this.normalizedStyles.map((e) => [e.name, e]));
                t.registerPostFixer((e) => {
                    let o = !1;
                    for (const s of t.differ.getChanges())
                        if ('insert' == s.type || ('attribute' == s.type && 'imageStyle' == s.attributeKey)) {
                            let t = 'insert' == s.type ? s.position.nodeAfter : s.range.start.nodeAfter;
                            if ((t && t.is('element', 'paragraph') && t.childCount > 0 && (t = t.getChild(0)), !i.isImage(t))) continue;
                            const r = t.getAttribute('imageStyle');
                            if (!r) continue;
                            const a = n.get(r);
                            (a && a.modelElements.includes(t.name)) || (e.removeAttribute('imageStyle', t), (o = !0));
                        }
                    return o;
                });
            }
        }
        const dt = function (e) {
            var t = typeof e;
            return null != e && ('object' == t || 'function' == t);
        };
        const ut = function (e) {
            return e;
        };
        var mt = i(622),
            gt = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(mt.Z, gt);
        mt.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ht extends t.Plugin {
            static get requires() {
                return [ct];
            }
            static get pluginName() {
                return 'ImageStyleUI';
            }
            get localizedDefaultStylesTitles() {
                const e = this.editor.t;
                return {
                    'Wrap text': e('Wrap text'),
                    'Break text': e('Break text'),
                    'In line': e('In line'),
                    'Full size image': e('Full size image'),
                    'Side image': e('Side image'),
                    'Left aligned image': e('Left aligned image'),
                    'Centered image': e('Centered image'),
                    'Right aligned image': e('Right aligned image'),
                };
            }
            init() {
                const e = this.editor.plugins,
                    t = this.editor.config.get('image.toolbar') || [],
                    i = pt(e.get('ImageStyleEditing').normalizedStyles, this.localizedDefaultStylesTitles);
                for (const e of i) this._createButton(e);
                const n = pt([...t.filter(dt), ...at.getDefaultDropdownDefinitions(e)], this.localizedDefaultStylesTitles);
                for (const e of n) this._createDropdown(e, i);
            }
            _createDropdown(e, t) {
                const i = this.editor.ui.componentFactory;
                i.add(e.name, (n) => {
                    let o;
                    const { defaultItem: s, items: r, title: a } = e,
                        l = r
                            .filter((e) => t.find(({ name: t }) => ft(t) === e))
                            .map((e) => {
                                const t = i.create(e);
                                return e === s && (o = t), t;
                            });
                    r.length !== l.length && at.warnInvalidStyle({ dropdown: e });
                    const c = (0, x.createDropdown)(n, x.SplitButtonView),
                        d = c.buttonView,
                        u = d.arrowView;
                    return (
                        (0, x.addToolbarToDropdown)(c, l, { enableActiveItemFocusOnDropdownOpen: !0 }),
                        d.set({ label: bt(a, o.label), class: null, tooltip: !0 }),
                        u.unbind('label'),
                        u.set({ label: a }),
                        d.bind('icon').toMany(l, 'isOn', (...e) => {
                            const t = e.findIndex(ut);
                            return t < 0 ? o.icon : l[t].icon;
                        }),
                        d.bind('label').toMany(l, 'isOn', (...e) => {
                            const t = e.findIndex(ut);
                            return bt(a, t < 0 ? o.label : l[t].label);
                        }),
                        d.bind('isOn').toMany(l, 'isOn', (...e) => e.some(ut)),
                        d.bind('class').toMany(l, 'isOn', (...e) => (e.some(ut) ? 'ck-splitbutton_flatten' : null)),
                        d.on('execute', () => {
                            l.some(({ isOn: e }) => e) ? (c.isOpen = !c.isOpen) : o.fire('execute');
                        }),
                        c.bind('isEnabled').toMany(l, 'isEnabled', (...e) => e.some(ut)),
                        this.listenTo(c, 'execute', () => {
                            this.editor.editing.view.focus();
                        }),
                        c
                    );
                });
            }
            _createButton(e) {
                const t = e.name;
                this.editor.ui.componentFactory.add(ft(t), (i) => {
                    const n = this.editor.commands.get('imageStyle'),
                        o = new x.ButtonView(i);
                    return (
                        o.set({ label: e.title, icon: e.icon, tooltip: !0, isToggleable: !0 }),
                        o.bind('isEnabled').to(n, 'isEnabled'),
                        o.bind('isOn').to(n, 'value', (e) => e === t),
                        o.on('execute', this._executeCommand.bind(this, t)),
                        o
                    );
                });
            }
            _executeCommand(e) {
                this.editor.execute('imageStyle', { value: e }), this.editor.editing.view.focus();
            }
        }
        function pt(e, t) {
            for (const i of e) t[i.title] && (i.title = t[i.title]);
            return e;
        }
        function ft(e) {
            return 'imageStyle:' + e;
        }
        function bt(e, t) {
            return (e ? e + ': ' : '') + t;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class wt extends t.Plugin {
            static get requires() {
                return [ct, ht];
            }
            static get pluginName() {
                return 'ImageStyle';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class kt extends t.Plugin {
            static get requires() {
                return [ge.WidgetToolbarRepository, we];
            }
            static get pluginName() {
                return 'ImageToolbar';
            }
            afterInit() {
                const e = this.editor,
                    t = e.t,
                    i = e.plugins.get(ge.WidgetToolbarRepository),
                    n = e.plugins.get('ImageUtils');
                var o;
                i.register('image', {
                    ariaLabel: t('Image toolbar'),
                    items: ((o = e.config.get('image.toolbar') || []), o.map((e) => (dt(e) ? e.name : e))),
                    getRelatedElement: (e) => n.getClosestSelectedImageWidget(e),
                });
            }
        }
        var vt = i(448);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function _t(e) {
            const t = e.map((e) => e.replace('+', '\\+'));
            return new RegExp(`^image\\/(${t.join('|')})$`);
        }
        function yt(e) {
            return new Promise((t, i) => {
                const n = e.getAttribute('src');
                fetch(n)
                    .then((e) => e.blob())
                    .then((e) => {
                        const i = It(e, n),
                            o = i.replace('image/', ''),
                            s = new File([e], 'image.' + o, { type: i });
                        t(s);
                    })
                    .catch((e) =>
                        e && 'TypeError' === e.name
                            ? (function (e) {
                                  return (function (e) {
                                      return new Promise((t, i) => {
                                          const n = o.global.document.createElement('img');
                                          n.addEventListener('load', () => {
                                              const e = o.global.document.createElement('canvas');
                                              (e.width = n.width), (e.height = n.height);
                                              e.getContext('2d').drawImage(n, 0, 0), e.toBlob((e) => (e ? t(e) : i()));
                                          }),
                                              n.addEventListener('error', () => i()),
                                              (n.src = e);
                                      });
                                  })(e).then((t) => {
                                      const i = It(t, e),
                                          n = i.replace('image/', '');
                                      return new File([t], 'image.' + n, { type: i });
                                  });
                              })(n)
                                  .then(t)
                                  .catch(i)
                            : i(e),
                    );
            });
        }
        function It(e, t) {
            return e.type ? e.type : t.match(/data:(image\/\w+);base64/) ? t.match(/data:(image\/\w+);base64/)[1].toLowerCase() : 'image/jpeg';
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ct extends t.Plugin {
            static get pluginName() {
                return 'ImageUploadUI';
            }
            init() {
                const e = this.editor,
                    i = e.t,
                    n = (n) => {
                        const o = new vt.FileDialogButtonView(n),
                            s = e.commands.get('uploadImage'),
                            r = e.config.get('image.upload.types'),
                            a = _t(r);
                        return (
                            o.set({ acceptedType: r.map((e) => 'image/' + e).join(','), allowMultipleFiles: !0 }),
                            o.buttonView.set({ label: i('Insert image'), icon: t.icons.image, tooltip: !0 }),
                            o.buttonView.bind('isEnabled').to(s),
                            o.on('done', (t, i) => {
                                const n = Array.from(i).filter((e) => a.test(e.type));
                                n.length && (e.execute('uploadImage', { file: n }), e.editing.view.focus());
                            }),
                            o
                        );
                    };
                e.ui.componentFactory.add('uploadImage', n), e.ui.componentFactory.add('imageUpload', n);
            }
        }
        var At = i(870),
            xt = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(At.Z, xt);
        At.Z.locals;
        var Tt = i(899),
            Mt = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Tt.Z, Mt);
        Tt.Z.locals;
        var Et = i(825),
            St = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Et.Z, St);
        Et.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Lt extends t.Plugin {
            static get pluginName() {
                return 'ImageUploadProgress';
            }
            constructor(e) {
                super(e), (this.placeholder = 'data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==');
            }
            init() {
                const e = this.editor;
                e.plugins.has('ImageBlockEditing') && e.editing.downcastDispatcher.on('attribute:uploadStatus:imageBlock', (...e) => this.uploadStatusChange(...e)),
                    e.plugins.has('ImageInlineEditing') && e.editing.downcastDispatcher.on('attribute:uploadStatus:imageInline', (...e) => this.uploadStatusChange(...e));
            }
            uploadStatusChange(e, t, i) {
                const n = this.editor,
                    o = t.item,
                    s = o.getAttribute('uploadId');
                if (!i.consumable.consume(t.item, e.name)) return;
                const r = n.plugins.get('ImageUtils'),
                    a = n.plugins.get(vt.FileRepository),
                    l = s ? t.attributeNewValue : null,
                    c = this.placeholder,
                    d = n.editing.mapper.toViewElement(o),
                    u = i.writer;
                if ('reading' == l) return Nt(d, u), void jt(r, c, d, u);
                if ('uploading' == l) {
                    const e = a.loaders.get(s);
                    return (
                        Nt(d, u),
                        void (e
                            ? (Dt(d, u),
                              (function (e, t, i, n) {
                                  const o = (function (e) {
                                      const t = e.createUIElement('div', { class: 'ck-progress-bar' });
                                      return e.setCustomProperty('progressBar', !0, t), t;
                                  })(t);
                                  t.insert(t.createPositionAt(e, 'end'), o),
                                      i.on('change:uploadedPercent', (e, t, i) => {
                                          n.change((e) => {
                                              e.setStyle('width', i + '%', o);
                                          });
                                      });
                              })(d, u, e, n.editing.view),
                              (function (e, t, i, n) {
                                  if (n.data) {
                                      const o = e.findViewImgElement(t);
                                      i.setAttribute('src', n.data, o);
                                  }
                              })(r, d, u, e))
                            : jt(r, c, d, u))
                    );
                }
                'complete' == l &&
                    a.loaders.get(s) &&
                    (function (e, t, i) {
                        const n = t.createUIElement('div', { class: 'ck-image-upload-complete-icon' });
                        t.insert(t.createPositionAt(e, 'end'), n),
                            setTimeout(() => {
                                i.change((e) => e.remove(e.createRangeOn(n)));
                            }, 3e3);
                    })(d, u, n.editing.view),
                    (function (e, t) {
                        Pt(e, t, 'progressBar');
                    })(d, u),
                    Dt(d, u),
                    (function (e, t) {
                        t.removeClass('ck-appear', e);
                    })(d, u);
            }
        }
        function Nt(e, t) {
            e.hasClass('ck-appear') || t.addClass('ck-appear', e);
        }
        function jt(e, t, i, n) {
            i.hasClass('ck-image-upload-placeholder') || n.addClass('ck-image-upload-placeholder', i);
            const o = e.findViewImgElement(i);
            o.getAttribute('src') !== t && n.setAttribute('src', t, o),
                zt(i, 'placeholder') ||
                    n.insert(
                        n.createPositionAfter(o),
                        (function (e) {
                            const t = e.createUIElement('div', { class: 'ck-upload-placeholder-loader' });
                            return e.setCustomProperty('placeholder', !0, t), t;
                        })(n),
                    );
        }
        function Dt(e, t) {
            e.hasClass('ck-image-upload-placeholder') && t.removeClass('ck-image-upload-placeholder', e), Pt(e, t, 'placeholder');
        }
        function zt(e, t) {
            for (const i of e.getChildren()) if (i.getCustomProperty(t)) return i;
        }
        function Pt(e, t, i) {
            const n = zt(e, i);
            n && t.remove(t.createRangeOn(n));
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Bt extends t.Command {
            refresh() {
                const e = this.editor,
                    t = e.plugins.get('ImageUtils'),
                    i = e.model.document.selection.getSelectedElement();
                this.isEnabled = t.isImageAllowed() || t.isImage(i);
            }
            execute(e) {
                const t = (0, o.toArray)(e.file),
                    i = this.editor.model.document.selection,
                    n = this.editor.plugins.get('ImageUtils'),
                    s = Object.fromEntries(i.getAttributes());
                t.forEach((e, t) => {
                    const o = i.getSelectedElement();
                    if (t && o && n.isImage(o)) {
                        const t = this.editor.model.createPositionAfter(o);
                        this._uploadImage(e, s, t);
                    } else this._uploadImage(e, s);
                });
            }
            _uploadImage(e, t, i) {
                const n = this.editor,
                    o = n.plugins.get(vt.FileRepository).createLoader(e),
                    s = n.plugins.get('ImageUtils');
                o && s.insertImage({ ...t, uploadId: o.id }, i);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Rt extends t.Plugin {
            static get requires() {
                return [vt.FileRepository, x.Notification, z.ClipboardPipeline, we];
            }
            static get pluginName() {
                return 'ImageUploadEditing';
            }
            constructor(e) {
                super(e), e.config.define('image', { upload: { types: ['jpeg', 'png', 'gif', 'bmp', 'webp', 'tiff'] } }), (this._uploadImageElements = new Map());
            }
            init() {
                const e = this.editor,
                    t = e.model.document,
                    i = e.conversion,
                    n = e.plugins.get(vt.FileRepository),
                    o = e.plugins.get('ImageUtils'),
                    s = _t(e.config.get('image.upload.types')),
                    r = new Bt(e);
                e.commands.add('uploadImage', r),
                    e.commands.add('imageUpload', r),
                    i.for('upcast').attributeToAttribute({ view: { name: 'img', key: 'uploadId' }, model: 'uploadId' }),
                    this.listenTo(e.editing.view.document, 'clipboardInput', (t, i) => {
                        if (((n = i.dataTransfer), Array.from(n.types).includes('text/html') && '' !== n.getData('text/html'))) return;
                        var n;
                        const o = Array.from(i.dataTransfer.files).filter((e) => !!e && s.test(e.type));
                        o.length &&
                            (t.stop(),
                            e.model.change((t) => {
                                i.targetRanges && t.setSelection(i.targetRanges.map((t) => e.editing.mapper.toModelRange(t))),
                                    e.model.enqueueChange(() => {
                                        e.execute('uploadImage', { file: o });
                                    });
                            }));
                    }),
                    this.listenTo(e.plugins.get('ClipboardPipeline'), 'inputTransformation', (t, i) => {
                        const s = Array.from(e.editing.view.createRangeIn(i.content))
                            .filter(
                                (e) =>
                                    (function (e, t) {
                                        return (
                                            !(!e.isInlineImageView(t) || !t.getAttribute('src')) &&
                                            (t.getAttribute('src').match(/^data:image\/\w+;base64,/g) || t.getAttribute('src').match(/^blob:/g))
                                        );
                                    })(o, e.item) && !e.item.getAttribute('uploadProcessed'),
                            )
                            .map((e) => ({ promise: yt(e.item), imageElement: e.item }));
                        if (!s.length) return;
                        const r = new T.UpcastWriter(e.editing.view.document);
                        for (const e of s) {
                            r.setAttribute('uploadProcessed', !0, e.imageElement);
                            const t = n.createLoader(e.promise);
                            t && (r.setAttribute('src', '', e.imageElement), r.setAttribute('uploadId', t.id, e.imageElement));
                        }
                    }),
                    e.editing.view.document.on('dragover', (e, t) => {
                        t.preventDefault();
                    }),
                    t.on('change', () => {
                        const i = t.differ.getChanges({ includeChangesInGraveyard: !0 }).reverse(),
                            o = new Set();
                        for (const t of i)
                            if ('insert' == t.type && '$text' != t.name) {
                                const i = t.position.nodeAfter,
                                    s = '$graveyard' == t.position.root.rootName;
                                for (const t of Ot(e, i)) {
                                    const e = t.getAttribute('uploadId');
                                    if (!e) continue;
                                    const i = n.loaders.get(e);
                                    i && (s ? o.has(e) || i.abort() : (o.add(e), this._uploadImageElements.set(e, t), 'idle' == i.status && this._readAndUpload(i)));
                                }
                            }
                    }),
                    this.on(
                        'uploadComplete',
                        (e, { imageElement: t, data: i }) => {
                            const n = i.urls ? i.urls : i;
                            this.editor.model.change((e) => {
                                e.setAttribute('src', n.default, t), this._parseAndSetSrcsetAttributeOnImage(n, t, e);
                            });
                        },
                        { priority: 'low' },
                    );
            }
            afterInit() {
                const e = this.editor.model.schema;
                this.editor.plugins.has('ImageBlockEditing') && e.extend('imageBlock', { allowAttributes: ['uploadId', 'uploadStatus'] }),
                    this.editor.plugins.has('ImageInlineEditing') && e.extend('imageInline', { allowAttributes: ['uploadId', 'uploadStatus'] });
            }
            _readAndUpload(e) {
                const t = this.editor,
                    i = t.model,
                    n = t.locale.t,
                    s = t.plugins.get(vt.FileRepository),
                    r = t.plugins.get(x.Notification),
                    a = t.plugins.get('ImageUtils'),
                    l = this._uploadImageElements;
                return (
                    i.enqueueChange({ isUndoable: !1 }, (t) => {
                        t.setAttribute('uploadStatus', 'reading', l.get(e.id));
                    }),
                    e
                        .read()
                        .then(() => {
                            const n = e.upload(),
                                s = l.get(e.id);
                            if (o.env.isSafari) {
                                const e = t.editing.mapper.toViewElement(s),
                                    i = a.findViewImgElement(e);
                                t.editing.view.once('render', () => {
                                    if (!i.parent) return;
                                    const e = t.editing.view.domConverter.mapViewToDom(i.parent);
                                    if (!e) return;
                                    const n = e.style.display;
                                    (e.style.display = 'none'), (e._ckHack = e.offsetHeight), (e.style.display = n);
                                });
                            }
                            return (
                                i.enqueueChange({ isUndoable: !1 }, (e) => {
                                    e.setAttribute('uploadStatus', 'uploading', s);
                                }),
                                n
                            );
                        })
                        .then((t) => {
                            i.enqueueChange({ isUndoable: !1 }, (i) => {
                                const n = l.get(e.id);
                                i.setAttribute('uploadStatus', 'complete', n), this.fire('uploadComplete', { data: t, imageElement: n });
                            }),
                                c();
                        })
                        .catch((t) => {
                            if ('error' !== e.status && 'aborted' !== e.status) throw t;
                            'error' == e.status && t && r.showWarning(t, { title: n('Upload failed'), namespace: 'upload' }),
                                i.enqueueChange({ isUndoable: !1 }, (t) => {
                                    t.remove(l.get(e.id));
                                }),
                                c();
                        })
                );
                function c() {
                    i.enqueueChange({ isUndoable: !1 }, (t) => {
                        const i = l.get(e.id);
                        t.removeAttribute('uploadId', i), t.removeAttribute('uploadStatus', i), l.delete(e.id);
                    }),
                        s.destroyLoader(e);
                }
            }
            _parseAndSetSrcsetAttributeOnImage(e, t, i) {
                let n = 0;
                const o = Object.keys(e)
                    .filter((e) => {
                        const t = parseInt(e, 10);
                        if (!isNaN(t)) return (n = Math.max(n, t)), !0;
                    })
                    .map((t) => `${e[t]} ${t}w`)
                    .join(', ');
                '' != o && i.setAttribute('srcset', { data: o, width: n }, t);
            }
        }
        function Ot(e, t) {
            const i = e.plugins.get('ImageUtils');
            return Array.from(e.model.createRangeOn(t))
                .filter((e) => i.isImage(e.item))
                .map((e) => e.item);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Vt extends t.Plugin {
            static get pluginName() {
                return 'ImageUpload';
            }
            static get requires() {
                return [Rt, Ct, Lt];
            }
        }
        const Ut =
            /**
             * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
            function () {
                return function e() {
                    e.called = !0;
                };
            };
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ft {
            constructor(e, t) {
                (this.source = e), (this.name = t), (this.path = []), (this.stop = Ut()), (this.off = Ut());
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const Ht = new Array(256).fill('').map((e, t) => ('0' + t.toString(16)).slice(-2));
        function Yt() {
            const e = (4294967296 * Math.random()) >>> 0,
                t = (4294967296 * Math.random()) >>> 0,
                i = (4294967296 * Math.random()) >>> 0,
                n = (4294967296 * Math.random()) >>> 0;
            return (
                'e' +
                Ht[(e >> 0) & 255] +
                Ht[(e >> 8) & 255] +
                Ht[(e >> 16) & 255] +
                Ht[(e >> 24) & 255] +
                Ht[(t >> 0) & 255] +
                Ht[(t >> 8) & 255] +
                Ht[(t >> 16) & 255] +
                Ht[(t >> 24) & 255] +
                Ht[(i >> 0) & 255] +
                Ht[(i >> 8) & 255] +
                Ht[(i >> 16) & 255] +
                Ht[(i >> 24) & 255] +
                Ht[(n >> 0) & 255] +
                Ht[(n >> 8) & 255] +
                Ht[(n >> 16) & 255] +
                Ht[(n >> 24) & 255]
            );
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const Wt = {
            get(e = 'normal') {
                return 'number' != typeof e ? this[e] || this.normal : e;
            },
            highest: 1e5,
            high: 1e3,
            normal: 0,
            low: -1e3,
            lowest: -1e5,
        };
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function Zt(e, t) {
            const i = Wt.get(t.priority);
            for (let n = 0; n < e.length; n++) if (Wt.get(e[n].priority) < i) return void e.splice(n, 0, t);
            e.push(t);
        }
        class Qt extends Error {
            constructor(e, t, i) {
                super(
                    (function (e, t) {
                        const i = new WeakSet(),
                            n = t
                                ? ' ' +
                                  JSON.stringify(t, (e, t) => {
                                      if ('object' == typeof t && null !== t) {
                                          if (i.has(t)) return `[object ${t.constructor.name}]`;
                                          i.add(t);
                                      }
                                      return t;
                                  })
                                : '',
                            o = qt(e);
                        return e + n + o;
                    })(e, i),
                ),
                    (this.name = 'CKEditorError'),
                    (this.context = t),
                    (this.data = i);
            }
            is(e) {
                return 'CKEditorError' === e;
            }
            static rethrowUnexpectedError(e, t) {
                if (e.is && e.is('CKEditorError')) throw e;
                const i = new Qt(e.message, t);
                throw ((i.stack = e.stack), i);
            }
        }
        function qt(e) {
            return '\nRead more: https://ckeditor.com/docs/ckeditor5/latest/support/error-codes.html#error-' + e;
        }
        function $t(e, t) {
            const i = qt(e);
            return t ? [e, t, i] : [e, i];
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const Gt = 'object' == typeof window ? window : i.g;
        if (Gt.CKEDITOR_VERSION) throw new Qt('ckeditor-duplicated-modules', null);
        Gt.CKEDITOR_VERSION = '35.1.0';
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const Kt = Symbol('listeningTo'),
            Jt = Symbol('emitterId'),
            Xt = Symbol('delegations');
        function ei(e) {
            return class extends e {
                on(e, t, i) {
                    this.listenTo(this, e, t, i);
                }
                once(e, t, i) {
                    let n = !1;
                    this.listenTo(
                        this,
                        e,
                        (e, ...i) => {
                            n || ((n = !0), e.off(), t.call(this, e, ...i));
                        },
                        i,
                    );
                }
                off(e, t) {
                    this.stopListening(this, e, t);
                }
                listenTo(e, t, i, n = {}) {
                    let o, s;
                    this[Kt] || (this[Kt] = {});
                    const r = this[Kt];
                    ii(e) ||
                        (function (e, t) {
                            e[Jt] || (e[Jt] = t || Yt());
                        })(e);
                    const a = ii(e);
                    (o = r[a]) || (o = r[a] = { emitter: e, callbacks: {} }),
                        (s = o.callbacks[t]) || (s = o.callbacks[t] = []),
                        s.push(i),
                        (function (e, t, i, n, o) {
                            t._addEventListener ? t._addEventListener(i, n, o) : e._addEventListener.call(t, i, n, o);
                        })(this, e, t, i, n);
                }
                stopListening(e, t, i) {
                    const n = this[Kt];
                    let o = e && ii(e);
                    const s = n && o ? n[o] : void 0,
                        r = s && t ? s.callbacks[t] : void 0;
                    if (!(!n || (e && !s) || (t && !r)))
                        if (i) {
                            ri(this, e, t, i);
                            -1 !== r.indexOf(i) && (1 === r.length ? delete s.callbacks[t] : ri(this, e, t, i));
                        } else if (r) {
                            for (; (i = r.pop()); ) ri(this, e, t, i);
                            delete s.callbacks[t];
                        } else if (s) {
                            for (t in s.callbacks) this.stopListening(e, t);
                            delete n[o];
                        } else {
                            for (o in n) this.stopListening(n[o].emitter);
                            delete this[Kt];
                        }
                }
                fire(e, ...t) {
                    try {
                        const i = e instanceof Ft ? e : new Ft(this, e),
                            n = i.name;
                        let o = (function e(t, i) {
                            let n;
                            if (!t._events || !(n = t._events[i]) || !n.callbacks.length) return i.indexOf(':') > -1 ? e(t, i.substr(0, i.lastIndexOf(':'))) : null;
                            return n.callbacks;
                        })(this, n);
                        if ((i.path.push(this), o)) {
                            const e = [i, ...t];
                            o = Array.from(o);
                            for (
                                let t = 0;
                                t < o.length && (o[t].callback.apply(this, e), i.off.called && (delete i.off.called, this._removeEventListener(n, o[t].callback)), !i.stop.called);
                                t++
                            );
                        }
                        const s = this[Xt];
                        if (s) {
                            const e = s.get(n),
                                o = s.get('*');
                            e && si(e, i, t), o && si(o, i, t);
                        }
                        return i.return;
                    } catch (e) {
                        Qt.rethrowUnexpectedError(e, this);
                    }
                }
                delegate(...e) {
                    return {
                        to: (t, i) => {
                            this[Xt] || (this[Xt] = new Map()),
                                e.forEach((e) => {
                                    const n = this[Xt].get(e);
                                    n ? n.set(t, i) : this[Xt].set(e, new Map([[t, i]]));
                                });
                        },
                    };
                }
                stopDelegating(e, t) {
                    if (this[Xt])
                        if (e)
                            if (t) {
                                const i = this[Xt].get(e);
                                i && i.delete(t);
                            } else this[Xt].delete(e);
                        else this[Xt].clear();
                }
                _addEventListener(e, t, i) {
                    !(function (e, t) {
                        const i = ni(e);
                        if (i[t]) return;
                        let n = t,
                            o = null;
                        const s = [];
                        for (; '' !== n && !i[n]; )
                            (i[n] = { callbacks: [], childEvents: [] }), s.push(i[n]), o && i[n].childEvents.push(o), (o = n), (n = n.substr(0, n.lastIndexOf(':')));
                        if ('' !== n) {
                            for (const e of s) e.callbacks = i[n].callbacks.slice();
                            i[n].childEvents.push(o);
                        }
                    })(this, e);
                    const n = oi(this, e),
                        o = { callback: t, priority: Wt.get(i.priority) };
                    for (const e of n) Zt(e, o);
                }
                _removeEventListener(e, t) {
                    const i = oi(this, e);
                    for (const e of i) for (let i = 0; i < e.length; i++) e[i].callback == t && (e.splice(i, 1), i--);
                }
            };
        }
        const ti = ei(Object);
        function ii(e) {
            return e[Jt];
        }
        function ni(e) {
            return e._events || Object.defineProperty(e, '_events', { value: {} }), e._events;
        }
        function oi(e, t) {
            const i = ni(e)[t];
            if (!i) return [];
            let n = [i.callbacks];
            for (let t = 0; t < i.childEvents.length; t++) {
                const o = oi(e, i.childEvents[t]);
                n = n.concat(o);
            }
            return n;
        }
        function si(e, t, i) {
            for (let [n, o] of e) {
                o ? 'function' == typeof o && (o = o(t.name)) : (o = t.name);
                const e = new Ft(t.source, o);
                (e.path = [...t.path]), n.fire(e, ...i);
            }
        }
        function ri(e, t, i, n) {
            t._removeEventListener ? t._removeEventListener(i, n) : e._removeEventListener.call(t, i, n);
        }
        ['on', 'once', 'off', 'listenTo', 'stopListening', 'fire', 'delegate', 'stopDelegating', '_addEventListener', '_removeEventListener'].forEach((e) => {
            ei[e] = ti.prototype[e];
        });
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const ai = Symbol('observableProperties'),
            li = Symbol('boundObservables'),
            ci = Symbol('boundProperties'),
            di = Symbol('decoratedMethods'),
            ui = Symbol('decoratedOriginal');
        function mi(e) {
            return class extends e {
                set(e, t) {
                    if (dt(e))
                        return void Object.keys(e).forEach((t) => {
                            this.set(t, e[t]);
                        }, this);
                    hi(this);
                    const i = this[ai];
                    if (e in this && !i.has(e)) throw new Qt('observable-set-cannot-override', this);
                    Object.defineProperty(this, e, {
                        enumerable: !0,
                        configurable: !0,
                        get: () => i.get(e),
                        set(t) {
                            const n = i.get(e);
                            let o = this.fire('set:' + e, e, t, n);
                            void 0 === o && (o = t), (n === o && i.has(e)) || (i.set(e, o), this.fire('change:' + e, e, o, n));
                        },
                    }),
                        (this[e] = t);
                }
                bind(...e) {
                    if (!e.length || !bi(e)) throw new Qt('observable-bind-wrong-properties', this);
                    if (new Set(e).size !== e.length) throw new Qt('observable-bind-duplicate-properties', this);
                    hi(this);
                    const t = this[ci];
                    e.forEach((e) => {
                        if (t.has(e)) throw new Qt('observable-bind-rebind', this);
                    });
                    const i = new Map();
                    return (
                        e.forEach((e) => {
                            const n = { property: e, to: [] };
                            t.set(e, n), i.set(e, n);
                        }),
                        { to: pi, toMany: fi, _observable: this, _bindProperties: e, _to: [], _bindings: i }
                    );
                }
                unbind(...e) {
                    if (!this[ai]) return;
                    const t = this[ci],
                        i = this[li];
                    if (e.length) {
                        if (!bi(e)) throw new Qt('observable-unbind-wrong-properties', this);
                        e.forEach((e) => {
                            const n = t.get(e);
                            n &&
                                (n.to.forEach(([e, t]) => {
                                    const o = i.get(e),
                                        s = o[t];
                                    s.delete(n), s.size || delete o[t], Object.keys(o).length || (i.delete(e), this.stopListening(e, 'change'));
                                }),
                                t.delete(e));
                        });
                    } else
                        i.forEach((e, t) => {
                            this.stopListening(t, 'change');
                        }),
                            i.clear(),
                            t.clear();
                }
                decorate(e) {
                    hi(this);
                    const t = this[e];
                    if (!t) throw new Qt('observablemixin-cannot-decorate-undefined', this, { object: this, methodName: e });
                    this.on(e, (e, i) => {
                        e.return = t.apply(this, i);
                    }),
                        (this[e] = function (...t) {
                            return this.fire(e, t);
                        }),
                        (this[e][ui] = t),
                        this[di] || (this[di] = []),
                        this[di].push(e);
                }
                stopListening(e, t, i) {
                    if (!e && this[di]) {
                        for (const e of this[di]) this[e] = this[e][ui];
                        delete this[di];
                    }
                    ti.prototype.stopListening.call(this, e, t, i);
                }
            };
        }
        const gi = mi(ti);
        function hi(e) {
            e[ai] || (Object.defineProperty(e, ai, { value: new Map() }), Object.defineProperty(e, li, { value: new Map() }), Object.defineProperty(e, ci, { value: new Map() }));
        }
        function pi(...e) {
            const t = (function (...e) {
                    if (!e.length) throw new Qt('observable-bind-to-parse-error', null);
                    const t = { to: [] };
                    let i;
                    'function' == typeof e[e.length - 1] && (t.callback = e.pop());
                    return (
                        e.forEach((e) => {
                            if ('string' == typeof e) i.properties.push(e);
                            else {
                                if ('object' != typeof e) throw new Qt('observable-bind-to-parse-error', null);
                                (i = { observable: e, properties: [] }), t.to.push(i);
                            }
                        }),
                        t
                    );
                })(...e),
                i = Array.from(this._bindings.keys()),
                n = i.length;
            if (!t.callback && t.to.length > 1) throw new Qt('observable-bind-to-no-callback', this);
            if (n > 1 && t.callback) throw new Qt('observable-bind-to-extra-callback', this);
            var o;
            t.to.forEach((e) => {
                if (e.properties.length && e.properties.length !== n) throw new Qt('observable-bind-to-properties-length', this);
                e.properties.length || (e.properties = this._bindProperties);
            }),
                (this._to = t.to),
                t.callback && (this._bindings.get(i[0]).callback = t.callback),
                (o = this._observable),
                this._to.forEach((e) => {
                    const t = o[li];
                    let i;
                    t.get(e.observable) ||
                        o.listenTo(e.observable, 'change', (n, s) => {
                            (i = t.get(e.observable)[s]),
                                i &&
                                    i.forEach((e) => {
                                        wi(o, e.property);
                                    });
                        });
                }),
                (function (e) {
                    let t;
                    e._bindings.forEach((i, n) => {
                        e._to.forEach((o) => {
                            (t = o.properties[i.callback ? 0 : e._bindProperties.indexOf(n)]),
                                i.to.push([o.observable, t]),
                                (function (e, t, i, n) {
                                    const o = e[li],
                                        s = o.get(i),
                                        r = s || {};
                                    r[n] || (r[n] = new Set());
                                    r[n].add(t), s || o.set(i, r);
                                })(e._observable, i, o.observable, t);
                        });
                    });
                })(this),
                this._bindProperties.forEach((e) => {
                    wi(this._observable, e);
                });
        }
        function fi(e, t, i) {
            if (this._bindings.size > 1) throw new Qt('observable-bind-to-many-not-one-binding', this);
            this.to(
                ...(function (e, t) {
                    const i = e.map((e) => [e, t]);
                    return Array.prototype.concat.apply([], i);
                })(e, t),
                i,
            );
        }
        function bi(e) {
            return e.every((e) => 'string' == typeof e);
        }
        function wi(e, t) {
            const i = e[ci].get(t);
            let n;
            i.callback
                ? (n = i.callback.apply(
                      e,
                      i.to.map((e) => e[0][e[1]]),
                  ))
                : ((n = i.to[0]), (n = n[0][n[1]])),
                Object.prototype.hasOwnProperty.call(e, t) ? (e[t] = n) : e.set(t, n);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function ki(e, ...t) {
            t.forEach((t) => {
                const i = Object.getOwnPropertyNames(t),
                    n = Object.getOwnPropertySymbols(t);
                i.concat(n).forEach((i) => {
                    if (i in e.prototype) return;
                    if ('function' == typeof t && ('length' == i || 'name' == i || 'prototype' == i)) return;
                    const n = Object.getOwnPropertyDescriptor(t, i);
                    (n.enumerable = !1), Object.defineProperty(e.prototype, i, n);
                });
            });
        }
        [
            'set',
            'bind',
            'unbind',
            'decorate',
            'on',
            'once',
            'off',
            'listenTo',
            'stopListening',
            'fire',
            'delegate',
            'stopDelegating',
            '_addEventListener',
            '_removeEventListener',
        ].forEach((e) => {
            mi[e] = gi.prototype[e];
        });
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class vi {
            constructor(e) {
                (this.editor = e), this.set('isEnabled', !0), (this._disableStack = new Set());
            }
            forceDisabled(e) {
                this._disableStack.add(e), 1 == this._disableStack.size && (this.on('set:isEnabled', _i, { priority: 'highest' }), (this.isEnabled = !1));
            }
            clearForceDisabled(e) {
                this._disableStack.delete(e), 0 == this._disableStack.size && (this.off('set:isEnabled', _i), (this.isEnabled = !0));
            }
            destroy() {
                this.stopListening();
            }
            static get isContextPlugin() {
                return !1;
            }
        }
        function _i(e) {
            (e.return = !1), e.stop();
        }
        ki(vi, mi);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class yi {
            constructor(e) {
                this.context = e;
            }
            destroy() {
                this.stopListening();
            }
            static get isContextPlugin() {
                return !0;
            }
        }
        ki(yi, mi);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ii extends ti {
            constructor(e = {}, t = {}) {
                super();
                const i = !(!(n = e) || !n[Symbol.iterator]);
                /**
                 * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                 * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                 */
                var n;
                if (
                    (i || (t = e),
                    (this._items = []),
                    (this._itemMap = new Map()),
                    (this._idProperty = t.idProperty || 'id'),
                    (this._bindToExternalToInternalMap = new WeakMap()),
                    (this._bindToInternalToExternalMap = new WeakMap()),
                    (this._skippedIndexesFromExternal = []),
                    i)
                )
                    for (const t of e) this._items.push(t), this._itemMap.set(this._getItemIdBeforeAdding(t), t);
            }
            get length() {
                return this._items.length;
            }
            get first() {
                return this._items[0] || null;
            }
            get last() {
                return this._items[this.length - 1] || null;
            }
            add(e, t) {
                return this.addMany([e], t);
            }
            addMany(e, t) {
                if (void 0 === t) t = this._items.length;
                else if (t > this._items.length || t < 0) throw new Qt('collection-add-item-invalid-index', this);
                let i = 0;
                for (const n of e) {
                    const e = this._getItemIdBeforeAdding(n),
                        o = t + i;
                    this._items.splice(o, 0, n), this._itemMap.set(e, n), this.fire('add', n, o), i++;
                }
                return this.fire('change', { added: e, removed: [], index: t }), this;
            }
            get(e) {
                let t;
                if ('string' == typeof e) t = this._itemMap.get(e);
                else {
                    if ('number' != typeof e) throw new Qt('collection-get-invalid-arg', this);
                    t = this._items[e];
                }
                return t || null;
            }
            has(e) {
                if ('string' == typeof e) return this._itemMap.has(e);
                {
                    const t = e[this._idProperty];
                    return t && this._itemMap.has(t);
                }
            }
            getIndex(e) {
                let t;
                return (t = 'string' == typeof e ? this._itemMap.get(e) : e), t ? this._items.indexOf(t) : -1;
            }
            remove(e) {
                const [t, i] = this._remove(e);
                return this.fire('change', { added: [], removed: [t], index: i }), t;
            }
            map(e, t) {
                return this._items.map(e, t);
            }
            find(e, t) {
                return this._items.find(e, t);
            }
            filter(e, t) {
                return this._items.filter(e, t);
            }
            clear() {
                this._bindToCollection && (this.stopListening(this._bindToCollection), (this._bindToCollection = null));
                const e = Array.from(this._items);
                for (; this.length; ) this._remove(0);
                this.fire('change', { added: [], removed: e, index: 0 });
            }
            bindTo(e) {
                if (this._bindToCollection) throw new Qt('collection-bind-to-rebind', this);
                return (
                    (this._bindToCollection = e),
                    {
                        as: (e) => {
                            this._setUpBindToBinding((t) => new e(t));
                        },
                        using: (e) => {
                            'function' == typeof e ? this._setUpBindToBinding(e) : this._setUpBindToBinding((t) => t[e]);
                        },
                    }
                );
            }
            _setUpBindToBinding(e) {
                const t = this._bindToCollection,
                    i = (i, n, o) => {
                        const s = t._bindToCollection == this,
                            r = t._bindToInternalToExternalMap.get(n);
                        if (s && r) this._bindToExternalToInternalMap.set(n, r), this._bindToInternalToExternalMap.set(r, n);
                        else {
                            const i = e(n);
                            if (!i) return void this._skippedIndexesFromExternal.push(o);
                            let s = o;
                            for (const e of this._skippedIndexesFromExternal) o > e && s--;
                            for (const e of t._skippedIndexesFromExternal) s >= e && s++;
                            this._bindToExternalToInternalMap.set(n, i), this._bindToInternalToExternalMap.set(i, n), this.add(i, s);
                            for (let e = 0; e < t._skippedIndexesFromExternal.length; e++) s <= t._skippedIndexesFromExternal[e] && t._skippedIndexesFromExternal[e]++;
                        }
                    };
                for (const e of t) i(0, e, t.getIndex(e));
                this.listenTo(t, 'add', i),
                    this.listenTo(t, 'remove', (e, t, i) => {
                        const n = this._bindToExternalToInternalMap.get(t);
                        n && this.remove(n),
                            (this._skippedIndexesFromExternal = this._skippedIndexesFromExternal.reduce((e, t) => (i < t && e.push(t - 1), i > t && e.push(t), e), []));
                    });
            }
            _getItemIdBeforeAdding(e) {
                const t = this._idProperty;
                let i;
                if (t in e) {
                    if (((i = e[t]), 'string' != typeof i)) throw new Qt('collection-add-invalid-id', this);
                    if (this.get(i)) throw new Qt('collection-add-item-already-exists', this);
                } else e[t] = i = Yt();
                return i;
            }
            _remove(e) {
                let t,
                    i,
                    n,
                    o = !1;
                const s = this._idProperty;
                if (
                    ('string' == typeof e
                        ? ((i = e), (n = this._itemMap.get(i)), (o = !n), n && (t = this._items.indexOf(n)))
                        : 'number' == typeof e
                        ? ((t = e), (n = this._items[t]), (o = !n), n && (i = n[s]))
                        : ((n = e), (i = n[s]), (t = this._items.indexOf(n)), (o = -1 == t || !this._itemMap.get(i))),
                    o)
                )
                    throw new Qt('collection-remove-404', this);
                this._items.splice(t, 1), this._itemMap.delete(i);
                const r = this._bindToInternalToExternalMap.get(n);
                return this._bindToInternalToExternalMap.delete(n), this._bindToExternalToInternalMap.delete(r), this.fire('remove', n, t), [n, t];
            }
            [Symbol.iterator]() {
                return this._items[Symbol.iterator]();
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ci extends yi {
            static get pluginName() {
                return 'PendingActions';
            }
            init() {
                this.set('hasAny', !1), (this._actions = new Ii({ idProperty: '_id' })), this._actions.delegate('add', 'remove').to(this);
            }
            add(e) {
                if ('string' != typeof e) throw new Qt('pendingactions-add-invalid-message', this);
                const t = Object.create(mi);
                return t.set('message', e), this._actions.add(t), (this.hasAny = !0), t;
            }
            remove(e) {
                this._actions.remove(e), (this.hasAny = !!this._actions.length);
            }
            get first() {
                return this._actions.get(0);
            }
            [Symbol.iterator]() {
                return this._actions[Symbol.iterator]();
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ai {
            constructor() {
                const e = new window.FileReader();
                (this._reader = e),
                    (this._data = void 0),
                    this.set('loaded', 0),
                    (e.onprogress = (e) => {
                        this.loaded = e.loaded;
                    });
            }
            get error() {
                return this._reader.error;
            }
            get data() {
                return this._data;
            }
            read(e) {
                const t = this._reader;
                return (
                    (this.total = e.size),
                    new Promise((i, n) => {
                        (t.onload = () => {
                            const e = t.result;
                            (this._data = e), i(e);
                        }),
                            (t.onerror = () => {
                                n('error');
                            }),
                            (t.onabort = () => {
                                n('aborted');
                            }),
                            this._reader.readAsDataURL(e);
                    })
                );
            }
            abort() {
                this._reader.abort();
            }
        }
        ki(Ai, mi);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class xi extends vi {
            static get pluginName() {
                return 'FileRepository';
            }
            static get requires() {
                return [Ci];
            }
            init() {
                (this.loaders = new Ii()),
                    this.loaders.on('add', () => this._updatePendingAction()),
                    this.loaders.on('remove', () => this._updatePendingAction()),
                    (this._loadersMap = new Map()),
                    (this._pendingAction = null),
                    this.set('uploaded', 0),
                    this.set('uploadTotal', null),
                    this.bind('uploadedPercent').to(this, 'uploaded', this, 'uploadTotal', (e, t) => (t ? (e / t) * 100 : 0));
            }
            getLoader(e) {
                return this._loadersMap.get(e) || null;
            }
            createLoader(e) {
                if (!this.createUploadAdapter) return (t = 'filerepository-no-upload-adapter'), console.warn(...$t(t, i)), null;
                var t, i;
                const n = new Ti(Promise.resolve(e), this.createUploadAdapter);
                return (
                    this.loaders.add(n),
                    this._loadersMap.set(e, n),
                    e instanceof Promise &&
                        n.file
                            .then((e) => {
                                this._loadersMap.set(e, n);
                            })
                            .catch(() => {}),
                    n.on('change:uploaded', () => {
                        let e = 0;
                        for (const t of this.loaders) e += t.uploaded;
                        this.uploaded = e;
                    }),
                    n.on('change:uploadTotal', () => {
                        let e = 0;
                        for (const t of this.loaders) t.uploadTotal && (e += t.uploadTotal);
                        this.uploadTotal = e;
                    }),
                    n
                );
            }
            destroyLoader(e) {
                const t = e instanceof Ti ? e : this.getLoader(e);
                t._destroy(),
                    this.loaders.remove(t),
                    this._loadersMap.forEach((e, i) => {
                        e === t && this._loadersMap.delete(i);
                    });
            }
            _updatePendingAction() {
                const e = this.editor.plugins.get(Ci);
                if (this.loaders.length) {
                    if (!this._pendingAction) {
                        const t = this.editor.t,
                            i = (e) => `${t('Upload in progress')} ${parseInt(e)}%.`;
                        (this._pendingAction = e.add(i(this.uploadedPercent))), this._pendingAction.bind('message').to(this, 'uploadedPercent', i);
                    }
                } else e.remove(this._pendingAction), (this._pendingAction = null);
            }
        }
        ki(xi, mi);
        class Ti {
            constructor(e, t) {
                (this.id = Yt()),
                    (this._filePromiseWrapper = this._createFilePromiseWrapper(e)),
                    (this._adapter = t(this)),
                    (this._reader = new Ai()),
                    this.set('status', 'idle'),
                    this.set('uploaded', 0),
                    this.set('uploadTotal', null),
                    this.bind('uploadedPercent').to(this, 'uploaded', this, 'uploadTotal', (e, t) => (t ? (e / t) * 100 : 0)),
                    this.set('uploadResponse', null);
            }
            get file() {
                return this._filePromiseWrapper ? this._filePromiseWrapper.promise.then((e) => (this._filePromiseWrapper ? e : null)) : Promise.resolve(null);
            }
            get data() {
                return this._reader.data;
            }
            read() {
                if ('idle' != this.status) throw new Qt('filerepository-read-wrong-status', this);
                return (
                    (this.status = 'reading'),
                    this.file
                        .then((e) => this._reader.read(e))
                        .then((e) => {
                            if ('reading' !== this.status) throw this.status;
                            return (this.status = 'idle'), e;
                        })
                        .catch((e) => {
                            if ('aborted' === e) throw ((this.status = 'aborted'), 'aborted');
                            throw ((this.status = 'error'), this._reader.error ? this._reader.error : e);
                        })
                );
            }
            upload() {
                if ('idle' != this.status) throw new Qt('filerepository-upload-wrong-status', this);
                return (
                    (this.status = 'uploading'),
                    this.file
                        .then(() => this._adapter.upload())
                        .then((e) => ((this.uploadResponse = e), (this.status = 'idle'), e))
                        .catch((e) => {
                            if ('aborted' === this.status) throw 'aborted';
                            throw ((this.status = 'error'), e);
                        })
                );
            }
            abort() {
                const e = this.status;
                (this.status = 'aborted'),
                    this._filePromiseWrapper.isFulfilled
                        ? 'reading' == e
                            ? this._reader.abort()
                            : 'uploading' == e && this._adapter.abort && this._adapter.abort()
                        : (this._filePromiseWrapper.promise.catch(() => {}), this._filePromiseWrapper.rejecter('aborted')),
                    this._destroy();
            }
            _destroy() {
                (this._filePromiseWrapper = void 0), (this._reader = void 0), (this._adapter = void 0), (this.uploadResponse = void 0);
            }
            _createFilePromiseWrapper(e) {
                const t = {};
                return (
                    (t.promise = new Promise((i, n) => {
                        (t.rejecter = n),
                            (t.isFulfilled = !1),
                            e
                                .then((e) => {
                                    (t.isFulfilled = !0), i(e);
                                })
                                .catch((e) => {
                                    (t.isFulfilled = !0), n(e);
                                });
                    })),
                    t
                );
            }
        }
        ki(Ti, mi);
        class Mi {
            constructor(e) {
                this.loader = e;
            }
            upload() {
                return new Promise((e, t) => {
                    const i = (this.reader = new window.FileReader());
                    i.addEventListener('load', () => {
                        e({ default: i.result });
                    }),
                        i.addEventListener('error', (e) => {
                            t(e);
                        }),
                        i.addEventListener('abort', () => {
                            t();
                        }),
                        this.loader.file.then((e) => {
                            i.readAsDataURL(e);
                        });
                });
            }
            abort() {
                this.reader.abort();
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ei extends t.Plugin {
            static get pluginName() {
                return 'IndentEditing';
            }
            init() {
                const e = this.editor;
                e.commands.add('indent', new t.MultiCommand(e)), e.commands.add('outdent', new t.MultiCommand(e));
            }
        }
        const Si =
                '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95 5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',
            Li =
                '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>';
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ni extends t.Plugin {
            static get pluginName() {
                return 'IndentUI';
            }
            init() {
                const e = this.editor,
                    t = e.locale,
                    i = e.t,
                    n = 'ltr' == t.uiLanguageDirection ? Si : Li,
                    o = 'ltr' == t.uiLanguageDirection ? Li : Si;
                this._defineButton('indent', i('Increase indent'), n), this._defineButton('outdent', i('Decrease indent'), o);
            }
            _defineButton(e, t, i) {
                const n = this.editor;
                n.ui.componentFactory.add(e, (o) => {
                    const s = n.commands.get(e),
                        r = new x.ButtonView(o);
                    return (
                        r.set({ label: t, icon: i, tooltip: !0 }),
                        r.bind('isOn', 'isEnabled').to(s, 'value', 'isEnabled'),
                        this.listenTo(r, 'execute', () => {
                            n.execute(e), n.editing.view.focus();
                        }),
                        r
                    );
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ji extends t.Plugin {
            static get pluginName() {
                return 'Indent';
            }
            static get requires() {
                return [Ei, Ni];
            }
        }
        class Di extends t.Plugin {
            static get pluginName() {
                return 'ItalicEditing';
            }
            init() {
                const e = this.editor;
                e.model.schema.extend('$text', { allowAttributes: 'italic' }),
                    e.model.schema.setAttributeProperties('italic', { isFormatting: !0, copyOnEnter: !0 }),
                    e.conversion.attributeToElement({ model: 'italic', view: 'i', upcastAlso: ['em', { styles: { 'font-style': 'italic' } }] }),
                    e.commands.add('italic', new te(e, 'italic')),
                    e.keystrokes.set('CTRL+I', 'italic');
            }
        }
        class zi extends t.Plugin {
            static get pluginName() {
                return 'ItalicUI';
            }
            init() {
                const e = this.editor,
                    t = e.t;
                e.ui.componentFactory.add('italic', (i) => {
                    const n = e.commands.get('italic'),
                        o = new x.ButtonView(i);
                    return (
                        o.set({
                            label: t('Italic'),
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m9.586 14.633.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',
                            keystroke: 'CTRL+I',
                            tooltip: !0,
                            isToggleable: !0,
                        }),
                        o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
                        this.listenTo(o, 'execute', () => {
                            e.execute('italic'), e.editing.view.focus();
                        }),
                        o
                    );
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Pi extends t.Plugin {
            static get requires() {
                return [Di, zi];
            }
            static get pluginName() {
                return 'Italic';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Bi {
            constructor() {
                this._definitions = new Set();
            }
            get length() {
                return this._definitions.size;
            }
            add(e) {
                Array.isArray(e) ? e.forEach((e) => this._definitions.add(e)) : this._definitions.add(e);
            }
            getDispatcher() {
                return (e) => {
                    e.on(
                        'attribute:linkHref',
                        (e, t, i) => {
                            if (!i.consumable.test(t.item, 'attribute:linkHref')) return;
                            if (!t.item.is('selection') && !i.schema.isInline(t.item)) return;
                            const n = i.writer,
                                o = n.document.selection;
                            for (const e of this._definitions) {
                                const s = n.createAttributeElement('a', e.attributes, { priority: 5 });
                                e.classes && n.addClass(e.classes, s);
                                for (const t in e.styles) n.setStyle(t, e.styles[t], s);
                                n.setCustomProperty('link', !0, s),
                                    e.callback(t.attributeNewValue)
                                        ? t.item.is('selection')
                                            ? n.wrap(o.getFirstRange(), s)
                                            : n.wrap(i.mapper.toViewRange(t.range), s)
                                        : n.unwrap(i.mapper.toViewRange(t.range), s);
                            }
                        },
                        { priority: 'high' },
                    );
                };
            }
            getDispatcherForLinkedImage() {
                return (e) => {
                    e.on('attribute:linkHref:imageBlock', (e, t, { writer: i, mapper: n }) => {
                        const s = n.toViewElement(t.item),
                            r = Array.from(s.getChildren()).find((e) => 'a' === e.name);
                        for (const e of this._definitions) {
                            const n = (0, o.toMap)(e.attributes);
                            if (e.callback(t.attributeNewValue)) {
                                for (const [e, t] of n) 'class' === e ? i.addClass(t, r) : i.setAttribute(e, t, r);
                                e.classes && i.addClass(e.classes, r);
                                for (const t in e.styles) i.setStyle(t, e.styles[t], r);
                            } else {
                                for (const [e, t] of n) 'class' === e ? i.removeClass(t, r) : i.removeAttribute(e, r);
                                e.classes && i.removeClass(e.classes, r);
                                for (const t in e.styles) i.removeStyle(t, r);
                            }
                        }
                    });
                };
            }
        }
        const Ri = function (e, t, i) {
            var n = -1,
                o = e.length;
            t < 0 && (t = -t > o ? 0 : o + t), (i = i > o ? o : i) < 0 && (i += o), (o = t > i ? 0 : (i - t) >>> 0), (t >>>= 0);
            for (var s = Array(o); ++n < o; ) s[n] = e[n + t];
            return s;
        };
        const Oi = function (e, t, i) {
            var n = e.length;
            return (i = void 0 === i ? n : i), !t && i >= n ? e : Ri(e, t, i);
        };
        var Vi = RegExp('[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]');
        const Ui = function (e) {
            return Vi.test(e);
        };
        const Fi = function (e) {
            return e.split('');
        };
        var Hi = '[\\ud800-\\udfff]',
            Yi = '[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]',
            Wi = '\\ud83c[\\udffb-\\udfff]',
            Zi = '[^\\ud800-\\udfff]',
            Qi = '(?:\\ud83c[\\udde6-\\uddff]){2}',
            qi = '[\\ud800-\\udbff][\\udc00-\\udfff]',
            $i = '(?:' + Yi + '|' + Wi + ')' + '?',
            Gi = '[\\ufe0e\\ufe0f]?' + $i + ('(?:\\u200d(?:' + [Zi, Qi, qi].join('|') + ')[\\ufe0e\\ufe0f]?' + $i + ')*'),
            Ki = '(?:' + [Zi + Yi + '?', Yi, Qi, qi, Hi].join('|') + ')',
            Ji = RegExp(Wi + '(?=' + Wi + ')|' + Ki + Gi, 'g');
        const Xi = function (e) {
            return e.match(Ji) || [];
        };
        const en = function (e) {
            return Ui(e) ? Xi(e) : Fi(e);
        };
        const tn = function (e, t) {
            for (var i = -1, n = null == e ? 0 : e.length, o = Array(n); ++i < n; ) o[i] = t(e[i], i, e);
            return o;
        };
        const nn = Array.isArray;
        const on = function (e) {
            return 'symbol' == typeof e || (s(e) && '[object Symbol]' == b(e));
        };
        var sn = l ? l.prototype : void 0,
            rn = sn ? sn.toString : void 0;
        const an = function e(t) {
            if ('string' == typeof t) return t;
            if (nn(t)) return tn(t, e) + '';
            if (on(t)) return rn ? rn.call(t) : '';
            var i = t + '';
            return '0' == i && 1 / t == -1 / 0 ? '-0' : i;
        };
        const ln = function (e) {
            return null == e ? '' : an(e);
        };
        const cn = (function (e) {
                return function (t) {
                    t = ln(t);
                    var i = Ui(t) ? en(t) : void 0,
                        n = i ? i[0] : t.charAt(0),
                        o = i ? Oi(i, 1).join('') : t.slice(1);
                    return n[e]() + o;
                };
            })('toUpperCase'),
            dn = /[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,
            un = /^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i,
            mn = /^[\S]+@((?![-_])(?:[-\w\u00a1-\uffff]{0,63}[^-_]\.))+(?:[a-z\u00a1-\uffff]{2,})$/i,
            gn = /^((\w+:(\/{2,})?)|(\W))/i;
        function hn(e, { writer: t }) {
            const i = t.createAttributeElement('a', { href: e }, { priority: 5 });
            return t.setCustomProperty('link', !0, i), i;
        }
        function pn(e) {
            return (function (e) {
                return e.replace(dn, '').match(un);
            })((e = String(e)))
                ? e
                : '#';
        }
        function fn(e, t) {
            return !!e && t.checkAttribute(e.name, 'linkHref');
        }
        function bn(e, t) {
            const i = ((n = e), mn.test(n) ? 'mailto:' : t);
            var n;
            const o = !!i && !gn.test(e);
            return e && o ? i + e : e;
        }
        function wn(e) {
            window.open(e, '_blank', 'noopener');
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class kn extends t.Command {
            constructor(e) {
                super(e), (this.manualDecorators = new o.Collection()), (this.automaticDecorators = new Bi());
            }
            restoreManualDecoratorStates() {
                for (const e of this.manualDecorators) e.value = this._getDecoratorStateFromModel(e.id);
            }
            refresh() {
                const e = this.editor.model,
                    t = e.document.selection,
                    i = t.getSelectedElement() || (0, o.first)(t.getSelectedBlocks());
                fn(i, e.schema)
                    ? ((this.value = i.getAttribute('linkHref')), (this.isEnabled = e.schema.checkAttribute(i, 'linkHref')))
                    : ((this.value = t.getAttribute('linkHref')), (this.isEnabled = e.schema.checkAttributeInSelection(t, 'linkHref')));
                for (const e of this.manualDecorators) e.value = this._getDecoratorStateFromModel(e.id);
            }
            execute(e, t = {}) {
                const i = this.editor.model,
                    n = i.document.selection,
                    s = [],
                    r = [];
                for (const e in t) t[e] ? s.push(e) : r.push(e);
                i.change((t) => {
                    if (n.isCollapsed) {
                        const a = n.getFirstPosition();
                        if (n.hasAttribute('linkHref')) {
                            const o = (0, R.findAttributeRange)(a, 'linkHref', n.getAttribute('linkHref'), i);
                            t.setAttribute('linkHref', e, o),
                                s.forEach((e) => {
                                    t.setAttribute(e, !0, o);
                                }),
                                r.forEach((e) => {
                                    t.removeAttribute(e, o);
                                }),
                                t.setSelection(t.createPositionAfter(o.end.nodeBefore));
                        } else if ('' !== e) {
                            const r = (0, o.toMap)(n.getAttributes());
                            r.set('linkHref', e),
                                s.forEach((e) => {
                                    r.set(e, !0);
                                });
                            const { end: l } = i.insertContent(t.createText(e, r), a);
                            t.setSelection(l);
                        }
                        ['linkHref', ...s, ...r].forEach((e) => {
                            t.removeSelectionAttribute(e);
                        });
                    } else {
                        const o = i.schema.getValidRanges(n.getRanges(), 'linkHref'),
                            a = [];
                        for (const e of n.getSelectedBlocks()) i.schema.checkAttribute(e, 'linkHref') && a.push(t.createRangeOn(e));
                        const l = a.slice();
                        for (const e of o) this._isRangeToUpdate(e, a) && l.push(e);
                        for (const i of l)
                            t.setAttribute('linkHref', e, i),
                                s.forEach((e) => {
                                    t.setAttribute(e, !0, i);
                                }),
                                r.forEach((e) => {
                                    t.removeAttribute(e, i);
                                });
                    }
                });
            }
            _getDecoratorStateFromModel(e) {
                const t = this.editor.model,
                    i = t.document.selection,
                    n = i.getSelectedElement();
                return fn(n, t.schema) ? n.getAttribute(e) : i.getAttribute(e);
            }
            _isRangeToUpdate(e, t) {
                for (const i of t) if (i.containsRange(e)) return !1;
                return !0;
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class vn extends t.Command {
            refresh() {
                const e = this.editor.model,
                    t = e.document.selection,
                    i = t.getSelectedElement();
                fn(i, e.schema) ? (this.isEnabled = e.schema.checkAttribute(i, 'linkHref')) : (this.isEnabled = e.schema.checkAttributeInSelection(t, 'linkHref'));
            }
            execute() {
                const e = this.editor,
                    t = this.editor.model,
                    i = t.document.selection,
                    n = e.commands.get('link');
                t.change((e) => {
                    const o = i.isCollapsed
                        ? [(0, R.findAttributeRange)(i.getFirstPosition(), 'linkHref', i.getAttribute('linkHref'), t)]
                        : t.schema.getValidRanges(i.getRanges(), 'linkHref');
                    for (const t of o) if ((e.removeAttribute('linkHref', t), n)) for (const i of n.manualDecorators) e.removeAttribute(i.id, t);
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class _n {
            constructor({ id: e, label: t, attributes: i, classes: n, styles: o, defaultValue: s }) {
                (this.id = e), this.set('value'), (this.defaultValue = s), (this.label = t), (this.attributes = i), (this.classes = n), (this.styles = o);
            }
            _createPattern() {
                return { attributes: this.attributes, classes: this.classes, styles: this.styles };
            }
        }
        (0, o.mix)(_n, o.ObservableMixin);
        var yn = i(399),
            In = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(yn.Z, In);
        yn.Z.locals;
        const Cn = /^(https?:)?\/\//;
        class An extends t.Plugin {
            static get pluginName() {
                return 'LinkEditing';
            }
            static get requires() {
                return [R.TwoStepCaretMovement, R.Input, z.ClipboardPipeline];
            }
            constructor(e) {
                super(e), e.config.define('link', { addTargetToExternalLinks: !1 });
            }
            init() {
                const e = this.editor;
                e.model.schema.extend('$text', { allowAttributes: 'linkHref' }),
                    e.conversion.for('dataDowncast').attributeToElement({ model: 'linkHref', view: hn }),
                    e.conversion.for('editingDowncast').attributeToElement({ model: 'linkHref', view: (e, t) => hn(pn(e), t) }),
                    e.conversion
                        .for('upcast')
                        .elementToAttribute({ view: { name: 'a', attributes: { href: !0 } }, model: { key: 'linkHref', value: (e) => e.getAttribute('href') } }),
                    e.commands.add('link', new kn(e)),
                    e.commands.add('unlink', new vn(e));
                const t = (function (e, t) {
                    const i = { 'Open in a new tab': e('Open in a new tab'), Downloadable: e('Downloadable') };
                    return t.forEach((e) => (e.label && i[e.label] && (e.label = i[e.label]), e)), t;
                })(
                    e.t,
                    (function (e) {
                        const t = [];
                        if (e)
                            for (const [i, n] of Object.entries(e)) {
                                const e = Object.assign({}, n, { id: 'link' + cn(i) });
                                t.push(e);
                            }
                        return t;
                    })(e.config.get('link.decorators')),
                );
                this._enableAutomaticDecorators(t.filter((e) => 'automatic' === e.mode)), this._enableManualDecorators(t.filter((e) => 'manual' === e.mode));
                e.plugins.get(R.TwoStepCaretMovement).registerAttribute('linkHref'),
                    (0, R.inlineHighlight)(e, 'linkHref', 'a', 'ck-link_selected'),
                    this._enableLinkOpen(),
                    this._enableInsertContentSelectionAttributesFixer(),
                    this._enableClickingAfterLink(),
                    this._enableTypingOverLink(),
                    this._handleDeleteContentAfterLink();
            }
            _enableAutomaticDecorators(e) {
                const t = this.editor,
                    i = t.commands.get('link').automaticDecorators;
                t.config.get('link.addTargetToExternalLinks') &&
                    i.add({ id: 'linkIsExternal', mode: 'automatic', callback: (e) => Cn.test(e), attributes: { target: '_blank', rel: 'noopener noreferrer' } }),
                    i.add(e),
                    i.length && t.conversion.for('downcast').add(i.getDispatcher());
            }
            _enableManualDecorators(e) {
                if (!e.length) return;
                const t = this.editor,
                    i = t.commands.get('link').manualDecorators;
                e.forEach((e) => {
                    t.model.schema.extend('$text', { allowAttributes: e.id }),
                        (e = new _n(e)),
                        i.add(e),
                        t.conversion.for('downcast').attributeToElement({
                            model: e.id,
                            view: (t, { writer: i, schema: n }, { item: o }) => {
                                if ((o.is('selection') || n.isInline(o)) && t) {
                                    const t = i.createAttributeElement('a', e.attributes, { priority: 5 });
                                    e.classes && i.addClass(e.classes, t);
                                    for (const n in e.styles) i.setStyle(n, e.styles[n], t);
                                    return i.setCustomProperty('link', !0, t), t;
                                }
                            },
                        }),
                        t.conversion.for('upcast').elementToAttribute({ view: { name: 'a', ...e._createPattern() }, model: { key: e.id } });
                });
            }
            _enableLinkOpen() {
                const e = this.editor,
                    t = e.editing.view.document,
                    i = e.model.document;
                this.listenTo(
                    t,
                    'click',
                    (e, t) => {
                        if (!(o.env.isMac ? t.domEvent.metaKey : t.domEvent.ctrlKey)) return;
                        let i = t.domTarget;
                        if (('a' != i.tagName.toLowerCase() && (i = i.closest('a')), !i)) return;
                        const n = i.getAttribute('href');
                        n && (e.stop(), t.preventDefault(), wn(n));
                    },
                    { context: '$capture' },
                ),
                    this.listenTo(
                        t,
                        'enter',
                        (e, t) => {
                            const n = i.selection,
                                o = n.getSelectedElement(),
                                s = o ? o.getAttribute('linkHref') : n.getAttribute('linkHref');
                            s && t.domEvent.altKey && (e.stop(), wn(s));
                        },
                        { context: 'a' },
                    );
            }
            _enableInsertContentSelectionAttributesFixer() {
                const e = this.editor.model,
                    t = e.document.selection;
                this.listenTo(
                    e,
                    'insertContent',
                    () => {
                        const i = t.anchor.nodeBefore,
                            n = t.anchor.nodeAfter;
                        t.hasAttribute('linkHref') &&
                            i &&
                            i.hasAttribute('linkHref') &&
                            ((n && n.hasAttribute('linkHref')) ||
                                e.change((t) => {
                                    xn(t, Mn(e.schema));
                                }));
                    },
                    { priority: 'low' },
                );
            }
            _enableClickingAfterLink() {
                const e = this.editor,
                    t = e.model;
                e.editing.view.addObserver(T.MouseObserver);
                let i = !1;
                this.listenTo(e.editing.view.document, 'mousedown', () => {
                    i = !0;
                }),
                    this.listenTo(e.editing.view.document, 'selectionChange', () => {
                        if (!i) return;
                        i = !1;
                        const e = t.document.selection;
                        if (!e.isCollapsed) return;
                        if (!e.hasAttribute('linkHref')) return;
                        const n = e.getFirstPosition(),
                            o = (0, R.findAttributeRange)(n, 'linkHref', e.getAttribute('linkHref'), t);
                        (n.isTouching(o.start) || n.isTouching(o.end)) &&
                            t.change((e) => {
                                xn(e, Mn(t.schema));
                            });
                    });
            }
            _enableTypingOverLink() {
                const e = this.editor,
                    t = e.editing.view;
                let i, n;
                this.listenTo(
                    t.document,
                    'delete',
                    () => {
                        n = !0;
                    },
                    { priority: 'high' },
                ),
                    this.listenTo(
                        e.model,
                        'deleteContent',
                        () => {
                            const t = e.model.document.selection;
                            t.isCollapsed ||
                                (n
                                    ? (n = !1)
                                    : Tn(e) &&
                                      (function (e) {
                                          const t = e.document.selection,
                                              i = t.getFirstPosition(),
                                              n = t.getLastPosition(),
                                              o = i.nodeAfter;
                                          if (!o) return !1;
                                          if (!o.is('$text')) return !1;
                                          if (!o.hasAttribute('linkHref')) return !1;
                                          const s = n.textNode || n.nodeBefore;
                                          if (o === s) return !0;
                                          return (0, R.findAttributeRange)(i, 'linkHref', o.getAttribute('linkHref'), e).containsRange(e.createRange(i, n), !0);
                                      })(e.model) &&
                                      (i = t.getAttributes()));
                        },
                        { priority: 'high' },
                    ),
                    this.listenTo(
                        e.model,
                        'insertContent',
                        (t, [o]) => {
                            (n = !1),
                                Tn(e) &&
                                    i &&
                                    (e.model.change((e) => {
                                        for (const [t, n] of i) e.setAttribute(t, n, o);
                                    }),
                                    (i = null));
                        },
                        { priority: 'high' },
                    );
            }
            _handleDeleteContentAfterLink() {
                const e = this.editor,
                    t = e.model,
                    i = t.document.selection,
                    n = e.editing.view;
                let s = !1,
                    r = !1;
                this.listenTo(
                    n.document,
                    'delete',
                    (e, t) => {
                        r = t.domEvent.keyCode === o.keyCodes.backspace;
                    },
                    { priority: 'high' },
                ),
                    this.listenTo(
                        t,
                        'deleteContent',
                        () => {
                            s = !1;
                            const e = i.getFirstPosition(),
                                n = i.getAttribute('linkHref');
                            if (!n) return;
                            const o = (0, R.findAttributeRange)(e, 'linkHref', n, t);
                            s = o.containsPosition(e) || o.end.isEqual(e);
                        },
                        { priority: 'high' },
                    ),
                    this.listenTo(
                        t,
                        'deleteContent',
                        () => {
                            r &&
                                ((r = !1),
                                s ||
                                    e.model.enqueueChange((e) => {
                                        xn(e, Mn(t.schema));
                                    }));
                        },
                        { priority: 'low' },
                    );
            }
        }
        function xn(e, t) {
            e.removeSelectionAttribute('linkHref');
            for (const i of t) e.removeSelectionAttribute(i);
        }
        function Tn(e) {
            return e.model.change((e) => e.batch).isTyping;
        }
        function Mn(e) {
            return e.getDefinition('$text').allowAttributes.filter((e) => e.startsWith('link'));
        }
        var En = i(827),
            Sn = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(En.Z, Sn);
        En.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ln extends x.View {
            constructor(e, i) {
                super(e);
                const n = e.t;
                (this.focusTracker = new o.FocusTracker()),
                    (this.keystrokes = new o.KeystrokeHandler()),
                    (this.urlInputView = this._createUrlInput()),
                    (this.saveButtonView = this._createButton(n('Save'), t.icons.check, 'ck-button-save')),
                    (this.saveButtonView.type = 'submit'),
                    (this.cancelButtonView = this._createButton(n('Cancel'), t.icons.cancel, 'ck-button-cancel', 'cancel')),
                    (this._manualDecoratorSwitches = this._createManualDecoratorSwitches(i)),
                    (this.children = this._createFormChildren(i.manualDecorators)),
                    (this._focusables = new x.ViewCollection()),
                    (this._focusCycler = new x.FocusCycler({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: { focusPrevious: 'shift + tab', focusNext: 'tab' },
                    }));
                const s = ['ck', 'ck-link-form', 'ck-responsive-form'];
                i.manualDecorators.length && s.push('ck-link-form_layout-vertical', 'ck-vertical-form'),
                    this.setTemplate({ tag: 'form', attributes: { class: s, tabindex: '-1' }, children: this.children }),
                    (0, x.injectCssTransitionDisabler)(this);
            }
            getDecoratorSwitchesState() {
                return Array.from(this._manualDecoratorSwitches).reduce((e, t) => ((e[t.name] = t.isOn), e), {});
            }
            render() {
                super.render(), (0, x.submitHandler)({ view: this });
                [this.urlInputView, ...this._manualDecoratorSwitches, this.saveButtonView, this.cancelButtonView].forEach((e) => {
                    this._focusables.add(e), this.focusTracker.add(e.element);
                }),
                    this.keystrokes.listenTo(this.element);
            }
            destroy() {
                super.destroy(), this.focusTracker.destroy(), this.keystrokes.destroy();
            }
            focus() {
                this._focusCycler.focusFirst();
            }
            _createUrlInput() {
                const e = this.locale.t,
                    t = new x.LabeledFieldView(this.locale, x.createLabeledInputText);
                return (t.label = e('Link URL')), t;
            }
            _createButton(e, t, i, n) {
                const o = new x.ButtonView(this.locale);
                return o.set({ label: e, icon: t, tooltip: !0 }), o.extendTemplate({ attributes: { class: i } }), n && o.delegate('execute').to(this, n), o;
            }
            _createManualDecoratorSwitches(e) {
                const t = this.createCollection();
                for (const i of e.manualDecorators) {
                    const n = new x.SwitchButtonView(this.locale);
                    n.set({ name: i.id, label: i.label, withText: !0 }),
                        n.bind('isOn').toMany([i, e], 'value', (e, t) => (void 0 === t && void 0 === e ? i.defaultValue : e)),
                        n.on('execute', () => {
                            i.set('value', !n.isOn);
                        }),
                        t.add(n);
                }
                return t;
            }
            _createFormChildren(e) {
                const t = this.createCollection();
                if ((t.add(this.urlInputView), e.length)) {
                    const e = new x.View();
                    e.setTemplate({
                        tag: 'ul',
                        children: this._manualDecoratorSwitches.map((e) => ({ tag: 'li', children: [e], attributes: { class: ['ck', 'ck-list__item'] } })),
                        attributes: { class: ['ck', 'ck-reset', 'ck-list'] },
                    }),
                        t.add(e);
                }
                return t.add(this.saveButtonView), t.add(this.cancelButtonView), t;
            }
        }
        var Nn = i(465),
            jn = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Nn.Z, jn);
        Nn.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Dn extends x.View {
            constructor(e) {
                super(e);
                const i = e.t;
                (this.focusTracker = new o.FocusTracker()),
                    (this.keystrokes = new o.KeystrokeHandler()),
                    (this.previewButtonView = this._createPreviewButton()),
                    (this.unlinkButtonView = this._createButton(
                        i('Unlink'),
                        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',
                        'unlink',
                    )),
                    (this.editButtonView = this._createButton(i('Edit link'), t.icons.pencil, 'edit')),
                    this.set('href'),
                    (this._focusables = new x.ViewCollection()),
                    (this._focusCycler = new x.FocusCycler({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: { focusPrevious: 'shift + tab', focusNext: 'tab' },
                    })),
                    this.setTemplate({
                        tag: 'div',
                        attributes: { class: ['ck', 'ck-link-actions', 'ck-responsive-form'], tabindex: '-1' },
                        children: [this.previewButtonView, this.editButtonView, this.unlinkButtonView],
                    });
            }
            render() {
                super.render();
                [this.previewButtonView, this.editButtonView, this.unlinkButtonView].forEach((e) => {
                    this._focusables.add(e), this.focusTracker.add(e.element);
                }),
                    this.keystrokes.listenTo(this.element);
            }
            destroy() {
                super.destroy(), this.focusTracker.destroy(), this.keystrokes.destroy();
            }
            focus() {
                this._focusCycler.focusFirst();
            }
            _createButton(e, t, i) {
                const n = new x.ButtonView(this.locale);
                return n.set({ label: e, icon: t, tooltip: !0 }), n.delegate('execute').to(this, i), n;
            }
            _createPreviewButton() {
                const e = new x.ButtonView(this.locale),
                    t = this.bindTemplate,
                    i = this.t;
                return (
                    e.set({ withText: !0, tooltip: i('Open link in new tab') }),
                    e.extendTemplate({
                        attributes: { class: ['ck', 'ck-link-actions__preview'], href: t.to('href', (e) => e && pn(e)), target: '_blank', rel: 'noopener noreferrer' },
                    }),
                    e.bind('label').to(this, 'href', (e) => e || i('This link has no URL')),
                    e.bind('isEnabled').to(this, 'href', (e) => !!e),
                    (e.template.tag = 'a'),
                    (e.template.eventListeners = {}),
                    e
                );
            }
        }
        class zn extends t.Plugin {
            static get requires() {
                return [x.ContextualBalloon];
            }
            static get pluginName() {
                return 'LinkUI';
            }
            init() {
                const e = this.editor;
                e.editing.view.addObserver(T.ClickObserver),
                    (this.actionsView = this._createActionsView()),
                    (this.formView = this._createFormView()),
                    (this._balloon = e.plugins.get(x.ContextualBalloon)),
                    this._createToolbarLinkButton(),
                    this._enableUserBalloonInteractions(),
                    e.conversion.for('editingDowncast').markerToHighlight({ model: 'link-ui', view: { classes: ['ck-fake-link-selection'] } }),
                    e.conversion
                        .for('editingDowncast')
                        .markerToElement({ model: 'link-ui', view: { name: 'span', classes: ['ck-fake-link-selection', 'ck-fake-link-selection_collapsed'] } });
            }
            destroy() {
                super.destroy(), this.formView.destroy();
            }
            _createActionsView() {
                const e = this.editor,
                    t = new Dn(e.locale),
                    i = e.commands.get('link'),
                    n = e.commands.get('unlink');
                return (
                    t.bind('href').to(i, 'value'),
                    t.editButtonView.bind('isEnabled').to(i),
                    t.unlinkButtonView.bind('isEnabled').to(n),
                    this.listenTo(t, 'edit', () => {
                        this._addFormView();
                    }),
                    this.listenTo(t, 'unlink', () => {
                        e.execute('unlink'), this._hideUI();
                    }),
                    t.keystrokes.set('Esc', (e, t) => {
                        this._hideUI(), t();
                    }),
                    t.keystrokes.set('Ctrl+K', (e, t) => {
                        this._addFormView(), t();
                    }),
                    t
                );
            }
            _createFormView() {
                const e = this.editor,
                    t = e.commands.get('link'),
                    i = e.config.get('link.defaultProtocol'),
                    n = new Ln(e.locale, t);
                return (
                    n.urlInputView.fieldView.bind('value').to(t, 'value'),
                    n.urlInputView.bind('isReadOnly').to(t, 'isEnabled', (e) => !e),
                    n.saveButtonView.bind('isEnabled').to(t),
                    this.listenTo(n, 'submit', () => {
                        const { value: t } = n.urlInputView.fieldView.element,
                            o = bn(t, i);
                        e.execute('link', o, n.getDecoratorSwitchesState()), this._closeFormView();
                    }),
                    this.listenTo(n, 'cancel', () => {
                        this._closeFormView();
                    }),
                    n.keystrokes.set('Esc', (e, t) => {
                        this._closeFormView(), t();
                    }),
                    n
                );
            }
            _createToolbarLinkButton() {
                const e = this.editor,
                    t = e.commands.get('link'),
                    i = e.t;
                e.keystrokes.set('Ctrl+K', (e, i) => {
                    i(), t.isEnabled && this._showUI(!0);
                }),
                    e.ui.componentFactory.add('link', (e) => {
                        const n = new x.ButtonView(e);
                        return (
                            (n.isEnabled = !0),
                            (n.label = i('Link')),
                            (n.icon =
                                '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m11.077 15 .991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>'),
                            (n.keystroke = 'Ctrl+K'),
                            (n.tooltip = !0),
                            (n.isToggleable = !0),
                            n.bind('isEnabled').to(t, 'isEnabled'),
                            n.bind('isOn').to(t, 'value', (e) => !!e),
                            this.listenTo(n, 'execute', () => this._showUI(!0)),
                            n
                        );
                    });
            }
            _enableUserBalloonInteractions() {
                const e = this.editor.editing.view.document;
                this.listenTo(e, 'click', () => {
                    this._getSelectedLinkElement() && this._showUI();
                }),
                    this.editor.keystrokes.set(
                        'Tab',
                        (e, t) => {
                            this._areActionsVisible && !this.actionsView.focusTracker.isFocused && (this.actionsView.focus(), t());
                        },
                        { priority: 'high' },
                    ),
                    this.editor.keystrokes.set('Esc', (e, t) => {
                        this._isUIVisible && (this._hideUI(), t());
                    }),
                    (0, x.clickOutsideHandler)({
                        emitter: this.formView,
                        activator: () => this._isUIInPanel,
                        contextElements: [this._balloon.view.element],
                        callback: () => this._hideUI(),
                    });
            }
            _addActionsView() {
                this._areActionsInPanel || this._balloon.add({ view: this.actionsView, position: this._getBalloonPositionData() });
            }
            _addFormView() {
                if (this._isFormInPanel) return;
                const e = this.editor.commands.get('link');
                this.formView.disableCssTransitions(),
                    this._balloon.add({ view: this.formView, position: this._getBalloonPositionData() }),
                    this._balloon.visibleView === this.formView && this.formView.urlInputView.fieldView.select(),
                    this.formView.enableCssTransitions(),
                    (this.formView.urlInputView.fieldView.element.value = e.value || '');
            }
            _closeFormView() {
                const e = this.editor.commands.get('link');
                e.restoreManualDecoratorStates(), void 0 !== e.value ? this._removeFormView() : this._hideUI();
            }
            _removeFormView() {
                this._isFormInPanel &&
                    (this.formView.saveButtonView.focus(), this._balloon.remove(this.formView), this.editor.editing.view.focus(), this._hideFakeVisualSelection());
            }
            _showUI(e = !1) {
                this._getSelectedLinkElement()
                    ? (this._areActionsVisible ? this._addFormView() : this._addActionsView(), e && this._balloon.showStack('main'))
                    : (this._showFakeVisualSelection(), this._addActionsView(), e && this._balloon.showStack('main'), this._addFormView()),
                    this._startUpdatingUI();
            }
            _hideUI() {
                if (!this._isUIInPanel) return;
                const e = this.editor;
                this.stopListening(e.ui, 'update'),
                    this.stopListening(this._balloon, 'change:visibleView'),
                    e.editing.view.focus(),
                    this._removeFormView(),
                    this._balloon.remove(this.actionsView),
                    this._hideFakeVisualSelection();
            }
            _startUpdatingUI() {
                const e = this.editor,
                    t = e.editing.view.document;
                let i = this._getSelectedLinkElement(),
                    n = s();
                const o = () => {
                    const e = this._getSelectedLinkElement(),
                        t = s();
                    (i && !e) || (!i && t !== n) ? this._hideUI() : this._isUIVisible && this._balloon.updatePosition(this._getBalloonPositionData()), (i = e), (n = t);
                };
                function s() {
                    return t.selection.focus
                        .getAncestors()
                        .reverse()
                        .find((e) => e.is('element'));
                }
                this.listenTo(e.ui, 'update', o), this.listenTo(this._balloon, 'change:visibleView', o);
            }
            get _isFormInPanel() {
                return this._balloon.hasView(this.formView);
            }
            get _areActionsInPanel() {
                return this._balloon.hasView(this.actionsView);
            }
            get _areActionsVisible() {
                return this._balloon.visibleView === this.actionsView;
            }
            get _isUIInPanel() {
                return this._isFormInPanel || this._areActionsInPanel;
            }
            get _isUIVisible() {
                return this._balloon.visibleView == this.formView || this._areActionsVisible;
            }
            _getBalloonPositionData() {
                const e = this.editor.editing.view,
                    t = this.editor.model,
                    i = e.document;
                let n = null;
                if (t.markers.has('link-ui')) {
                    const t = Array.from(this.editor.editing.mapper.markerNameToElements('link-ui')),
                        i = e.createRange(e.createPositionBefore(t[0]), e.createPositionAfter(t[t.length - 1]));
                    n = e.domConverter.viewRangeToDom(i);
                } else
                    n = () => {
                        const t = this._getSelectedLinkElement();
                        return t ? e.domConverter.mapViewToDom(t) : e.domConverter.viewRangeToDom(i.selection.getFirstRange());
                    };
                return { target: n };
            }
            _getSelectedLinkElement() {
                const e = this.editor.editing.view,
                    t = e.document.selection,
                    i = t.getSelectedElement();
                if (t.isCollapsed || (i && (0, ge.isWidget)(i))) return Pn(t.getFirstPosition());
                {
                    const i = t.getFirstRange().getTrimmed(),
                        n = Pn(i.start),
                        o = Pn(i.end);
                    return n && n == o && e.createRangeIn(n).getTrimmed().isEqual(i) ? n : null;
                }
            }
            _showFakeVisualSelection() {
                const e = this.editor.model;
                e.change((t) => {
                    const i = e.document.selection.getFirstRange();
                    if (e.markers.has('link-ui')) t.updateMarker('link-ui', { range: i });
                    else if (i.start.isAtEnd) {
                        const n = i.start.getLastMatchingPosition(({ item: t }) => !e.schema.isContent(t), { boundaries: i });
                        t.addMarker('link-ui', { usingOperation: !1, affectsData: !1, range: t.createRange(n, i.end) });
                    } else t.addMarker('link-ui', { usingOperation: !1, affectsData: !1, range: i });
                });
            }
            _hideFakeVisualSelection() {
                const e = this.editor.model;
                e.markers.has('link-ui') &&
                    e.change((e) => {
                        e.removeMarker('link-ui');
                    });
            }
        }
        function Pn(e) {
            return e.getAncestors().find((e) => {
                return (t = e).is('attributeElement') && !!t.getCustomProperty('link');
                var t;
            });
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const Bn = new RegExp(
            '(^|\\s)(((?:(?:(?:https?|ftp):)?\\/\\/)(?:\\S+(?::\\S*)?@)?(?:(?:[1-9]\\d?|1\\d\\d|2[01]\\d|22[0-3])(?:\\.(?:1?\\d{1,2}|2[0-4]\\d|25[0-5])){2}(?:\\.(?:[1-9]\\d?|1\\d\\d|2[0-4]\\d|25[0-4]))|(((?!www\\.)|(www\\.))(?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.)+(?:[a-z\\u00a1-\\uffff]{2,63})))(?::\\d{2,5})?(?:[/?#]\\S*)?)|((www.|(\\S+@))((?![-_])(?:[-_a-z0-9\\u00a1-\\uffff]{1,63}\\.))+(?:[a-z\\u00a1-\\uffff]{2,63})))$',
            'i',
        );
        class Rn extends t.Plugin {
            static get requires() {
                return [R.Delete];
            }
            static get pluginName() {
                return 'AutoLink';
            }
            init() {
                const e = this.editor.model.document.selection;
                e.on('change:range', () => {
                    this.isEnabled = !e.anchor.parent.is('element', 'codeBlock');
                }),
                    this._enableTypingHandling();
            }
            afterInit() {
                this._enableEnterHandling(), this._enableShiftEnterHandling();
            }
            _enableTypingHandling() {
                const e = this.editor,
                    t = new R.TextWatcher(e.model, (e) => {
                        if (
                            !(function (e) {
                                return e.length > 4 && ' ' === e[e.length - 1] && ' ' !== e[e.length - 2];
                            })(e)
                        )
                            return;
                        const t = On(e.substr(0, e.length - 1));
                        return t ? { url: t } : void 0;
                    });
                t.on('matched:data', (t, i) => {
                    const { batch: n, range: o, url: s } = i;
                    if (!n.isTyping) return;
                    const r = o.end.getShiftedBy(-1),
                        a = r.getShiftedBy(-s.length),
                        l = e.model.createRange(a, r);
                    this._applyAutoLink(s, l);
                }),
                    t.bind('isEnabled').to(this);
            }
            _enableEnterHandling() {
                const e = this.editor,
                    t = e.model,
                    i = e.commands.get('enter');
                i &&
                    i.on('execute', () => {
                        const e = t.document.selection.getFirstPosition();
                        if (!e.parent.previousSibling) return;
                        const i = t.createRangeIn(e.parent.previousSibling);
                        this._checkAndApplyAutoLinkOnRange(i);
                    });
            }
            _enableShiftEnterHandling() {
                const e = this.editor,
                    t = e.model,
                    i = e.commands.get('shiftEnter');
                i &&
                    i.on('execute', () => {
                        const e = t.document.selection.getFirstPosition(),
                            i = t.createRange(t.createPositionAt(e.parent, 0), e.getShiftedBy(-1));
                        this._checkAndApplyAutoLinkOnRange(i);
                    });
            }
            _checkAndApplyAutoLinkOnRange(e) {
                const t = this.editor.model,
                    { text: i, range: n } = (0, R.getLastTextLine)(e, t),
                    o = On(i);
                if (o) {
                    const e = t.createRange(n.end.getShiftedBy(-o.length), n.end);
                    this._applyAutoLink(o, e);
                }
            }
            _applyAutoLink(e, t) {
                const i = this.editor.model,
                    n = this.editor.plugins.get('Delete');
                this.isEnabled &&
                    (function (e, t) {
                        return t.schema.checkAttributeInSelection(t.createSelection(e), 'linkHref');
                    })(t, i) &&
                    i.enqueueChange((o) => {
                        const s = this.editor.config.get('link.defaultProtocol'),
                            r = bn(e, s);
                        o.setAttribute('linkHref', r, t),
                            i.enqueueChange(() => {
                                n.requestUndoOnBackspace();
                            });
                    });
            }
        }
        function On(e) {
            const t = Bn.exec(e);
            return t ? t[2] : null;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Vn extends t.Plugin {
            static get requires() {
                return [An, zn, Rn];
            }
            static get pluginName() {
                return 'Link';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Un extends t.Command {
            constructor(e, t) {
                super(e), (this.type = t);
            }
            refresh() {
                (this.value = this._getValue()), (this.isEnabled = this._checkEnabled());
            }
            execute(e = {}) {
                const t = this.editor.model,
                    i = t.document,
                    n = Array.from(i.selection.getSelectedBlocks()).filter((e) => Hn(e, t.schema)),
                    o = void 0 !== e.forceValue ? !e.forceValue : this.value;
                t.change((e) => {
                    if (o) {
                        let t = n[n.length - 1].nextSibling,
                            i = Number.POSITIVE_INFINITY,
                            o = [];
                        for (; t && 'listItem' == t.name && 0 !== t.getAttribute('listIndent'); ) {
                            const e = t.getAttribute('listIndent');
                            e < i && (i = e);
                            const n = e - i;
                            o.push({ element: t, listIndent: n }), (t = t.nextSibling);
                        }
                        o = o.reverse();
                        for (const t of o) e.setAttribute('listIndent', t.listIndent, t.element);
                    }
                    if (!o) {
                        let e = Number.POSITIVE_INFINITY;
                        for (const t of n) t.is('element', 'listItem') && t.getAttribute('listIndent') < e && (e = t.getAttribute('listIndent'));
                        (e = 0 === e ? 1 : e), Fn(n, !0, e), Fn(n, !1, e);
                    }
                    for (const t of n.reverse())
                        o && 'listItem' == t.name
                            ? e.rename(t, 'paragraph')
                            : o || 'listItem' == t.name
                            ? o || 'listItem' != t.name || t.getAttribute('listType') == this.type || e.setAttribute('listType', this.type, t)
                            : (e.setAttributes({ listType: this.type, listIndent: 0 }, t), e.rename(t, 'listItem'));
                    this.fire('_executeCleanup', n);
                });
            }
            _getValue() {
                const e = (0, o.first)(this.editor.model.document.selection.getSelectedBlocks());
                return !!e && e.is('element', 'listItem') && e.getAttribute('listType') == this.type;
            }
            _checkEnabled() {
                if (this.value) return !0;
                const e = this.editor.model.document.selection,
                    t = this.editor.model.schema,
                    i = (0, o.first)(e.getSelectedBlocks());
                return !!i && Hn(i, t);
            }
        }
        function Fn(e, t, i) {
            const n = t ? e[0] : e[e.length - 1];
            if (n.is('element', 'listItem')) {
                let o = n[t ? 'previousSibling' : 'nextSibling'],
                    s = n.getAttribute('listIndent');
                for (; o && o.is('element', 'listItem') && o.getAttribute('listIndent') >= i; )
                    s > o.getAttribute('listIndent') && (s = o.getAttribute('listIndent')),
                        o.getAttribute('listIndent') == s && e[t ? 'unshift' : 'push'](o),
                        (o = o[t ? 'previousSibling' : 'nextSibling']);
            }
        }
        function Hn(e, t) {
            return t.checkChild(e.parent, 'listItem') && !t.isObject(e);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Yn extends t.Command {
            constructor(e, t) {
                super(e), (this._indentBy = 'forward' == t ? 1 : -1);
            }
            refresh() {
                this.isEnabled = this._checkEnabled();
            }
            execute() {
                const e = this.editor.model,
                    t = e.document;
                let i = Array.from(t.selection.getSelectedBlocks());
                e.change((e) => {
                    const t = i[i.length - 1];
                    let n = t.nextSibling;
                    for (; n && 'listItem' == n.name && n.getAttribute('listIndent') > t.getAttribute('listIndent'); ) i.push(n), (n = n.nextSibling);
                    this._indentBy < 0 && (i = i.reverse());
                    for (const t of i) {
                        const i = t.getAttribute('listIndent') + this._indentBy;
                        i < 0 ? e.rename(t, 'paragraph') : e.setAttribute('listIndent', i, t);
                    }
                    this.fire('_executeCleanup', i);
                });
            }
            _checkEnabled() {
                const e = (0, o.first)(this.editor.model.document.selection.getSelectedBlocks());
                if (!e || !e.is('element', 'listItem')) return !1;
                if (this._indentBy > 0) {
                    const t = e.getAttribute('listIndent'),
                        i = e.getAttribute('listType');
                    let n = e.previousSibling;
                    for (; n && n.is('element', 'listItem') && n.getAttribute('listIndent') >= t; ) {
                        if (n.getAttribute('listIndent') == t) return n.getAttribute('listType') == i;
                        n = n.previousSibling;
                    }
                    return !1;
                }
                return !0;
            }
        }
        function Wn(e, t) {
            const i = t.mapper,
                n = t.writer,
                o = 'numbered' == e.getAttribute('listType') ? 'ol' : 'ul',
                s =
                    /**
                     * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                     * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                     */
                    (function (e) {
                        const t = e.createContainerElement('li');
                        return (t.getFillerOffset = Kn), t;
                    })(n),
                r = n.createContainerElement(o, null);
            return n.insert(n.createPositionAt(r, 0), s), i.bindElements(e, s), s;
        }
        function Zn(e, t, i, n) {
            const o = t.parent,
                s = i.mapper,
                r = i.writer;
            let a = s.toViewPosition(n.createPositionBefore(e));
            const l = $n(e.previousSibling, { sameIndent: !0, smallerIndent: !0, listIndent: e.getAttribute('listIndent') }),
                c = e.previousSibling;
            if (l && l.getAttribute('listIndent') == e.getAttribute('listIndent')) {
                const e = s.toViewElement(l);
                a = r.breakContainer(r.createPositionAfter(e));
            } else if (c && 'listItem' == c.name) {
                a = s.toViewPosition(n.createPositionAt(c, 'end'));
                const e = s.findMappedViewAncestor(a),
                    t = (function (e) {
                        for (const t of e.getChildren()) if ('ul' == t.name || 'ol' == t.name) return t;
                        return null;
                    })(e);
                a = t ? r.createPositionBefore(t) : r.createPositionAt(e, 'end');
            } else a = s.toViewPosition(n.createPositionBefore(e));
            if (((a = qn(a)), r.insert(a, o), c && 'listItem' == c.name)) {
                const e = s.toViewElement(c),
                    i = r.createRange(r.createPositionAt(e, 0), a).getWalker({ ignoreElementEnd: !0 });
                for (const e of i)
                    if (e.item.is('element', 'li')) {
                        const n = r.breakContainer(r.createPositionBefore(e.item)),
                            o = e.item.parent,
                            s = r.createPositionAt(t, 'end');
                        Qn(r, s.nodeBefore, s.nodeAfter), r.move(r.createRangeOn(o), s), (i.position = n);
                    }
            } else {
                const i = o.nextSibling;
                if (i && (i.is('element', 'ul') || i.is('element', 'ol'))) {
                    let n = null;
                    for (const t of i.getChildren()) {
                        const i = s.toModelElement(t);
                        if (!(i && i.getAttribute('listIndent') > e.getAttribute('listIndent'))) break;
                        n = t;
                    }
                    n && (r.breakContainer(r.createPositionAfter(n)), r.move(r.createRangeOn(n.parent), r.createPositionAt(t, 'end')));
                }
            }
            Qn(r, o, o.nextSibling), Qn(r, o.previousSibling, o);
        }
        function Qn(e, t, i) {
            return !t || !i || ('ul' != t.name && 'ol' != t.name) || t.name != i.name || t.getAttribute('class') !== i.getAttribute('class')
                ? null
                : e.mergeContainers(e.createPositionAfter(t));
        }
        function qn(e) {
            return e.getLastMatchingPosition((e) => e.item.is('uiElement'));
        }
        function $n(e, t) {
            const i = !!t.sameIndent,
                n = !!t.smallerIndent,
                o = t.listIndent;
            let s = e;
            for (; s && 'listItem' == s.name; ) {
                const e = s.getAttribute('listIndent');
                if ((i && o == e) || (n && o > e)) return s;
                s = 'forward' === t.direction ? s.nextSibling : s.previousSibling;
            }
            return null;
        }
        function Gn(e, t, i, n) {
            e.ui.componentFactory.add(t, (o) => {
                const s = e.commands.get(t),
                    r = new x.ButtonView(o);
                return (
                    r.set({ label: i, icon: n, tooltip: !0, isToggleable: !0 }),
                    r.bind('isOn', 'isEnabled').to(s, 'value', 'isEnabled'),
                    r.on('execute', () => {
                        e.execute(t), e.editing.view.focus();
                    }),
                    r
                );
            });
        }
        function Kn() {
            const e = !this.isEmpty && ('ul' == this.getChild(0).name || 'ol' == this.getChild(0).name);
            return this.isEmpty || e ? 0 : T.getFillerOffset.call(this);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function Jn(e) {
            return (t, i, n) => {
                const o = n.consumable;
                if (!o.test(i.item, 'insert') || !o.test(i.item, 'attribute:listType') || !o.test(i.item, 'attribute:listIndent')) return;
                o.consume(i.item, 'insert'), o.consume(i.item, 'attribute:listType'), o.consume(i.item, 'attribute:listIndent');
                const s = i.item;
                Zn(s, Wn(s, n), n, e);
            };
        }
        function Xn(e, t, i) {
            if (!i.consumable.test(t.item, e.name)) return;
            const n = i.mapper.toViewElement(t.item),
                o = i.writer;
            o.breakContainer(o.createPositionBefore(n)), o.breakContainer(o.createPositionAfter(n));
            const s = n.parent,
                r = 'numbered' == t.attributeNewValue ? 'ol' : 'ul';
            o.rename(r, s);
        }
        function eo(e, t, i) {
            i.consumable.consume(t.item, e.name);
            const n = i.mapper.toViewElement(t.item).parent,
                o = i.writer;
            Qn(o, n, n.nextSibling), Qn(o, n.previousSibling, n);
        }
        function to(e, t, i) {
            if (i.consumable.test(t.item, e.name) && 'listItem' != t.item.name) {
                let e = i.mapper.toViewPosition(t.range.start);
                const n = i.writer,
                    o = [];
                for (; ('ul' == e.parent.name || 'ol' == e.parent.name) && ((e = n.breakContainer(e)), 'li' == e.parent.name); ) {
                    const t = e,
                        i = n.createPositionAt(e.parent, 'end');
                    if (!t.isEqual(i)) {
                        const e = n.remove(n.createRange(t, i));
                        o.push(e);
                    }
                    e = n.createPositionAfter(e.parent);
                }
                if (o.length > 0) {
                    for (let t = 0; t < o.length; t++) {
                        const i = e.nodeBefore;
                        if (((e = n.insert(e, o[t]).end), t > 0)) {
                            const t = Qn(n, i, i.nextSibling);
                            t && t.parent == i && e.offset--;
                        }
                    }
                    Qn(n, e.nodeBefore, e.nodeAfter);
                }
            }
        }
        function io(e, t, i) {
            const n = i.mapper.toViewPosition(t.position),
                o = n.nodeBefore,
                s = n.nodeAfter;
            Qn(i.writer, o, s);
        }
        function no(e, t, i) {
            if (i.consumable.consume(t.viewItem, { name: !0 })) {
                const e = i.writer,
                    n = e.createElement('listItem'),
                    o = (function (e) {
                        let t = 0,
                            i = e.parent;
                        for (; i; ) {
                            if (i.is('element', 'li')) t++;
                            else {
                                const e = i.previousSibling;
                                e && e.is('element', 'li') && t++;
                            }
                            i = i.parent;
                        }
                        return t;
                    })(t.viewItem);
                e.setAttribute('listIndent', o, n);
                const s = t.viewItem.parent && 'ol' == t.viewItem.parent.name ? 'numbered' : 'bulleted';
                if ((e.setAttribute('listType', s, n), !i.safeInsert(n, t.modelCursor))) return;
                const r = (function (e, t, i) {
                    const { writer: n, schema: o } = i;
                    let s = n.createPositionAfter(e);
                    for (const r of t)
                        if ('ul' == r.name || 'ol' == r.name) s = i.convertItem(r, s).modelCursor;
                        else {
                            const t = i.convertItem(r, n.createPositionAt(e, 'end')),
                                a = t.modelRange.start.nodeAfter;
                            a &&
                                a.is('element') &&
                                !o.checkChild(e, a.name) &&
                                ((e = t.modelCursor.parent.is('element', 'listItem') ? t.modelCursor.parent : lo(t.modelCursor)), (s = n.createPositionAfter(e)));
                        }
                    return s;
                })(n, t.viewItem.getChildren(), i);
                (t.modelRange = e.createRange(t.modelCursor, r)), i.updateConversionResult(n, t);
            }
        }
        function oo(e, t, i) {
            if (i.consumable.test(t.viewItem, { name: !0 })) {
                const e = Array.from(t.viewItem.getChildren());
                for (const t of e) {
                    !(t.is('element', 'li') || uo(t)) && t._remove();
                }
            }
        }
        function so(e, t, i) {
            if (i.consumable.test(t.viewItem, { name: !0 })) {
                if (0 === t.viewItem.childCount) return;
                const e = [...t.viewItem.getChildren()];
                let i = !1;
                for (const t of e) i && !uo(t) && t._remove(), uo(t) && (i = !0);
            }
        }
        function ro(e) {
            return (t, i) => {
                if (i.isPhantom) return;
                const n = i.modelPosition.nodeBefore;
                if (n && n.is('element', 'listItem')) {
                    const t = i.mapper.toViewElement(n),
                        o = t.getAncestors().find(uo),
                        s = e.createPositionAt(t, 0).getWalker();
                    for (const e of s) {
                        if ('elementStart' == e.type && e.item.is('element', 'li')) {
                            i.viewPosition = e.previousPosition;
                            break;
                        }
                        if ('elementEnd' == e.type && e.item == o) {
                            i.viewPosition = e.nextPosition;
                            break;
                        }
                    }
                }
            };
        }
        function ao(e, [t, i]) {
            let n,
                o = t.is('documentFragment') ? t.getChild(0) : t;
            if (((n = i ? this.createSelection(i) : this.document.selection), o && o.is('element', 'listItem'))) {
                const e = n.getFirstPosition();
                let t = null;
                if ((e.parent.is('element', 'listItem') ? (t = e.parent) : e.nodeBefore && e.nodeBefore.is('element', 'listItem') && (t = e.nodeBefore), t)) {
                    const e = t.getAttribute('listIndent');
                    if (e > 0) for (; o && o.is('element', 'listItem'); ) o._setAttribute('listIndent', o.getAttribute('listIndent') + e), (o = o.nextSibling);
                }
            }
        }
        function lo(e) {
            const t = new T.TreeWalker({ startPosition: e });
            let i;
            do {
                i = t.next();
            } while (!i.value.item.is('element', 'listItem'));
            return i.value.item;
        }
        function co(e, t, i, n, o, s) {
            const r = $n(t.nodeBefore, { sameIndent: !0, smallerIndent: !0, listIndent: e, foo: 'b' }),
                a = o.mapper,
                l = o.writer,
                c = r ? r.getAttribute('listIndent') : null;
            let d;
            if (r)
                if (c == e) {
                    const e = a.toViewElement(r).parent;
                    d = l.createPositionAfter(e);
                } else {
                    const e = s.createPositionAt(r, 'end');
                    d = a.toViewPosition(e);
                }
            else d = i;
            d = qn(d);
            for (const e of [...n.getChildren()]) uo(e) && ((d = l.move(l.createRangeOn(e), d).end), Qn(l, e, e.nextSibling), Qn(l, e.previousSibling, e));
        }
        function uo(e) {
            return e.is('element', 'ol') || e.is('element', 'ul');
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class mo extends t.Plugin {
            static get pluginName() {
                return 'ListEditing';
            }
            static get requires() {
                return [P.Enter, R.Delete];
            }
            init() {
                const e = this.editor;
                e.model.schema.register('listItem', { inheritAllFrom: '$block', allowAttributes: ['listType', 'listIndent'] });
                const t = e.data,
                    i = e.editing;
                var n;
                e.model.document.registerPostFixer((t) =>
                    (function (e, t) {
                        const i = e.document.differ.getChanges(),
                            n = new Map();
                        let o = !1;
                        for (const n of i)
                            if ('insert' == n.type && 'listItem' == n.name) s(n.position);
                            else if ('insert' == n.type && 'listItem' != n.name) {
                                if ('$text' != n.name) {
                                    const i = n.position.nodeAfter;
                                    i.hasAttribute('listIndent') && (t.removeAttribute('listIndent', i), (o = !0)),
                                        i.hasAttribute('listType') && (t.removeAttribute('listType', i), (o = !0)),
                                        i.hasAttribute('listStyle') && (t.removeAttribute('listStyle', i), (o = !0)),
                                        i.hasAttribute('listReversed') && (t.removeAttribute('listReversed', i), (o = !0)),
                                        i.hasAttribute('listStart') && (t.removeAttribute('listStart', i), (o = !0));
                                    for (const t of Array.from(e.createRangeIn(i)).filter((e) => e.item.is('element', 'listItem'))) s(t.previousPosition);
                                }
                                s(n.position.getShiftedBy(n.length));
                            } else
                                'remove' == n.type && 'listItem' == n.name
                                    ? s(n.position)
                                    : (('attribute' == n.type && 'listIndent' == n.attributeKey) || ('attribute' == n.type && 'listType' == n.attributeKey)) && s(n.range.start);
                        for (const e of n.values()) r(e), a(e);
                        return o;
                        function s(e) {
                            const t = e.nodeBefore;
                            if (t && t.is('element', 'listItem')) {
                                let e = t;
                                if (n.has(e)) return;
                                for (let t = e.previousSibling; t && t.is('element', 'listItem'); t = e.previousSibling) if (((e = t), n.has(e))) return;
                                n.set(t, e);
                            } else {
                                const t = e.nodeAfter;
                                t && t.is('element', 'listItem') && n.set(t, t);
                            }
                        }
                        function r(e) {
                            let i = 0,
                                n = null;
                            for (; e && e.is('element', 'listItem'); ) {
                                const s = e.getAttribute('listIndent');
                                if (s > i) {
                                    let r;
                                    null === n ? ((n = s - i), (r = i)) : (n > s && (n = s), (r = s - n)), t.setAttribute('listIndent', r, e), (o = !0);
                                } else (n = null), (i = e.getAttribute('listIndent') + 1);
                                e = e.nextSibling;
                            }
                        }
                        function a(e) {
                            let i = [],
                                n = null;
                            for (; e && e.is('element', 'listItem'); ) {
                                const s = e.getAttribute('listIndent');
                                if ((n && n.getAttribute('listIndent') > s && (i = i.slice(0, s + 1)), 0 != s))
                                    if (i[s]) {
                                        const n = i[s];
                                        e.getAttribute('listType') != n && (t.setAttribute('listType', n, e), (o = !0));
                                    } else i[s] = e.getAttribute('listType');
                                (n = e), (e = e.nextSibling);
                            }
                        }
                    })(e.model, t),
                ),
                    i.mapper.registerViewToModelLength('li', go),
                    t.mapper.registerViewToModelLength('li', go),
                    i.mapper.on('modelToViewPosition', ro(i.view)),
                    i.mapper.on(
                        'viewToModelPosition',
                        ((n = e.model),
                        (e, t) => {
                            const i = t.viewPosition,
                                o = i.parent,
                                s = t.mapper;
                            if ('ul' == o.name || 'ol' == o.name) {
                                if (i.isAtEnd) {
                                    const e = s.toModelElement(i.nodeBefore),
                                        o = s.getModelLength(i.nodeBefore);
                                    t.modelPosition = n.createPositionBefore(e).getShiftedBy(o);
                                } else {
                                    const e = s.toModelElement(i.nodeAfter);
                                    t.modelPosition = n.createPositionBefore(e);
                                }
                                e.stop();
                            } else if ('li' == o.name && i.nodeBefore && ('ul' == i.nodeBefore.name || 'ol' == i.nodeBefore.name)) {
                                const r = s.toModelElement(o);
                                let a = 1,
                                    l = i.nodeBefore;
                                for (; l && uo(l); ) (a += s.getModelLength(l)), (l = l.previousSibling);
                                (t.modelPosition = n.createPositionBefore(r).getShiftedBy(a)), e.stop();
                            }
                        }),
                    ),
                    t.mapper.on('modelToViewPosition', ro(i.view)),
                    e.conversion.for('editingDowncast').add((t) => {
                        t.on('insert', to, { priority: 'high' }),
                            t.on('insert:listItem', Jn(e.model)),
                            t.on('attribute:listType:listItem', Xn, { priority: 'high' }),
                            t.on('attribute:listType:listItem', eo, { priority: 'low' }),
                            t.on(
                                'attribute:listIndent:listItem',
                                (function (e) {
                                    return (t, i, n) => {
                                        if (!n.consumable.consume(i.item, 'attribute:listIndent')) return;
                                        const o = n.mapper.toViewElement(i.item),
                                            s = n.writer;
                                        s.breakContainer(s.createPositionBefore(o)), s.breakContainer(s.createPositionAfter(o));
                                        const r = o.parent,
                                            a = r.previousSibling,
                                            l = s.createRangeOn(r);
                                        s.remove(l),
                                            a && a.nextSibling && Qn(s, a, a.nextSibling),
                                            co(i.attributeOldValue + 1, i.range.start, l.start, o, n, e),
                                            Zn(i.item, o, n, e);
                                        for (const e of i.item.getChildren()) n.consumable.consume(e, 'insert');
                                    };
                                })(e.model),
                            ),
                            t.on(
                                'remove:listItem',
                                (function (e) {
                                    return (t, i, n) => {
                                        const o = n.mapper.toViewPosition(i.position).getLastMatchingPosition((e) => !e.item.is('element', 'li')).nodeAfter,
                                            s = n.writer;
                                        s.breakContainer(s.createPositionBefore(o)), s.breakContainer(s.createPositionAfter(o));
                                        const r = o.parent,
                                            a = r.previousSibling,
                                            l = s.createRangeOn(r),
                                            c = s.remove(l);
                                        a && a.nextSibling && Qn(s, a, a.nextSibling);
                                        co(n.mapper.toModelElement(o).getAttribute('listIndent') + 1, i.position, l.start, o, n, e);
                                        for (const e of s.createRangeIn(c).getItems()) n.mapper.unbindViewElement(e);
                                        t.stop();
                                    };
                                })(e.model),
                            ),
                            t.on('remove', io, { priority: 'low' });
                    }),
                    e.conversion.for('dataDowncast').add((t) => {
                        t.on('insert', to, { priority: 'high' }), t.on('insert:listItem', Jn(e.model));
                    }),
                    e.conversion.for('upcast').add((e) => {
                        e.on('element:ul', oo, { priority: 'high' }),
                            e.on('element:ol', oo, { priority: 'high' }),
                            e.on('element:li', so, { priority: 'high' }),
                            e.on('element:li', no);
                    }),
                    e.model.on('insertContent', ao, { priority: 'high' }),
                    e.commands.add('numberedList', new Un(e, 'numbered')),
                    e.commands.add('bulletedList', new Un(e, 'bulleted')),
                    e.commands.add('indentList', new Yn(e, 'forward')),
                    e.commands.add('outdentList', new Yn(e, 'backward'));
                const o = i.view.document;
                this.listenTo(
                    o,
                    'enter',
                    (e, t) => {
                        const i = this.editor.model.document,
                            n = i.selection.getLastPosition().parent;
                        i.selection.isCollapsed && 'listItem' == n.name && n.isEmpty && (this.editor.execute('outdentList'), t.preventDefault(), e.stop());
                    },
                    { context: 'li' },
                ),
                    this.listenTo(
                        o,
                        'delete',
                        (e, t) => {
                            if ('backward' !== t.direction) return;
                            const i = this.editor.model.document.selection;
                            if (!i.isCollapsed) return;
                            const n = i.getFirstPosition();
                            if (!n.isAtStart) return;
                            const o = n.parent;
                            if ('listItem' !== o.name) return;
                            (o.previousSibling && 'listItem' === o.previousSibling.name) || (this.editor.execute('outdentList'), t.preventDefault(), e.stop());
                        },
                        { context: 'li' },
                    ),
                    this.listenTo(
                        e.editing.view.document,
                        'tab',
                        (t, i) => {
                            const n = i.shiftKey ? 'outdentList' : 'indentList';
                            this.editor.commands.get(n).isEnabled && (e.execute(n), i.stopPropagation(), i.preventDefault(), t.stop());
                        },
                        { context: 'li' },
                    );
            }
            afterInit() {
                const e = this.editor.commands,
                    t = e.get('indent'),
                    i = e.get('outdent');
                t && t.registerChildCommand(e.get('indentList')), i && i.registerChildCommand(e.get('outdentList'));
            }
        }
        function go(e) {
            let t = 1;
            for (const i of e.getChildren()) if ('ul' == i.name || 'ol' == i.name) for (const e of i.getChildren()) t += go(e);
            return t;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ho extends t.Plugin {
            static get pluginName() {
                return 'ListUI';
            }
            init() {
                const e = this.editor.t;
                Gn(
                    this.editor,
                    'numberedList',
                    e('Numbered List'),
                    '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>',
                ),
                    Gn(
                        this.editor,
                        'bulletedList',
                        e('Bulleted List'),
                        '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>',
                    );
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class po extends t.Plugin {
            static get requires() {
                return [mo, ho];
            }
            static get pluginName() {
                return 'List';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function fo(e, t) {
            return (e) => {
                e.on('attribute:url:media', i);
            };
            function i(i, n, o) {
                if (!o.consumable.consume(n.item, i.name)) return;
                const s = n.attributeNewValue,
                    r = o.writer,
                    a = o.mapper.toViewElement(n.item),
                    l = [...a.getChildren()].find((e) => e.getCustomProperty('media-content'));
                r.remove(l);
                const c = e.getMediaViewElement(r, s, t);
                r.insert(r.createPositionAt(a, 0), c);
            }
        }
        function bo(e, t, i, n) {
            return e.createContainerElement('figure', { class: 'media' }, [t.getMediaViewElement(e, i, n), e.createSlot()]);
        }
        function wo(e) {
            const t = e.getSelectedElement();
            return t && t.is('element', 'media') ? t : null;
        }
        function ko(e, t, i, n) {
            e.change((o) => {
                const s = o.createElement('media', { url: t });
                e.insertObject(s, i, null, { setSelection: 'on', findOptimalPosition: n });
            });
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class vo extends t.Command {
            refresh() {
                const e = this.editor.model,
                    t = e.document.selection,
                    i = wo(t);
                (this.value = i ? i.getAttribute('url') : null),
                    (this.isEnabled =
                        (function (e) {
                            const t = e.getSelectedElement();
                            return !!t && 'media' === t.name;
                        })(t) ||
                        (function (e, t) {
                            let i = (0, ge.findOptimalInsertionRange)(e, t).start.parent;
                            i.isEmpty && !t.schema.isLimit(i) && (i = i.parent);
                            return t.schema.checkChild(i, 'media');
                        })(t, e));
            }
            execute(e) {
                const t = this.editor.model,
                    i = t.document.selection,
                    n = wo(i);
                n
                    ? t.change((t) => {
                          t.setAttribute('url', e, n);
                      })
                    : ko(t, e, i, !0);
            }
        }
        class _o {
            constructor(e, t) {
                const i = t.providers,
                    n = t.extraProviders || [],
                    s = new Set(t.removeProviders),
                    r = i.concat(n).filter((e) => {
                        const t = e.name;
                        return t ? !s.has(t) : ((0, o.logWarning)('media-embed-no-provider-name', { provider: e }), !1);
                    });
                (this.locale = e), (this.providerDefinitions = r);
            }
            hasMedia(e) {
                return !!this._getMedia(e);
            }
            getMediaViewElement(e, t, i) {
                return this._getMedia(t).getViewElement(e, i);
            }
            _getMedia(e) {
                if (!e) return new yo(this.locale);
                e = e.trim();
                for (const t of this.providerDefinitions) {
                    const i = t.html,
                        n = (0, o.toArray)(t.url);
                    for (const t of n) {
                        const n = this._getUrlMatches(e, t);
                        if (n) return new yo(this.locale, e, n, i);
                    }
                }
                return null;
            }
            _getUrlMatches(e, t) {
                let i = e.match(t);
                if (i) return i;
                let n = e.replace(/^https?:\/\//, '');
                return (i = n.match(t)), i || ((n = n.replace(/^www\./, '')), (i = n.match(t)), i || null);
            }
        }
        class yo {
            constructor(e, t, i, n) {
                (this.url = this._getValidUrl(t)), (this._locale = e), (this._match = i), (this._previewRenderer = n);
            }
            getViewElement(e, t) {
                const i = {};
                let n;
                if (t.renderForEditingView || (t.renderMediaPreview && this.url && this._previewRenderer)) {
                    this.url && (i['data-oembed-url'] = this.url), t.renderForEditingView && (i.class = 'ck-media__wrapper');
                    const o = this._getPreviewHtml(t);
                    n = e.createRawElement('div', i, (e, t) => {
                        t.setContentOf(e, o);
                    });
                } else this.url && (i.url = this.url), (n = e.createEmptyElement(t.elementName, i));
                return e.setCustomProperty('media-content', !0, n), n;
            }
            _getPreviewHtml(e) {
                return this._previewRenderer ? this._previewRenderer(this._match) : this.url && e.renderForEditingView ? this._getPlaceholderHtml() : '';
            }
            _getPlaceholderHtml() {
                const e = new x.IconView(),
                    t = this._locale.t;
                (e.content =
                    '<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>'),
                    (e.viewBox = '0 0 64 42');
                return new x.Template({
                    tag: 'div',
                    attributes: { class: 'ck ck-reset_all ck-media__placeholder' },
                    children: [
                        { tag: 'div', attributes: { class: 'ck-media__placeholder__icon' }, children: [e] },
                        {
                            tag: 'a',
                            attributes: {
                                class: 'ck-media__placeholder__url',
                                target: '_blank',
                                rel: 'noopener noreferrer',
                                href: this.url,
                                'data-cke-tooltip-text': t('Open media in new tab'),
                            },
                            children: [{ tag: 'span', attributes: { class: 'ck-media__placeholder__url__text' }, children: [this.url] }],
                        },
                    ],
                }).render().outerHTML;
            }
            _getValidUrl(e) {
                return e ? (e.match(/^https?/) ? e : 'https://' + e) : null;
            }
        }
        var Io = i(952),
            Co = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Io.Z, Co);
        Io.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ao extends t.Plugin {
            static get pluginName() {
                return 'MediaEmbedEditing';
            }
            constructor(e) {
                super(e),
                    e.config.define('mediaEmbed', {
                        elementName: 'oembed',
                        providers: [
                            {
                                name: 'dailymotion',
                                url: /^dailymotion\.com\/video\/(\w+)/,
                                html: (e) =>
                                    `<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>`,
                            },
                            {
                                name: 'spotify',
                                url: [/^open\.spotify\.com\/(artist\/\w+)/, /^open\.spotify\.com\/(album\/\w+)/, /^open\.spotify\.com\/(track\/\w+)/],
                                html: (e) =>
                                    `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>`,
                            },
                            {
                                name: 'youtube',
                                url: [
                                    /^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)(?:&t=(\d+))?/,
                                    /^(?:m\.)?youtube\.com\/v\/([\w-]+)(?:\?t=(\d+))?/,
                                    /^youtube\.com\/embed\/([\w-]+)(?:\?start=(\d+))?/,
                                    /^youtu\.be\/([\w-]+)(?:\?t=(\d+))?/,
                                ],
                                html: (e) => {
                                    const t = e[1],
                                        i = e[2];
                                    return `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/${t}${
                                        i ? '?start=' + i : ''
                                    }" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>`;
                                },
                            },
                            {
                                name: 'vimeo',
                                url: [
                                    /^vimeo\.com\/(\d+)/,
                                    /^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,
                                    /^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,
                                    /^vimeo\.com\/channels\/[^/]+\/(\d+)/,
                                    /^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,
                                    /^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,
                                    /^player\.vimeo\.com\/video\/(\d+)/,
                                ],
                                html: (e) =>
                                    `<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/${e[1]}" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>`,
                            },
                            { name: 'instagram', url: /^instagram\.com\/p\/(\w+)/ },
                            { name: 'twitter', url: /^twitter\.com/ },
                            { name: 'googleMaps', url: [/^google\.com\/maps/, /^goo\.gl\/maps/, /^maps\.google\.com/, /^maps\.app\.goo\.gl/] },
                            { name: 'flickr', url: /^flickr\.com/ },
                            { name: 'facebook', url: /^facebook\.com/ },
                        ],
                    }),
                    (this.registry = new _o(e.locale, e.config.get('mediaEmbed')));
            }
            init() {
                const e = this.editor,
                    t = e.model.schema,
                    i = e.t,
                    n = e.conversion,
                    s = e.config.get('mediaEmbed.previewsInData'),
                    r = e.config.get('mediaEmbed.elementName'),
                    a = this.registry;
                e.commands.add('mediaEmbed', new vo(e)),
                    t.register('media', { inheritAllFrom: '$blockObject', allowAttributes: ['url'] }),
                    n.for('dataDowncast').elementToStructure({
                        model: 'media',
                        view: (e, { writer: t }) => {
                            const i = e.getAttribute('url');
                            return bo(t, a, i, { elementName: r, renderMediaPreview: i && s });
                        },
                    }),
                    n.for('dataDowncast').add(fo(a, { elementName: r, renderMediaPreview: s })),
                    n.for('editingDowncast').elementToStructure({
                        model: 'media',
                        view: (e, { writer: t }) => {
                            const n = e.getAttribute('url');
                            /**
                             * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                             */
                            return (function (e, t, i) {
                                return t.setCustomProperty('media', !0, e), (0, ge.toWidget)(e, t, { label: i });
                            })(bo(t, a, n, { elementName: r, renderForEditingView: !0 }), t, i('media widget'));
                        },
                    }),
                    n.for('editingDowncast').add(fo(a, { elementName: r, renderForEditingView: !0 })),
                    n
                        .for('upcast')
                        .elementToElement({
                            view: (e) => (['oembed', r].includes(e.name) && e.getAttribute('url') ? { name: !0 } : null),
                            model: (e, { writer: t }) => {
                                const i = e.getAttribute('url');
                                if (a.hasMedia(i)) return t.createElement('media', { url: i });
                            },
                        })
                        .elementToElement({
                            view: { name: 'div', attributes: { 'data-oembed-url': !0 } },
                            model: (e, { writer: t }) => {
                                const i = e.getAttribute('data-oembed-url');
                                if (a.hasMedia(i)) return t.createElement('media', { url: i });
                            },
                        })
                        .add((e) => {
                            e.on('element:figure', function (e, t, i) {
                                if (!i.consumable.consume(t.viewItem, { name: !0, classes: 'media' })) return;
                                const { modelRange: n, modelCursor: s } = i.convertChildren(t.viewItem, t.modelCursor);
                                (t.modelRange = n), (t.modelCursor = s);
                                (0, o.first)(n.getItems()) || i.consumable.revert(t.viewItem, { name: !0, classes: 'media' });
                            });
                        });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const xo = /^(?:http(s)?:\/\/)?[\w-]+\.[\w-.~:/?#[\]@!$&'()*+,;=%]+$/;
        class To extends t.Plugin {
            static get requires() {
                return [z.Clipboard, R.Delete, O.Undo];
            }
            static get pluginName() {
                return 'AutoMediaEmbed';
            }
            constructor(e) {
                super(e), (this._timeoutId = null), (this._positionToInsert = null);
            }
            init() {
                const e = this.editor,
                    t = e.model.document;
                this.listenTo(e.plugins.get('ClipboardPipeline'), 'inputTransformation', () => {
                    const e = t.selection.getFirstRange(),
                        i = T.LivePosition.fromPosition(e.start);
                    i.stickiness = 'toPrevious';
                    const n = T.LivePosition.fromPosition(e.end);
                    (n.stickiness = 'toNext'),
                        t.once(
                            'change:data',
                            () => {
                                this._embedMediaBetweenPositions(i, n), i.detach(), n.detach();
                            },
                            { priority: 'high' },
                        );
                }),
                    e.commands.get('undo').on(
                        'execute',
                        () => {
                            this._timeoutId &&
                                (o.global.window.clearTimeout(this._timeoutId), this._positionToInsert.detach(), (this._timeoutId = null), (this._positionToInsert = null));
                        },
                        { priority: 'high' },
                    );
            }
            _embedMediaBetweenPositions(e, t) {
                const i = this.editor,
                    n = i.plugins.get(Ao).registry,
                    s = new T.LiveRange(e, t),
                    r = s.getWalker({ ignoreElementEnd: !0 });
                let a = '';
                for (const e of r) e.item.is('$textProxy') && (a += e.item.data);
                if (((a = a.trim()), !a.match(xo))) return void s.detach();
                if (!n.hasMedia(a)) return void s.detach();
                i.commands.get('mediaEmbed').isEnabled
                    ? ((this._positionToInsert = T.LivePosition.fromPosition(e)),
                      (this._timeoutId = o.global.window.setTimeout(() => {
                          i.model.change((e) => {
                              let t;
                              (this._timeoutId = null),
                                  e.remove(s),
                                  s.detach(),
                                  '$graveyard' !== this._positionToInsert.root.rootName && (t = this._positionToInsert),
                                  ko(i.model, a, t, !1),
                                  this._positionToInsert.detach(),
                                  (this._positionToInsert = null);
                          }),
                              i.plugins.get('Delete').requestUndoOnBackspace();
                      }, 100)))
                    : s.detach();
            }
        }
        var Mo = i(525),
            Eo = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Mo.Z, Eo);
        Mo.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class So extends x.View {
            constructor(e, i) {
                super(i);
                const n = i.t;
                (this.focusTracker = new o.FocusTracker()),
                    (this.keystrokes = new o.KeystrokeHandler()),
                    this.set('mediaURLInputValue', ''),
                    (this.urlInputView = this._createUrlInput()),
                    (this.saveButtonView = this._createButton(n('Save'), t.icons.check, 'ck-button-save')),
                    (this.saveButtonView.type = 'submit'),
                    this.saveButtonView.bind('isEnabled').to(this, 'mediaURLInputValue', (e) => !!e),
                    (this.cancelButtonView = this._createButton(n('Cancel'), t.icons.cancel, 'ck-button-cancel', 'cancel')),
                    (this._focusables = new x.ViewCollection()),
                    (this._focusCycler = new x.FocusCycler({
                        focusables: this._focusables,
                        focusTracker: this.focusTracker,
                        keystrokeHandler: this.keystrokes,
                        actions: { focusPrevious: 'shift + tab', focusNext: 'tab' },
                    })),
                    (this._validators = e),
                    this.setTemplate({
                        tag: 'form',
                        attributes: { class: ['ck', 'ck-media-form', 'ck-responsive-form'], tabindex: '-1' },
                        children: [this.urlInputView, this.saveButtonView, this.cancelButtonView],
                    }),
                    (0, x.injectCssTransitionDisabler)(this);
            }
            render() {
                super.render(), (0, x.submitHandler)({ view: this });
                [this.urlInputView, this.saveButtonView, this.cancelButtonView].forEach((e) => {
                    this._focusables.add(e), this.focusTracker.add(e.element);
                }),
                    this.keystrokes.listenTo(this.element);
                const e = (e) => e.stopPropagation();
                this.keystrokes.set('arrowright', e),
                    this.keystrokes.set('arrowleft', e),
                    this.keystrokes.set('arrowup', e),
                    this.keystrokes.set('arrowdown', e),
                    this.listenTo(
                        this.urlInputView.element,
                        'selectstart',
                        (e, t) => {
                            t.stopPropagation();
                        },
                        { priority: 'high' },
                    );
            }
            destroy() {
                super.destroy(), this.focusTracker.destroy(), this.keystrokes.destroy();
            }
            focus() {
                this._focusCycler.focusFirst();
            }
            get url() {
                return this.urlInputView.fieldView.element.value.trim();
            }
            set url(e) {
                this.urlInputView.fieldView.element.value = e.trim();
            }
            isValid() {
                this.resetFormStatus();
                for (const e of this._validators) {
                    const t = e(this);
                    if (t) return (this.urlInputView.errorText = t), !1;
                }
                return !0;
            }
            resetFormStatus() {
                (this.urlInputView.errorText = null), (this.urlInputView.infoText = this._urlInputViewInfoDefault);
            }
            _createUrlInput() {
                const e = this.locale.t,
                    t = new x.LabeledFieldView(this.locale, x.createLabeledInputText),
                    i = t.fieldView;
                return (
                    (this._urlInputViewInfoDefault = e('Paste the media URL in the input.')),
                    (this._urlInputViewInfoTip = e('Tip: Paste the URL into the content to embed faster.')),
                    (t.label = e('Media URL')),
                    (t.infoText = this._urlInputViewInfoDefault),
                    i.on('input', () => {
                        (t.infoText = i.element.value ? this._urlInputViewInfoTip : this._urlInputViewInfoDefault), (this.mediaURLInputValue = i.element.value.trim());
                    }),
                    t
                );
            }
            _createButton(e, t, i, n) {
                const o = new x.ButtonView(this.locale);
                return o.set({ label: e, icon: t, tooltip: !0 }), o.extendTemplate({ attributes: { class: i } }), n && o.delegate('execute').to(this, n), o;
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Lo extends t.Plugin {
            static get requires() {
                return [Ao];
            }
            static get pluginName() {
                return 'MediaEmbedUI';
            }
            init() {
                const e = this.editor,
                    t = e.commands.get('mediaEmbed'),
                    i = e.plugins.get(Ao).registry;
                e.ui.componentFactory.add('mediaEmbed', (n) => {
                    const o = (0, x.createDropdown)(n),
                        s = new So(
                            (function (e, t) {
                                return [
                                    (t) => {
                                        if (!t.url.length) return e('The URL must not be empty.');
                                    },
                                    (i) => {
                                        if (!t.hasMedia(i.url)) return e('This media URL is not supported.');
                                    },
                                ];
                            })(e.t, i),
                            e.locale,
                        );
                    return this._setUpDropdown(o, s, t, e), this._setUpForm(o, s, t), o;
                });
            }
            _setUpDropdown(e, t, i) {
                const n = this.editor,
                    o = n.t,
                    s = e.buttonView;
                function r() {
                    n.editing.view.focus(), (e.isOpen = !1);
                }
                e.bind('isEnabled').to(i),
                    e.panelView.children.add(t),
                    s.set({
                        label: o('Insert media'),
                        icon: '<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 0 1 .593-.351l5.133 2.824a.4.4 0 0 1 0 .7l-5.133 2.824a.4.4 0 0 1-.593-.35V7.176v.001z"/></svg>',
                        tooltip: !0,
                    }),
                    s.on(
                        'open',
                        () => {
                            t.disableCssTransitions(), (t.url = i.value || ''), t.urlInputView.fieldView.select(), t.enableCssTransitions();
                        },
                        { priority: 'low' },
                    ),
                    e.on('submit', () => {
                        t.isValid() && (n.execute('mediaEmbed', t.url), r());
                    }),
                    e.on('change:isOpen', () => t.resetFormStatus()),
                    e.on('cancel', () => r());
            }
            _setUpForm(e, t, i) {
                t.delegate('submit', 'cancel').to(e), t.urlInputView.bind('value').to(i, 'value'), t.urlInputView.bind('isReadOnly').to(i, 'isEnabled', (e) => !e);
            }
        }
        var No = i(777),
            jo = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(No.Z, jo);
        No.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Do extends t.Plugin {
            static get requires() {
                return [Ao, Lo, To, ge.Widget];
            }
            static get pluginName() {
                return 'MediaEmbed';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class zo {
            constructor(e) {
                (this.editor = e),
                    this.set('value', void 0),
                    this.set('isEnabled', !1),
                    (this.affectsData = !0),
                    (this._disableStack = new Set()),
                    this.decorate('execute'),
                    this.listenTo(this.editor.model.document, 'change', () => {
                        this.refresh();
                    }),
                    this.on(
                        'execute',
                        (e) => {
                            this.isEnabled || e.stop();
                        },
                        { priority: 'high' },
                    ),
                    this.listenTo(e, 'change:isReadOnly', (e, t, i) => {
                        i && this.affectsData ? this.forceDisabled('readOnlyMode') : this.clearForceDisabled('readOnlyMode');
                    });
            }
            refresh() {
                this.isEnabled = !0;
            }
            forceDisabled(e) {
                this._disableStack.add(e), 1 == this._disableStack.size && (this.on('set:isEnabled', Po, { priority: 'highest' }), (this.isEnabled = !1));
            }
            clearForceDisabled(e) {
                this._disableStack.delete(e), 0 == this._disableStack.size && (this.off('set:isEnabled', Po), this.refresh());
            }
            execute() {}
            destroy() {
                this.stopListening();
            }
        }
        function Po(e) {
            (e.return = !1), e.stop();
        }
        ki(zo, mi);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Bo extends zo {
            refresh() {
                const e = this.editor.model,
                    t =
                        /**
                         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                         */
                        (function (e) {
                            const t = e.next();
                            return t.done ? null : t.value;
                        })(e.document.selection.getSelectedBlocks());
                (this.value = !!t && t.is('element', 'paragraph')), (this.isEnabled = !!t && Ro(t, e.schema));
            }
            execute(e = {}) {
                const t = this.editor.model,
                    i = t.document;
                t.change((n) => {
                    const o = (e.selection || i.selection).getSelectedBlocks();
                    for (const e of o) !e.is('element', 'paragraph') && Ro(e, t.schema) && n.rename(e, 'paragraph');
                });
            }
        }
        function Ro(e, t) {
            return t.checkChild(e.parent, 'paragraph') && !t.isObject(e);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Oo extends zo {
            execute(e) {
                const t = this.editor.model,
                    i = e.attributes;
                let n = e.position;
                t.change((e) => {
                    const o = e.createElement('paragraph');
                    if ((i && t.schema.setAllowedAttributes(o, i, e), !t.schema.checkChild(n.parent, o))) {
                        const i = t.schema.findAllowedParent(n, o);
                        if (!i) return;
                        n = e.split(n, i).position;
                    }
                    t.insertContent(o, n), e.setSelection(o, 'in');
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Vo extends vi {
            static get pluginName() {
                return 'Paragraph';
            }
            init() {
                const e = this.editor,
                    t = e.model;
                e.commands.add('paragraph', new Bo(e)),
                    e.commands.add('insertParagraph', new Oo(e)),
                    t.schema.register('paragraph', { inheritAllFrom: '$block' }),
                    e.conversion.elementToElement({ model: 'paragraph', view: 'p' }),
                    e.conversion
                        .for('upcast')
                        .elementToElement({
                            model: (e, { writer: t }) => (Vo.paragraphLikeElements.has(e.name) ? (e.isEmpty ? null : t.createElement('paragraph')) : null),
                            view: /.+/,
                            converterPriority: 'low',
                        });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function Uo(e, t, i, n, o = 1) {
            t > o ? n.setAttribute(e, t, i) : n.removeAttribute(e, i);
        }
        function Fo(e, t, i = {}) {
            const n = e.createElement('tableCell', i);
            return e.insertElement('paragraph', n), e.insert(n, t), n;
        }
        function Ho(e, t) {
            const i = t.parent.parent,
                n = parseInt(i.getAttribute('headingColumns') || 0),
                { column: o } = e.getCellLocation(t);
            return !!n && o < n;
        }
        function Yo() {
            return (e) => {
                e.on('element:table', (e, t, i) => {
                    const n = t.viewItem;
                    if (!i.consumable.test(n, { name: !0 })) return;
                    const {
                            rows: o,
                            headingRows: s,
                            headingColumns: r,
                        } = (function (e) {
                            const t = { headingRows: 0, headingColumns: 0 },
                                i = [],
                                n = [];
                            let o;
                            for (const s of Array.from(e.getChildren()))
                                if ('tbody' === s.name || 'thead' === s.name || 'tfoot' === s.name) {
                                    'thead' !== s.name || o || (o = s);
                                    const e = Array.from(s.getChildren()).filter((e) => e.is('element', 'tr'));
                                    for (const s of e)
                                        if ('thead' === s.parent.name && s.parent === o) t.headingRows++, i.push(s);
                                        else {
                                            n.push(s);
                                            const e = Zo(s);
                                            e > t.headingColumns && (t.headingColumns = e);
                                        }
                                }
                            return (t.rows = [...i, ...n]), t;
                        })(n),
                        a = {};
                    r && (a.headingColumns = r), s && (a.headingRows = s);
                    const l = i.writer.createElement('table', a);
                    if (i.safeInsert(l, t.modelCursor)) {
                        if (
                            (i.consumable.consume(n, { name: !0 }),
                            o.forEach((e) => i.convertItem(e, i.writer.createPositionAt(l, 'end'))),
                            i.convertChildren(n, i.writer.createPositionAt(l, 'end')),
                            l.isEmpty)
                        ) {
                            const e = i.writer.createElement('tableRow');
                            i.writer.insert(e, i.writer.createPositionAt(l, 'end')), Fo(i.writer, i.writer.createPositionAt(e, 'end'));
                        }
                        i.updateConversionResult(l, t);
                    }
                });
            };
        }
        function Wo(e) {
            return (t) => {
                t.on(
                    'element:' + e,
                    (e, t, i) => {
                        if (t.modelRange && t.viewItem.isEmpty) {
                            const e = t.modelRange.start.nodeAfter,
                                n = i.writer.createPositionAt(e, 0);
                            i.writer.insertElement('paragraph', n);
                        }
                    },
                    { priority: 'low' },
                );
            };
        }
        function Zo(e) {
            let t = 0,
                i = 0;
            const n = Array.from(e.getChildren()).filter((e) => 'th' === e.name || 'td' === e.name);
            for (; i < n.length && 'th' === n[i].name; ) {
                const e = n[i];
                (t += parseInt(e.getAttribute('colspan') || 1)), i++;
            }
            return t;
        }
        Vo.paragraphLikeElements = new Set(['blockquote', 'dd', 'div', 'dt', 'h1', 'h2', 'h3', 'h4', 'h5', 'h6', 'li', 'p', 'td', 'th']);
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Qo {
            constructor(e, t = {}) {
                (this._table = e),
                    (this._startRow = void 0 !== t.row ? t.row : t.startRow || 0),
                    (this._endRow = void 0 !== t.row ? t.row : t.endRow),
                    (this._startColumn = void 0 !== t.column ? t.column : t.startColumn || 0),
                    (this._endColumn = void 0 !== t.column ? t.column : t.endColumn),
                    (this._includeAllSlots = !!t.includeAllSlots),
                    (this._skipRows = new Set()),
                    (this._row = 0),
                    (this._rowIndex = 0),
                    (this._column = 0),
                    (this._cellIndex = 0),
                    (this._spannedCells = new Map()),
                    (this._nextCellAtColumn = -1);
            }
            [Symbol.iterator]() {
                return this;
            }
            next() {
                const e = this._table.getChild(this._rowIndex);
                if (!e || this._isOverEndRow()) return { done: !0 };
                if (!e.is('element', 'tableRow')) return this._rowIndex++, this.next();
                if (this._isOverEndColumn()) return this._advanceToNextRow();
                let t = null;
                const i = this._getSpanned();
                if (i) this._includeAllSlots && !this._shouldSkipSlot() && (t = this._formatOutValue(i.cell, i.row, i.column));
                else {
                    const i = e.getChild(this._cellIndex);
                    if (!i) return this._advanceToNextRow();
                    const n = parseInt(i.getAttribute('colspan') || 1),
                        o = parseInt(i.getAttribute('rowspan') || 1);
                    (n > 1 || o > 1) && this._recordSpans(i, o, n), this._shouldSkipSlot() || (t = this._formatOutValue(i)), (this._nextCellAtColumn = this._column + n);
                }
                return this._column++, this._column == this._nextCellAtColumn && this._cellIndex++, t || this.next();
            }
            skipRow(e) {
                this._skipRows.add(e);
            }
            _advanceToNextRow() {
                return this._row++, this._rowIndex++, (this._column = 0), (this._cellIndex = 0), (this._nextCellAtColumn = -1), this.next();
            }
            _isOverEndRow() {
                return void 0 !== this._endRow && this._row > this._endRow;
            }
            _isOverEndColumn() {
                return void 0 !== this._endColumn && this._column > this._endColumn;
            }
            _formatOutValue(e, t = this._row, i = this._column) {
                return { done: !1, value: new qo(this, e, t, i) };
            }
            _shouldSkipSlot() {
                const e = this._skipRows.has(this._row),
                    t = this._row < this._startRow,
                    i = this._column < this._startColumn,
                    n = void 0 !== this._endColumn && this._column > this._endColumn;
                return e || t || i || n;
            }
            _getSpanned() {
                const e = this._spannedCells.get(this._row);
                return (e && e.get(this._column)) || null;
            }
            _recordSpans(e, t, i) {
                const n = { cell: e, row: this._row, column: this._column };
                for (let e = this._row; e < this._row + t; e++)
                    for (let t = this._column; t < this._column + i; t++) (e == this._row && t == this._column) || this._markSpannedCell(e, t, n);
            }
            _markSpannedCell(e, t, i) {
                this._spannedCells.has(e) || this._spannedCells.set(e, new Map());
                this._spannedCells.get(e).set(t, i);
            }
        }
        class qo {
            constructor(e, t, i, n) {
                (this.cell = t),
                    (this.row = e._row),
                    (this.column = e._column),
                    (this.cellAnchorRow = i),
                    (this.cellAnchorColumn = n),
                    (this._cellIndex = e._cellIndex),
                    (this._rowIndex = e._rowIndex),
                    (this._table = e._table);
            }
            get isAnchor() {
                return this.row === this.cellAnchorRow && this.column === this.cellAnchorColumn;
            }
            get cellWidth() {
                return parseInt(this.cell.getAttribute('colspan') || 1);
            }
            get cellHeight() {
                return parseInt(this.cell.getAttribute('rowspan') || 1);
            }
            get rowIndex() {
                return this._rowIndex;
            }
            getPositionBefore() {
                return this._table.root.document.model.createPositionAt(this._table.getChild(this.row), this._cellIndex);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function $o(e, t = {}) {
            return (i, { writer: n }) => {
                const o = i.getAttribute('headingRows') || 0,
                    s = [];
                o > 0 &&
                    s.push(
                        n.createContainerElement(
                            'thead',
                            null,
                            n.createSlot((e) => e.is('element', 'tableRow') && e.index < o),
                        ),
                    ),
                    o < e.getRows(i) &&
                        s.push(
                            n.createContainerElement(
                                'tbody',
                                null,
                                n.createSlot((e) => e.is('element', 'tableRow') && e.index >= o),
                            ),
                        );
                const r = n.createContainerElement('figure', { class: 'table' }, [n.createContainerElement('table', null, s), n.createSlot((e) => !e.is('element', 'tableRow'))]);
                return t.asWidget
                    ? (function (e, t) {
                          return t.setCustomProperty('table', !0, e), (0, ge.toWidget)(e, t, { hasSelectionHandle: !0 });
                      })(r, n)
                    : r;
            };
        }
        function Go(e = {}) {
            return (t, { writer: i }) => {
                const n = t.parent,
                    o = n.parent,
                    s = o.getChildIndex(n),
                    r = new Qo(o, { row: s }),
                    a = o.getAttribute('headingRows') || 0,
                    l = o.getAttribute('headingColumns') || 0;
                for (const n of r)
                    if (n.cell == t) {
                        const t = n.row < a || n.column < l ? 'th' : 'td';
                        return e.asWidget ? (0, ge.toWidgetEditable)(i.createEditableElement(t), i) : i.createContainerElement(t);
                    }
            };
        }
        function Ko(e = {}) {
            return (t, { writer: i, consumable: n, mapper: o }) => {
                if (t.parent.is('element', 'tableCell') && Jo(t))
                    return e.asWidget
                        ? i.createContainerElement('span', { class: 'ck-table-bogus-paragraph' })
                        : (n.consume(t, 'insert'), void o.bindElements(t, o.toViewElement(t.parent)));
            };
        }
        function Jo(e) {
            return 1 == e.parent.childCount && ![...e.getAttributeKeys()].length;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Xo extends t.Command {
            refresh() {
                const e = this.editor.model,
                    t = e.document.selection,
                    i = e.schema;
                this.isEnabled = (function (e, t) {
                    const i = e.getFirstPosition().parent,
                        n = i === i.root ? i : i.parent;
                    return t.checkChild(n, 'table');
                })(t, i);
            }
            execute(e = {}) {
                const t = this.editor.model,
                    i = this.editor.plugins.get('TableUtils'),
                    n = this.editor.config.get('table'),
                    o = n.defaultHeadings.rows,
                    s = n.defaultHeadings.columns;
                void 0 === e.headingRows && o && (e.headingRows = o),
                    void 0 === e.headingColumns && s && (e.headingColumns = s),
                    t.change((n) => {
                        const o = i.createTable(n, e);
                        t.insertObject(o, null, null, { findOptimalPosition: 'auto' }), n.setSelection(n.createPositionAt(o.getNodeByPath([0, 0, 0]), 0));
                    });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class es extends t.Command {
            constructor(e, t = {}) {
                super(e), (this.order = t.order || 'below');
            }
            refresh() {
                const e = this.editor.model.document.selection,
                    t = !!this.editor.plugins.get('TableUtils').getSelectionAffectedTableCells(e).length;
                this.isEnabled = t;
            }
            execute() {
                const e = this.editor,
                    t = e.model.document.selection,
                    i = e.plugins.get('TableUtils'),
                    n = 'above' === this.order,
                    o = i.getSelectionAffectedTableCells(t),
                    s = i.getRowIndexes(o),
                    r = n ? s.first : s.last,
                    a = o[0].findAncestor('table');
                i.insertRows(a, { at: n ? r : r + 1, copyStructureFromAbove: !n });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ts extends t.Command {
            constructor(e, t = {}) {
                super(e), (this.order = t.order || 'right');
            }
            refresh() {
                const e = this.editor.model.document.selection,
                    t = !!this.editor.plugins.get('TableUtils').getSelectionAffectedTableCells(e).length;
                this.isEnabled = t;
            }
            execute() {
                const e = this.editor,
                    t = e.model.document.selection,
                    i = e.plugins.get('TableUtils'),
                    n = 'left' === this.order,
                    o = i.getSelectionAffectedTableCells(t),
                    s = i.getColumnIndexes(o),
                    r = n ? s.first : s.last,
                    a = o[0].findAncestor('table');
                i.insertColumns(a, { columns: 1, at: n ? r : r + 1 });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class is extends t.Command {
            constructor(e, t = {}) {
                super(e), (this.direction = t.direction || 'horizontally');
            }
            refresh() {
                const e = this.editor.plugins.get('TableUtils').getSelectionAffectedTableCells(this.editor.model.document.selection);
                this.isEnabled = 1 === e.length;
            }
            execute() {
                const e = this.editor.plugins.get('TableUtils'),
                    t = e.getSelectionAffectedTableCells(this.editor.model.document.selection)[0];
                'horizontally' === this.direction ? e.splitCellHorizontally(t, 2) : e.splitCellVertically(t, 2);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function ns(e, t, i) {
            const { startRow: n, startColumn: o, endRow: s, endColumn: r } = t,
                a = i.createElement('table'),
                l = s - n + 1;
            for (let e = 0; e < l; e++) i.insertElement('tableRow', a, 'end');
            const c = [...new Qo(e, { startRow: n, endRow: s, startColumn: o, endColumn: r, includeAllSlots: !0 })];
            for (const { row: e, column: t, cell: l, isAnchor: d, cellAnchorRow: u, cellAnchorColumn: m } of c) {
                const c = e - n,
                    g = a.getChild(c);
                if (d) {
                    const n = i.cloneElement(l);
                    i.append(n, g), ls(n, e, t, s, r, i);
                } else (u < n || m < o) && Fo(i, i.createPositionAt(g, 'end'));
            }
            return (
                (function (e, t, i, n, o) {
                    const s = parseInt(t.getAttribute('headingRows') || 0);
                    if (s > 0) {
                        Uo('headingRows', s - i, e, o, 0);
                    }
                    const r = parseInt(t.getAttribute('headingColumns') || 0);
                    if (r > 0) {
                        Uo('headingColumns', r - n, e, o, 0);
                    }
                })(a, e, n, o, i),
                a
            );
        }
        function os(e, t, i = 0) {
            const n = [],
                o = new Qo(e, { startRow: i, endRow: t - 1 });
            for (const e of o) {
                const { row: i, cellHeight: o } = e,
                    s = i + o - 1;
                i < t && t <= s && n.push(e);
            }
            return n;
        }
        function ss(e, t, i) {
            const n = e.parent,
                o = n.parent,
                s = n.index,
                r = t - s,
                a = {},
                l = parseInt(e.getAttribute('rowspan')) - r;
            l > 1 && (a.rowspan = l);
            const c = parseInt(e.getAttribute('colspan') || 1);
            c > 1 && (a.colspan = c);
            const d = s + r,
                u = [...new Qo(o, { startRow: s, endRow: d, includeAllSlots: !0 })];
            let m,
                g = null;
            for (const t of u) {
                const { row: n, column: o, cell: s } = t;
                s === e && void 0 === m && (m = o), void 0 !== m && m === o && n === d && (g = Fo(i, t.getPositionBefore(), a));
            }
            return Uo('rowspan', r, e, i), g;
        }
        function rs(e, t) {
            const i = [],
                n = new Qo(e);
            for (const e of n) {
                const { column: n, cellWidth: o } = e,
                    s = n + o - 1;
                n < t && t <= s && i.push(e);
            }
            return i;
        }
        function as(e, t, i, n) {
            const o = i - t,
                s = {},
                r = parseInt(e.getAttribute('colspan')) - o;
            r > 1 && (s.colspan = r);
            const a = parseInt(e.getAttribute('rowspan') || 1);
            a > 1 && (s.rowspan = a);
            const l = Fo(n, n.createPositionAfter(e), s);
            return Uo('colspan', o, e, n), l;
        }
        function ls(e, t, i, n, o, s) {
            const r = parseInt(e.getAttribute('colspan') || 1),
                a = parseInt(e.getAttribute('rowspan') || 1);
            if (i + r - 1 > o) {
                Uo('colspan', o - i + 1, e, s, 1);
            }
            if (t + a - 1 > n) {
                Uo('rowspan', n - t + 1, e, s, 1);
            }
        }
        function cs(e, t) {
            const i = t.getColumns(e),
                n = new Array(i).fill(0);
            for (const { column: t } of new Qo(e)) n[t]++;
            const o = n.reduce((e, t, i) => (t ? e : [...e, i]), []);
            if (o.length > 0) {
                const i = o[o.length - 1];
                return t.removeColumns(e, { at: i }), !0;
            }
            return !1;
        }
        function ds(e, t) {
            const i = [],
                n = t.getRows(e);
            for (let t = 0; t < n; t++) {
                e.getChild(t).isEmpty && i.push(t);
            }
            if (i.length > 0) {
                const n = i[i.length - 1];
                return t.removeRows(e, { at: n }), !0;
            }
            return !1;
        }
        function us(e, t) {
            cs(e, t) || ds(e, t);
        }
        function ms(e, t) {
            const i = Array.from(new Qo(e, { startColumn: t.firstColumn, endColumn: t.lastColumn, row: t.lastRow }));
            if (i.every(({ cellHeight: e }) => 1 === e)) return t.lastRow;
            const n = i[0].cellHeight - 1;
            return t.lastRow + n;
        }
        function gs(e, t) {
            const i = Array.from(new Qo(e, { startRow: t.firstRow, endRow: t.lastRow, column: t.lastColumn }));
            if (i.every(({ cellWidth: e }) => 1 === e)) return t.lastColumn;
            const n = i[0].cellWidth - 1;
            return t.lastColumn + n;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class hs extends t.Command {
            constructor(e, t) {
                super(e), (this.direction = t.direction), (this.isHorizontal = 'right' == this.direction || 'left' == this.direction);
            }
            refresh() {
                const e = this._getMergeableCell();
                (this.value = e), (this.isEnabled = !!e);
            }
            execute() {
                const e = this.editor.model,
                    t = e.document,
                    i = this.editor.plugins.get('TableUtils').getTableCellsContainingSelection(t.selection)[0],
                    n = this.value,
                    o = this.direction;
                e.change((e) => {
                    const t = 'right' == o || 'down' == o,
                        s = t ? i : n,
                        r = t ? n : i,
                        a = r.parent;
                    !(function (e, t, i) {
                        ps(e) || (ps(t) && i.remove(i.createRangeIn(t)), i.move(i.createRangeIn(e), i.createPositionAt(t, 'end')));
                        i.remove(e);
                    })(r, s, e);
                    const l = this.isHorizontal ? 'colspan' : 'rowspan',
                        c = parseInt(i.getAttribute(l) || 1),
                        d = parseInt(n.getAttribute(l) || 1);
                    e.setAttribute(l, c + d, s), e.setSelection(e.createRangeIn(s));
                    const u = this.editor.plugins.get('TableUtils');
                    us(a.findAncestor('table'), u);
                });
            }
            _getMergeableCell() {
                const e = this.editor.model.document,
                    t = this.editor.plugins.get('TableUtils'),
                    i = t.getTableCellsContainingSelection(e.selection)[0];
                if (!i) return;
                const n = this.isHorizontal
                    ? (function (e, t, i) {
                          const n = e.parent.parent,
                              o = 'right' == t ? e.nextSibling : e.previousSibling,
                              s = (n.getAttribute('headingColumns') || 0) > 0;
                          if (!o) return;
                          const r = 'right' == t ? e : o,
                              a = 'right' == t ? o : e,
                              { column: l } = i.getCellLocation(r),
                              { column: c } = i.getCellLocation(a),
                              d = parseInt(r.getAttribute('colspan') || 1),
                              u = Ho(i, r),
                              m = Ho(i, a);
                          if (s && u != m) return;
                          return l + d === c ? o : void 0;
                      })(i, this.direction, t)
                    : (function (e, t, i) {
                          const n = e.parent,
                              o = n.parent,
                              s = o.getChildIndex(n);
                          if (('down' == t && s === i.getRows(o) - 1) || ('up' == t && 0 === s)) return;
                          const r = parseInt(e.getAttribute('rowspan') || 1),
                              a = o.getAttribute('headingRows') || 0,
                              l = 'down' == t && s + r === a,
                              c = 'up' == t && s === a;
                          if (a && (l || c)) return;
                          const d = parseInt(e.getAttribute('rowspan') || 1),
                              u = 'down' == t ? s + d : s,
                              m = [...new Qo(o, { endRow: u })],
                              g = m.find((t) => t.cell === e).column,
                              h = m.find(({ row: e, cellHeight: i, column: n }) => n === g && ('down' == t ? e === u : u === e + i));
                          return h && h.cell;
                      })(i, this.direction, t);
                if (!n) return;
                const o = this.isHorizontal ? 'rowspan' : 'colspan',
                    s = parseInt(i.getAttribute(o) || 1);
                return parseInt(n.getAttribute(o) || 1) === s ? n : void 0;
            }
        }
        function ps(e) {
            return 1 == e.childCount && e.getChild(0).is('element', 'paragraph') && e.getChild(0).isEmpty;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class fs extends t.Command {
            refresh() {
                const e = this.editor.plugins.get('TableUtils'),
                    t = e.getSelectionAffectedTableCells(this.editor.model.document.selection),
                    i = t[0];
                if (i) {
                    const n = i.findAncestor('table'),
                        o = this.editor.plugins.get('TableUtils').getRows(n) - 1,
                        s = e.getRowIndexes(t),
                        r = 0 === s.first && s.last === o;
                    this.isEnabled = !r;
                } else this.isEnabled = !1;
            }
            execute() {
                const e = this.editor.model,
                    t = this.editor.plugins.get('TableUtils'),
                    i = t.getSelectionAffectedTableCells(e.document.selection),
                    n = t.getRowIndexes(i),
                    o = i[0],
                    s = o.findAncestor('table'),
                    r = t.getCellLocation(o).column;
                e.change((e) => {
                    const i = n.last - n.first + 1;
                    t.removeRows(s, { at: n.first, rows: i });
                    const o = (function (e, t, i, n) {
                        const o = e.getChild(Math.min(t, n - 1));
                        let s = o.getChild(0),
                            r = 0;
                        for (const e of o.getChildren()) {
                            if (r > i) return s;
                            (s = e), (r += parseInt(e.getAttribute('colspan') || 1));
                        }
                        return s;
                    })(s, n.first, r, t.getRows(s));
                    e.setSelection(e.createPositionAt(o, 0));
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class bs extends t.Command {
            refresh() {
                const e = this.editor.plugins.get('TableUtils'),
                    t = e.getSelectionAffectedTableCells(this.editor.model.document.selection),
                    i = t[0];
                if (i) {
                    const n = i.findAncestor('table'),
                        o = e.getColumns(n),
                        { first: s, last: r } = e.getColumnIndexes(t);
                    this.isEnabled = r - s < o - 1;
                } else this.isEnabled = !1;
            }
            execute() {
                const e = this.editor.plugins.get('TableUtils'),
                    [t, i] = (function (e, t) {
                        const i = t.getSelectionAffectedTableCells(e),
                            n = i[0],
                            o = i.pop(),
                            s = [n, o];
                        return n.isBefore(o) ? s : s.reverse();
                    })(this.editor.model.document.selection, e),
                    n = t.parent.parent,
                    o = [...new Qo(n)],
                    s = { first: o.find((e) => e.cell === t).column, last: o.find((e) => e.cell === i).column },
                    r = (function (e, t, i, n) {
                        return parseInt(i.getAttribute('colspan') || 1) > 1
                            ? i
                            : t.previousSibling || i.nextSibling
                            ? i.nextSibling || t.previousSibling
                            : n.first
                            ? e.reverse().find(({ column: e }) => e < n.first).cell
                            : e.reverse().find(({ column: e }) => e > n.last).cell;
                    })(o, t, i, s);
                this.editor.model.change((e) => {
                    const t = s.last - s.first + 1;
                    this.editor.plugins.get('TableUtils').removeColumns(n, { at: s.first, columns: t }), e.setSelection(e.createPositionAt(r, 0));
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ws extends t.Command {
            refresh() {
                const e = this.editor.plugins.get('TableUtils'),
                    t = this.editor.model,
                    i = e.getSelectionAffectedTableCells(t.document.selection),
                    n = i.length > 0;
                (this.isEnabled = n), (this.value = n && i.every((e) => this._isInHeading(e, e.parent.parent)));
            }
            execute(e = {}) {
                if (e.forceValue === this.value) return;
                const t = this.editor.plugins.get('TableUtils'),
                    i = this.editor.model,
                    n = t.getSelectionAffectedTableCells(i.document.selection),
                    o = n[0].findAncestor('table'),
                    { first: s, last: r } = t.getRowIndexes(n),
                    a = this.value ? s : r + 1,
                    l = o.getAttribute('headingRows') || 0;
                i.change((e) => {
                    if (a) {
                        const t = os(o, a, a > l ? l : 0);
                        for (const { cell: i } of t) ss(i, a, e);
                    }
                    Uo('headingRows', a, o, e, 0);
                });
            }
            _isInHeading(e, t) {
                const i = parseInt(t.getAttribute('headingRows') || 0);
                return !!i && e.parent.index < i;
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ks extends t.Command {
            refresh() {
                const e = this.editor.model,
                    t = this.editor.plugins.get('TableUtils'),
                    i = t.getSelectionAffectedTableCells(e.document.selection),
                    n = i.length > 0;
                (this.isEnabled = n), (this.value = n && i.every((e) => Ho(t, e)));
            }
            execute(e = {}) {
                if (e.forceValue === this.value) return;
                const t = this.editor.plugins.get('TableUtils'),
                    i = this.editor.model,
                    n = t.getSelectionAffectedTableCells(i.document.selection),
                    o = n[0].findAncestor('table'),
                    { first: s, last: r } = t.getColumnIndexes(n),
                    a = this.value ? s : r + 1;
                i.change((e) => {
                    if (a) {
                        const t = rs(o, a);
                        for (const { cell: i, column: n } of t) as(i, n, a, e);
                    }
                    Uo('headingColumns', a, o, e, 0);
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class vs extends t.Plugin {
            static get pluginName() {
                return 'TableUtils';
            }
            init() {
                this.decorate('insertColumns'), this.decorate('insertRows');
            }
            getCellLocation(e) {
                const t = e.parent,
                    i = t.parent,
                    n = i.getChildIndex(t),
                    o = new Qo(i, { row: n });
                for (const { cell: t, row: i, column: n } of o) if (t === e) return { row: i, column: n };
            }
            createTable(e, t) {
                const i = e.createElement('table'),
                    n = parseInt(t.rows) || 2,
                    o = parseInt(t.columns) || 2;
                return (
                    _s(e, i, 0, n, o),
                    t.headingRows && Uo('headingRows', Math.min(t.headingRows, n), i, e, 0),
                    t.headingColumns && Uo('headingColumns', Math.min(t.headingColumns, o), i, e, 0),
                    i
                );
            }
            insertRows(e, t = {}) {
                const i = this.editor.model,
                    n = t.at || 0,
                    s = t.rows || 1,
                    r = void 0 !== t.copyStructureFromAbove,
                    a = t.copyStructureFromAbove ? n - 1 : n,
                    l = this.getRows(e),
                    c = this.getColumns(e);
                if (n > l) throw new o.CKEditorError('tableutils-insertrows-insert-out-of-range', this, { options: t });
                i.change((t) => {
                    const i = e.getAttribute('headingRows') || 0;
                    if ((i > n && Uo('headingRows', i + s, e, t, 0), !r && (0 === n || n === l))) return void _s(t, e, n, s, c);
                    const o = r ? Math.max(n, a) : n,
                        d = new Qo(e, { endRow: o }),
                        u = new Array(c).fill(1);
                    for (const { row: e, column: i, cellHeight: o, cellWidth: l, cell: c } of d) {
                        const d = e + o - 1,
                            m = e <= a && a <= d;
                        e < n && n <= d ? (t.setAttribute('rowspan', o + s, c), (u[i] = -l)) : r && m && (u[i] = l);
                    }
                    for (let i = 0; i < s; i++) {
                        const i = t.createElement('tableRow');
                        t.insert(i, e, n);
                        for (let e = 0; e < u.length; e++) {
                            const n = u[e],
                                o = t.createPositionAt(i, 'end');
                            n > 0 && Fo(t, o, n > 1 ? { colspan: n } : null), (e += Math.abs(n) - 1);
                        }
                    }
                });
            }
            insertColumns(e, t = {}) {
                const i = this.editor.model,
                    n = t.at || 0,
                    o = t.columns || 1;
                i.change((t) => {
                    const i = e.getAttribute('headingColumns');
                    n < i && t.setAttribute('headingColumns', i + o, e);
                    const s = this.getColumns(e);
                    if (0 === n || s === n) {
                        for (const i of e.getChildren()) i.is('element', 'tableRow') && ys(o, t, t.createPositionAt(i, n ? 'end' : 0));
                        return;
                    }
                    const r = new Qo(e, { column: n, includeAllSlots: !0 });
                    for (const e of r) {
                        const { row: i, cell: s, cellAnchorColumn: a, cellAnchorRow: l, cellWidth: c, cellHeight: d } = e;
                        if (a < n) {
                            t.setAttribute('colspan', c + o, s);
                            const e = l + d - 1;
                            for (let t = i; t <= e; t++) r.skipRow(t);
                        } else ys(o, t, e.getPositionBefore());
                    }
                });
            }
            removeRows(e, t) {
                const i = this.editor.model,
                    n = t.rows || 1,
                    s = this.getRows(e),
                    r = t.at,
                    a = r + n - 1;
                if (a > s - 1) throw new o.CKEditorError('tableutils-removerows-row-index-out-of-range', this, { table: e, options: t });
                i.change((t) => {
                    const { cellsToMove: i, cellsToTrim: n } = (function (e, t, i) {
                        const n = new Map(),
                            o = [];
                        for (const { row: s, column: r, cellHeight: a, cell: l } of new Qo(e, { endRow: i })) {
                            const e = s + a - 1;
                            if (s >= t && s <= i && e > i) {
                                const e = a - (i - s + 1);
                                n.set(r, { cell: l, rowspan: e });
                            }
                            if (s < t && e >= t) {
                                let n;
                                (n = e >= i ? i - t + 1 : e - t + 1), o.push({ cell: l, rowspan: a - n });
                            }
                        }
                        return { cellsToMove: n, cellsToTrim: o };
                    })(e, r, a);
                    if (i.size) {
                        !(function (e, t, i, n) {
                            const o = [...new Qo(e, { includeAllSlots: !0, row: t })],
                                s = e.getChild(t);
                            let r;
                            for (const { column: e, cell: t, isAnchor: a } of o)
                                if (i.has(e)) {
                                    const { cell: t, rowspan: o } = i.get(e),
                                        a = r ? n.createPositionAfter(r) : n.createPositionAt(s, 0);
                                    n.move(n.createRangeOn(t), a), Uo('rowspan', o, t, n), (r = t);
                                } else a && (r = t);
                        })(e, a + 1, i, t);
                    }
                    for (let i = a; i >= r; i--) t.remove(e.getChild(i));
                    for (const { rowspan: e, cell: i } of n) Uo('rowspan', e, i, t);
                    !(function (e, t, i, n) {
                        const o = e.getAttribute('headingRows') || 0;
                        if (t < o) {
                            Uo('headingRows', i < o ? o - (i - t + 1) : t, e, n, 0);
                        }
                    })(e, r, a, t),
                        cs(e, this) || ds(e, this);
                });
            }
            removeColumns(e, t) {
                const i = this.editor.model,
                    n = t.at,
                    o = t.columns || 1,
                    s = t.at + o - 1;
                i.change((t) => {
                    !(function (e, t, i) {
                        const n = e.getAttribute('headingColumns') || 0;
                        if (n && t.first < n) {
                            const o = Math.min(n - 1, t.last) - t.first + 1;
                            i.setAttribute('headingColumns', n - o, e);
                        }
                    })(e, { first: n, last: s }, t);
                    for (let i = s; i >= n; i--)
                        for (const { cell: n, column: o, cellWidth: s } of [...new Qo(e)]) o <= i && s > 1 && o + s > i ? Uo('colspan', s - 1, n, t) : o === i && t.remove(n);
                    ds(e, this) || cs(e, this);
                });
            }
            splitCellVertically(e, t = 2) {
                const i = this.editor.model,
                    n = e.parent.parent,
                    o = parseInt(e.getAttribute('rowspan') || 1),
                    s = parseInt(e.getAttribute('colspan') || 1);
                i.change((i) => {
                    if (s > 1) {
                        const { newCellsSpan: n, updatedSpan: r } = Is(s, t);
                        Uo('colspan', r, e, i);
                        const a = {};
                        n > 1 && (a.colspan = n), o > 1 && (a.rowspan = o);
                        ys(s > t ? t - 1 : s - 1, i, i.createPositionAfter(e), a);
                    }
                    if (s < t) {
                        const r = t - s,
                            a = [...new Qo(n)],
                            { column: l } = a.find(({ cell: t }) => t === e),
                            c = a.filter(({ cell: t, cellWidth: i, column: n }) => (t !== e && n === l) || (n < l && n + i > l));
                        for (const { cell: e, cellWidth: t } of c) i.setAttribute('colspan', t + r, e);
                        const d = {};
                        o > 1 && (d.rowspan = o), ys(r, i, i.createPositionAfter(e), d);
                        const u = n.getAttribute('headingColumns') || 0;
                        u > l && Uo('headingColumns', u + r, n, i);
                    }
                });
            }
            splitCellHorizontally(e, t = 2) {
                const i = this.editor.model,
                    n = e.parent,
                    o = n.parent,
                    s = o.getChildIndex(n),
                    r = parseInt(e.getAttribute('rowspan') || 1),
                    a = parseInt(e.getAttribute('colspan') || 1);
                i.change((i) => {
                    if (r > 1) {
                        const n = [...new Qo(o, { startRow: s, endRow: s + r - 1, includeAllSlots: !0 })],
                            { newCellsSpan: l, updatedSpan: c } = Is(r, t);
                        Uo('rowspan', c, e, i);
                        const { column: d } = n.find(({ cell: t }) => t === e),
                            u = {};
                        l > 1 && (u.rowspan = l), a > 1 && (u.colspan = a);
                        for (const e of n) {
                            const { column: t, row: n } = e,
                                o = t === d,
                                r = (n + s + c) % l == 0;
                            n >= s + c && o && r && ys(1, i, e.getPositionBefore(), u);
                        }
                    }
                    if (r < t) {
                        const n = t - r,
                            l = [...new Qo(o, { startRow: 0, endRow: s })];
                        for (const { cell: t, cellHeight: o, row: r } of l)
                            if (t !== e && r + o > s) {
                                const e = o + n;
                                i.setAttribute('rowspan', e, t);
                            }
                        const c = {};
                        a > 1 && (c.colspan = a), _s(i, o, s + 1, n, 1, c);
                        const d = o.getAttribute('headingRows') || 0;
                        d > s && Uo('headingRows', d + n, o, i);
                    }
                });
            }
            getColumns(e) {
                return [...e.getChild(0).getChildren()].reduce((e, t) => e + parseInt(t.getAttribute('colspan') || 1), 0);
            }
            getRows(e) {
                return Array.from(e.getChildren()).reduce((e, t) => (t.is('element', 'tableRow') ? e + 1 : e), 0);
            }
            createTableWalker(e, t = {}) {
                return new Qo(e, t);
            }
            getSelectedTableCells(e) {
                const t = [];
                for (const i of this.sortRanges(e.getRanges())) {
                    const e = i.getContainedElement();
                    e && e.is('element', 'tableCell') && t.push(e);
                }
                return t;
            }
            getTableCellsContainingSelection(e) {
                const t = [];
                for (const i of e.getRanges()) {
                    const e = i.start.findAncestor('tableCell');
                    e && t.push(e);
                }
                return t;
            }
            getSelectionAffectedTableCells(e) {
                const t = this.getSelectedTableCells(e);
                return t.length ? t : this.getTableCellsContainingSelection(e);
            }
            getRowIndexes(e) {
                const t = e.map((e) => e.parent.index);
                return this._getFirstLastIndexesObject(t);
            }
            getColumnIndexes(e) {
                const t = e[0].findAncestor('table'),
                    i = [...new Qo(t)].filter((t) => e.includes(t.cell)).map((e) => e.column);
                return this._getFirstLastIndexesObject(i);
            }
            isSelectionRectangular(e) {
                if (e.length < 2 || !this._areCellInTheSameTableSection(e)) return !1;
                const t = new Set(),
                    i = new Set();
                let n = 0;
                for (const o of e) {
                    const { row: e, column: s } = this.getCellLocation(o),
                        r = parseInt(o.getAttribute('rowspan') || 1),
                        a = parseInt(o.getAttribute('colspan') || 1);
                    t.add(e), i.add(s), r > 1 && t.add(e + r - 1), a > 1 && i.add(s + a - 1), (n += r * a);
                }
                return (
                    (function (e, t) {
                        const i = Array.from(e.values()),
                            n = Array.from(t.values()),
                            o = Math.max(...i),
                            s = Math.min(...i),
                            r = Math.max(...n),
                            a = Math.min(...n);
                        return (o - s + 1) * (r - a + 1);
                    })(t, i) == n
                );
            }
            sortRanges(e) {
                return Array.from(e).sort(Cs);
            }
            _getFirstLastIndexesObject(e) {
                const t = e.sort((e, t) => e - t);
                return { first: t[0], last: t[t.length - 1] };
            }
            _areCellInTheSameTableSection(e) {
                const t = e[0].findAncestor('table'),
                    i = this.getRowIndexes(e),
                    n = parseInt(t.getAttribute('headingRows') || 0);
                if (!this._areIndexesInSameSection(i, n)) return !1;
                const o = parseInt(t.getAttribute('headingColumns') || 0),
                    s = this.getColumnIndexes(e);
                return this._areIndexesInSameSection(s, o);
            }
            _areIndexesInSameSection({ first: e, last: t }, i) {
                return e < i === t < i;
            }
        }
        function _s(e, t, i, n, o, s = {}) {
            for (let r = 0; r < n; r++) {
                const n = e.createElement('tableRow');
                e.insert(n, t, i), ys(o, e, e.createPositionAt(n, 'end'), s);
            }
        }
        function ys(e, t, i, n = {}) {
            for (let o = 0; o < e; o++) Fo(t, i, n);
        }
        function Is(e, t) {
            if (e < t) return { newCellsSpan: 1, updatedSpan: 1 };
            const i = Math.floor(e / t);
            return { newCellsSpan: i, updatedSpan: e - i * t + i };
        }
        function Cs(e, t) {
            const i = e.start,
                n = t.start;
            return i.isBefore(n) ? -1 : 1;
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class As extends t.Command {
            refresh() {
                const e = this.editor.plugins.get(vs),
                    t = e.getSelectedTableCells(this.editor.model.document.selection);
                this.isEnabled = e.isSelectionRectangular(t, this.editor.plugins.get(vs));
            }
            execute() {
                const e = this.editor.model,
                    t = this.editor.plugins.get(vs);
                e.change((i) => {
                    const n = t.getSelectedTableCells(e.document.selection),
                        o = n.shift(),
                        { mergeWidth: s, mergeHeight: r } = (function (e, t, i) {
                            let n = 0,
                                o = 0;
                            for (const e of t) {
                                const { row: t, column: s } = i.getCellLocation(e);
                                (n = Ms(e, s, n, 'colspan')), (o = Ms(e, t, o, 'rowspan'));
                            }
                            const { row: s, column: r } = i.getCellLocation(e);
                            return { mergeWidth: n - r, mergeHeight: o - s };
                        })(o, n, t);
                    Uo('colspan', s, o, i), Uo('rowspan', r, o, i);
                    for (const e of n) xs(e, o, i);
                    us(o.findAncestor('table'), t), i.setSelection(o, 'in');
                });
            }
        }
        function xs(e, t, i) {
            Ts(e) || (Ts(t) && i.remove(i.createRangeIn(t)), i.move(i.createRangeIn(e), i.createPositionAt(t, 'end'))), i.remove(e);
        }
        function Ts(e) {
            return 1 == e.childCount && e.getChild(0).is('element', 'paragraph') && e.getChild(0).isEmpty;
        }
        function Ms(e, t, i, n) {
            const o = parseInt(e.getAttribute(n) || 1);
            return Math.max(i, t + o);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Es extends t.Command {
            constructor(e) {
                super(e), (this.affectsData = !1);
            }
            refresh() {
                const e = this.editor.plugins.get('TableUtils').getSelectionAffectedTableCells(this.editor.model.document.selection);
                this.isEnabled = e.length > 0;
            }
            execute() {
                const e = this.editor.model,
                    t = this.editor.plugins.get('TableUtils'),
                    i = t.getSelectionAffectedTableCells(e.document.selection),
                    n = t.getRowIndexes(i),
                    o = i[0].findAncestor('table'),
                    s = [];
                for (let t = n.first; t <= n.last; t++) for (const i of o.getChild(t).getChildren()) s.push(e.createRangeOn(i));
                e.change((e) => {
                    e.setSelection(s);
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ss extends t.Command {
            constructor(e) {
                super(e), (this.affectsData = !1);
            }
            refresh() {
                const e = this.editor.plugins.get('TableUtils').getSelectionAffectedTableCells(this.editor.model.document.selection);
                this.isEnabled = e.length > 0;
            }
            execute() {
                const e = this.editor.plugins.get('TableUtils'),
                    t = this.editor.model,
                    i = e.getSelectionAffectedTableCells(t.document.selection),
                    n = i[0],
                    o = i.pop(),
                    s = n.findAncestor('table'),
                    r = e.getCellLocation(n),
                    a = e.getCellLocation(o),
                    l = Math.min(r.column, a.column),
                    c = Math.max(r.column, a.column),
                    d = [];
                for (const e of new Qo(s, { startColumn: l, endColumn: c })) d.push(t.createRangeOn(e.cell));
                t.change((e) => {
                    e.setSelection(d);
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function Ls(e) {
            e.document.registerPostFixer((t) =>
                (function (e, t) {
                    const i = t.document.differ.getChanges();
                    let n = !1;
                    const o = new Set();
                    for (const t of i) {
                        let i;
                        'table' == t.name && 'insert' == t.type && (i = t.position.nodeAfter),
                            ('tableRow' != t.name && 'tableCell' != t.name) || (i = t.position.findAncestor('table')),
                            Ds(t) && (i = t.range.start.findAncestor('table')),
                            i && !o.has(i) && ((n = Ns(i, e) || n), (n = js(i, e) || n), o.add(i));
                    }
                    return n;
                })(t, e),
            );
        }
        function Ns(e, t) {
            let i = !1;
            const n = (function (e) {
                const t = parseInt(e.getAttribute('headingRows') || 0),
                    i = Array.from(e.getChildren()).reduce((e, t) => (t.is('element', 'tableRow') ? e + 1 : e), 0),
                    n = [];
                for (const { row: o, cell: s, cellHeight: r } of new Qo(e)) {
                    if (r < 2) continue;
                    const e = o < t ? t : i;
                    if (o + r > e) {
                        const t = e - o;
                        n.push({ cell: s, rowspan: t });
                    }
                }
                return n;
            })(e);
            if (n.length) {
                i = !0;
                for (const e of n) Uo('rowspan', e.rowspan, e.cell, t, 1);
            }
            return i;
        }
        function js(e, t) {
            let i = !1;
            const n = (function (e) {
                    const t = new Array(e.childCount).fill(0);
                    for (const { rowIndex: i } of new Qo(e, { includeAllSlots: !0 })) t[i]++;
                    return t;
                })(e),
                o = [];
            for (const [t, i] of n.entries()) !i && e.getChild(t).is('element', 'tableRow') && o.push(t);
            if (o.length) {
                i = !0;
                for (const i of o.reverse()) t.remove(e.getChild(i)), n.splice(i, 1);
            }
            const s = n.filter((t, i) => e.getChild(i).is('element', 'tableRow')),
                r = s[0];
            if (!s.every((e) => e === r)) {
                const n = s.reduce((e, t) => (t > e ? t : e), 0);
                for (const [o, r] of s.entries()) {
                    const s = n - r;
                    if (s) {
                        for (let i = 0; i < s; i++) Fo(t, t.createPositionAt(e.getChild(o), 'end'));
                        i = !0;
                    }
                }
            }
            return i;
        }
        function Ds(e) {
            const t = 'attribute' === e.type,
                i = e.attributeKey;
            return t && ('headingRows' === i || 'colspan' === i || 'rowspan' === i);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function zs(e) {
            e.document.registerPostFixer((t) =>
                (function (e, t) {
                    const i = t.document.differ.getChanges();
                    let n = !1;
                    for (const t of i)
                        'insert' == t.type && 'table' == t.name && (n = Ps(t.position.nodeAfter, e) || n),
                            'insert' == t.type && 'tableRow' == t.name && (n = Bs(t.position.nodeAfter, e) || n),
                            'insert' == t.type && 'tableCell' == t.name && (n = Rs(t.position.nodeAfter, e) || n),
                            Os(t) && (n = Rs(t.position.parent, e) || n);
                    return n;
                })(t, e),
            );
        }
        function Ps(e, t) {
            let i = !1;
            for (const n of e.getChildren()) n.is('element', 'tableRow') && (i = Bs(n, t) || i);
            return i;
        }
        function Bs(e, t) {
            let i = !1;
            for (const n of e.getChildren()) i = Rs(n, t) || i;
            return i;
        }
        function Rs(e, t) {
            if (0 == e.childCount) return t.insertElement('paragraph', e), !0;
            const i = Array.from(e.getChildren()).filter((e) => e.is('$text'));
            for (const e of i) t.wrap(t.createRangeOn(e), 'paragraph');
            return !!i.length;
        }
        function Os(e) {
            return !(!e.position || !e.position.parent.is('element', 'tableCell')) && (('insert' == e.type && '$text' == e.name) || 'remove' == e.type);
        }
        function Vs(e, t) {
            if (!e.is('element', 'paragraph')) return !1;
            const i = t.toViewElement(e);
            return !!i && Jo(e) !== i.is('element', 'span');
        }
        var Us = i(844),
            Fs = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Us.Z, Fs);
        Us.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Hs extends t.Plugin {
            static get pluginName() {
                return 'TableEditing';
            }
            static get requires() {
                return [vs];
            }
            init() {
                const e = this.editor,
                    t = e.model,
                    i = t.schema,
                    n = e.conversion,
                    s = e.plugins.get(vs);
                i.register('table', { inheritAllFrom: '$blockObject', allowAttributes: ['headingRows', 'headingColumns'] }),
                    i.register('tableRow', { allowIn: 'table', isLimit: !0 }),
                    i.register('tableCell', { allowContentOf: '$container', allowIn: 'tableRow', allowAttributes: ['colspan', 'rowspan'], isLimit: !0, isSelectable: !0 }),
                    n.for('upcast').add((e) => {
                        e.on('element:figure', (e, t, i) => {
                            if (!i.consumable.test(t.viewItem, { name: !0, classes: 'table' })) return;
                            const n = (function (e) {
                                for (const t of e.getChildren()) if (t.is('element', 'table')) return t;
                            })(t.viewItem);
                            if (!n || !i.consumable.test(n, { name: !0 })) return;
                            i.consumable.consume(t.viewItem, { name: !0, classes: 'table' });
                            const s = i.convertItem(n, t.modelCursor),
                                r = (0, o.first)(s.modelRange.getItems());
                            r
                                ? (i.convertChildren(t.viewItem, i.writer.createPositionAt(r, 'end')), i.updateConversionResult(r, t))
                                : i.consumable.revert(t.viewItem, { name: !0, classes: 'table' });
                        });
                    }),
                    n.for('upcast').add(Yo()),
                    n.for('editingDowncast').elementToStructure({ model: { name: 'table', attributes: ['headingRows'] }, view: $o(s, { asWidget: !0 }) }),
                    n.for('dataDowncast').elementToStructure({ model: { name: 'table', attributes: ['headingRows'] }, view: $o(s) }),
                    n.for('upcast').elementToElement({ model: 'tableRow', view: 'tr' }),
                    n.for('upcast').add((e) => {
                        e.on(
                            'element:tr',
                            (e, t) => {
                                t.viewItem.isEmpty && 0 == t.modelCursor.index && e.stop();
                            },
                            { priority: 'high' },
                        );
                    }),
                    n
                        .for('downcast')
                        .elementToElement({ model: 'tableRow', view: (e, { writer: t }) => (e.isEmpty ? t.createEmptyElement('tr') : t.createContainerElement('tr')) }),
                    n.for('upcast').elementToElement({ model: 'tableCell', view: 'td' }),
                    n.for('upcast').elementToElement({ model: 'tableCell', view: 'th' }),
                    n.for('upcast').add(Wo('td')),
                    n.for('upcast').add(Wo('th')),
                    n.for('editingDowncast').elementToElement({ model: 'tableCell', view: Go({ asWidget: !0 }) }),
                    n.for('dataDowncast').elementToElement({ model: 'tableCell', view: Go() }),
                    n.for('editingDowncast').elementToElement({ model: 'paragraph', view: Ko({ asWidget: !0 }), converterPriority: 'high' }),
                    n.for('dataDowncast').elementToElement({ model: 'paragraph', view: Ko(), converterPriority: 'high' }),
                    n.for('downcast').attributeToAttribute({ model: 'colspan', view: 'colspan' }),
                    n.for('upcast').attributeToAttribute({ model: { key: 'colspan', value: Ys('colspan') }, view: 'colspan' }),
                    n.for('downcast').attributeToAttribute({ model: 'rowspan', view: 'rowspan' }),
                    n.for('upcast').attributeToAttribute({ model: { key: 'rowspan', value: Ys('rowspan') }, view: 'rowspan' }),
                    e.data.mapper.on('modelToViewPosition', (e, t) => {
                        const i = t.modelPosition.parent,
                            n = t.modelPosition.nodeBefore;
                        if (!i.is('element', 'tableCell')) return;
                        if (!n || !n.is('element', 'paragraph')) return;
                        const o = t.mapper.toViewElement(n),
                            s = t.mapper.toViewElement(i);
                        o === s && (t.viewPosition = t.mapper.findPositionIn(s, n.maxOffset));
                    }),
                    e.config.define('table.defaultHeadings.rows', 0),
                    e.config.define('table.defaultHeadings.columns', 0),
                    e.commands.add('insertTable', new Xo(e)),
                    e.commands.add('insertTableRowAbove', new es(e, { order: 'above' })),
                    e.commands.add('insertTableRowBelow', new es(e, { order: 'below' })),
                    e.commands.add('insertTableColumnLeft', new ts(e, { order: 'left' })),
                    e.commands.add('insertTableColumnRight', new ts(e, { order: 'right' })),
                    e.commands.add('removeTableRow', new fs(e)),
                    e.commands.add('removeTableColumn', new bs(e)),
                    e.commands.add('splitTableCellVertically', new is(e, { direction: 'vertically' })),
                    e.commands.add('splitTableCellHorizontally', new is(e, { direction: 'horizontally' })),
                    e.commands.add('mergeTableCells', new As(e)),
                    e.commands.add('mergeTableCellRight', new hs(e, { direction: 'right' })),
                    e.commands.add('mergeTableCellLeft', new hs(e, { direction: 'left' })),
                    e.commands.add('mergeTableCellDown', new hs(e, { direction: 'down' })),
                    e.commands.add('mergeTableCellUp', new hs(e, { direction: 'up' })),
                    e.commands.add('setTableColumnHeader', new ks(e)),
                    e.commands.add('setTableRowHeader', new ws(e)),
                    e.commands.add('selectTableRow', new Es(e)),
                    e.commands.add('selectTableColumn', new Ss(e)),
                    Ls(t),
                    zs(t),
                    this.listenTo(t.document, 'change:data', () => {
                        !(
                            /**
                             * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                             */
                            (function (e, t) {
                                const i = e.document.differ;
                                for (const e of i.getChanges()) {
                                    let i,
                                        n = !1;
                                    if ('attribute' == e.type) {
                                        const t = e.range.start.nodeAfter;
                                        if (!t || !t.is('element', 'table')) continue;
                                        if ('headingRows' != e.attributeKey && 'headingColumns' != e.attributeKey) continue;
                                        (i = t), (n = 'headingRows' == e.attributeKey);
                                    } else ('tableRow' != e.name && 'tableCell' != e.name) || ((i = e.position.findAncestor('table')), (n = 'tableRow' == e.name));
                                    if (!i) continue;
                                    const o = i.getAttribute('headingRows') || 0,
                                        s = i.getAttribute('headingColumns') || 0,
                                        r = new Qo(i);
                                    for (const e of r) {
                                        const i = e.row < o || e.column < s ? 'th' : 'td',
                                            r = t.mapper.toViewElement(e.cell);
                                        r && r.is('element') && r.name != i && t.reconvertItem(n ? e.cell.parent : e.cell);
                                    }
                                }
                            })(t, e.editing)
                        ),
                            /**
                             * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
                             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
                             */
                            (function (e, t) {
                                const i = e.document.differ,
                                    n = new Set();
                                for (const e of i.getChanges()) {
                                    const t = 'attribute' == e.type ? e.range.start.parent : e.position.parent;
                                    t.is('element', 'tableCell') && n.add(t);
                                }
                                for (const e of n.values()) {
                                    const i = Array.from(e.getChildren()).filter((e) => Vs(e, t.mapper));
                                    for (const e of i) t.reconvertItem(e);
                                }
                            })(t, e.editing);
                    });
            }
        }
        function Ys(e) {
            return (t) => {
                const i = parseInt(t.getAttribute(e));
                return Number.isNaN(i) || i <= 0 ? null : i;
            };
        }
        var Ws = i(85),
            Zs = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Ws.Z, Zs);
        Ws.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Qs extends x.View {
            constructor(e) {
                super(e);
                const t = this.bindTemplate;
                (this._geometryLabelId = 'ck-editor__label_' + (0, o.uid)()),
                    (this.items = this._createGridCollection()),
                    (this.keystrokes = new o.KeystrokeHandler()),
                    (this.focusTracker = new o.FocusTracker()),
                    this.set('rows', 0),
                    this.set('columns', 0),
                    this.bind('label').to(this, 'columns', this, 'rows', (e, t) => `${t} × ${e}`),
                    this.setTemplate({
                        tag: 'div',
                        attributes: { class: ['ck'] },
                        children: [
                            {
                                tag: 'div',
                                attributes: { class: ['ck-insert-table-dropdown__grid'] },
                                on: { 'mouseover@.ck-insert-table-dropdown-grid-box': t.to('boxover') },
                                children: this.items,
                            },
                            { tag: 'div', attributes: { id: this._geometryLabelId, class: ['ck', 'ck-insert-table-dropdown__label'] }, children: [{ text: t.to('label') }] },
                        ],
                        on: {
                            mousedown: t.to((e) => {
                                e.preventDefault();
                            }),
                            click: t.to(() => {
                                this.fire('execute');
                            }),
                            keydown: t.to((e) => {
                                'Enter' === e.key && (this.fire('execute'), e.preventDefault());
                            }),
                        },
                    }),
                    this.on('boxover', (e, t) => {
                        const { row: i, column: n } = t.target.dataset;
                        this.items.get(10 * (i - 1) + (n - 1)).focus();
                    }),
                    this.focusTracker.on('change:focusedElement', (e, t, i) => {
                        if (!i) return;
                        const { row: n, column: o } = i.dataset;
                        this.set({ rows: parseInt(n), columns: parseInt(o) });
                    }),
                    this.on('change:columns', () => this._highlightGridBoxes()),
                    this.on('change:rows', () => this._highlightGridBoxes());
            }
            render() {
                super.render(),
                    (0, x.addKeyboardHandlingForGrid)({ keystrokeHandler: this.keystrokes, focusTracker: this.focusTracker, gridItems: this.items, numberOfColumns: 10 });
                for (const e of this.items) this.focusTracker.add(e.element);
                this.keystrokes.listenTo(this.element);
            }
            focus() {
                this.items.get(0).focus();
            }
            focusLast() {
                this.items.get(0).focus();
            }
            _highlightGridBoxes() {
                const e = this.rows,
                    t = this.columns;
                this.items.map((i, n) => {
                    const o = Math.floor(n / 10) < e && n % 10 < t;
                    i.set('isOn', o);
                });
            }
            _createGridCollection() {
                const e = [];
                for (let t = 0; t < 100; t++) {
                    const i = Math.floor(t / 10),
                        n = t % 10;
                    e.push(new qs(this.locale, i + 1, n + 1, this._geometryLabelId));
                }
                return this.createCollection(e);
            }
        }
        class qs extends x.View {
            constructor(e, t, i, n) {
                super(e);
                const o = this.bindTemplate;
                this.set('isOn', !1),
                    this.setTemplate({
                        tag: 'div',
                        attributes: {
                            class: ['ck', 'ck-insert-table-dropdown-grid-box', o.if('isOn', 'ck-on')],
                            'data-row': t,
                            'data-column': i,
                            tabindex: -1,
                            'aria-labelledby': n,
                        },
                    });
            }
            focus() {
                this.element.focus();
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class $s extends t.Plugin {
            static get pluginName() {
                return 'TableUI';
            }
            init() {
                const e = this.editor,
                    t = this.editor.t,
                    i = 'ltr' === e.locale.contentLanguageDirection;
                e.ui.componentFactory.add('insertTable', (i) => {
                    const n = e.commands.get('insertTable'),
                        o = (0, x.createDropdown)(i);
                    let s;
                    return (
                        o.bind('isEnabled').to(n),
                        o.buttonView.set({
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',
                            label: t('Insert table'),
                            tooltip: !0,
                        }),
                        o.on('change:isOpen', () => {
                            s ||
                                ((s = new Qs(i)),
                                o.panelView.children.add(s),
                                s.delegate('execute').to(o),
                                o.on('execute', () => {
                                    e.execute('insertTable', { rows: s.rows, columns: s.columns }), e.editing.view.focus();
                                }));
                        }),
                        o
                    );
                }),
                    e.ui.componentFactory.add('tableColumn', (e) => {
                        const n = [
                            { type: 'switchbutton', model: { commandName: 'setTableColumnHeader', label: t('Header column'), bindIsOn: !0 } },
                            { type: 'separator' },
                            { type: 'button', model: { commandName: i ? 'insertTableColumnLeft' : 'insertTableColumnRight', label: t('Insert column left') } },
                            { type: 'button', model: { commandName: i ? 'insertTableColumnRight' : 'insertTableColumnLeft', label: t('Insert column right') } },
                            { type: 'button', model: { commandName: 'removeTableColumn', label: t('Delete column') } },
                            { type: 'button', model: { commandName: 'selectTableColumn', label: t('Select column') } },
                        ];
                        return this._prepareDropdown(
                            t('Column'),
                            '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',
                            n,
                            e,
                        );
                    }),
                    e.ui.componentFactory.add('tableRow', (e) => {
                        const i = [
                            { type: 'switchbutton', model: { commandName: 'setTableRowHeader', label: t('Header row'), bindIsOn: !0 } },
                            { type: 'separator' },
                            { type: 'button', model: { commandName: 'insertTableRowAbove', label: t('Insert row above') } },
                            { type: 'button', model: { commandName: 'insertTableRowBelow', label: t('Insert row below') } },
                            { type: 'button', model: { commandName: 'removeTableRow', label: t('Delete row') } },
                            { type: 'button', model: { commandName: 'selectTableRow', label: t('Select row') } },
                        ];
                        return this._prepareDropdown(
                            t('Row'),
                            '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',
                            i,
                            e,
                        );
                    }),
                    e.ui.componentFactory.add('mergeTableCells', (e) => {
                        const n = [
                            { type: 'button', model: { commandName: 'mergeTableCellUp', label: t('Merge cell up') } },
                            { type: 'button', model: { commandName: i ? 'mergeTableCellRight' : 'mergeTableCellLeft', label: t('Merge cell right') } },
                            { type: 'button', model: { commandName: 'mergeTableCellDown', label: t('Merge cell down') } },
                            { type: 'button', model: { commandName: i ? 'mergeTableCellLeft' : 'mergeTableCellRight', label: t('Merge cell left') } },
                            { type: 'separator' },
                            { type: 'button', model: { commandName: 'splitTableCellVertically', label: t('Split cell vertically') } },
                            { type: 'button', model: { commandName: 'splitTableCellHorizontally', label: t('Split cell horizontally') } },
                        ];
                        return this._prepareMergeSplitButtonDropdown(
                            t('Merge cells'),
                            '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',
                            n,
                            e,
                        );
                    });
            }
            _prepareDropdown(e, t, i, n) {
                const o = this.editor,
                    s = (0, x.createDropdown)(n),
                    r = this._fillDropdownWithListOptions(s, i);
                return (
                    s.buttonView.set({ label: e, icon: t, tooltip: !0 }),
                    s.bind('isEnabled').toMany(r, 'isEnabled', (...e) => e.some((e) => e)),
                    this.listenTo(s, 'execute', (e) => {
                        o.execute(e.source.commandName), e.source instanceof x.SwitchButtonView || o.editing.view.focus();
                    }),
                    s
                );
            }
            _prepareMergeSplitButtonDropdown(e, t, i, n) {
                const o = this.editor,
                    s = (0, x.createDropdown)(n, x.SplitButtonView),
                    r = o.commands.get('mergeTableCells'),
                    a = this._fillDropdownWithListOptions(s, i);
                return (
                    s.buttonView.set({ label: e, icon: t, tooltip: !0, isEnabled: !0 }),
                    s.bind('isEnabled').toMany([r, ...a], 'isEnabled', (...e) => e.some((e) => e)),
                    this.listenTo(s.buttonView, 'execute', () => {
                        o.execute('mergeTableCells'), o.editing.view.focus();
                    }),
                    this.listenTo(s, 'execute', (e) => {
                        o.execute(e.source.commandName), o.editing.view.focus();
                    }),
                    s
                );
            }
            _fillDropdownWithListOptions(e, t) {
                const i = this.editor,
                    n = [],
                    s = new o.Collection();
                for (const e of t) Gs(e, i, n, s);
                return (0, x.addListToDropdown)(e, s, i.ui.componentFactory), n;
            }
        }
        function Gs(e, t, i, n) {
            const o = (e.model = new x.Model(e.model)),
                { commandName: s, bindIsOn: r } = e.model;
            if ('button' === e.type || 'switchbutton' === e.type) {
                const e = t.commands.get(s);
                i.push(e), o.set({ commandName: s }), o.bind('isEnabled').to(e), r && o.bind('isOn').to(e, 'value');
            }
            o.set({ withText: !0 }), n.add(e);
        }
        var Ks = i(593),
            Js = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Ks.Z, Js);
        Ks.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Xs extends t.Plugin {
            static get pluginName() {
                return 'TableSelection';
            }
            static get requires() {
                return [vs, vs];
            }
            init() {
                const e = this.editor.model;
                this.listenTo(e, 'deleteContent', (e, t) => this._handleDeleteContent(e, t), { priority: 'high' }), this._defineSelectionConverter(), this._enablePluginDisabling();
            }
            getSelectedTableCells() {
                const e = this.editor.plugins.get(vs),
                    t = this.editor.model.document.selection,
                    i = e.getSelectedTableCells(t);
                return 0 == i.length ? null : i;
            }
            getSelectionAsFragment() {
                const e = this.editor.plugins.get(vs),
                    t = this.getSelectedTableCells();
                return t
                    ? this.editor.model.change((i) => {
                          const n = i.createDocumentFragment(),
                              { first: o, last: s } = e.getColumnIndexes(t),
                              { first: r, last: a } = e.getRowIndexes(t),
                              l = t[0].findAncestor('table');
                          let c = a,
                              d = s;
                          if (e.isSelectionRectangular(t)) {
                              const e = { firstColumn: o, lastColumn: s, firstRow: r, lastRow: a };
                              (c = ms(l, e)), (d = gs(l, e));
                          }
                          const u = ns(l, { startRow: r, startColumn: o, endRow: c, endColumn: d }, i);
                          return i.insert(u, n, 0), n;
                      })
                    : null;
            }
            setCellSelection(e, t) {
                const i = this._getCellsToSelect(e, t);
                this.editor.model.change((e) => {
                    e.setSelection(
                        i.cells.map((t) => e.createRangeOn(t)),
                        { backward: i.backward },
                    );
                });
            }
            getFocusCell() {
                const e = [...this.editor.model.document.selection.getRanges()].pop().getContainedElement();
                return e && e.is('element', 'tableCell') ? e : null;
            }
            getAnchorCell() {
                const e = this.editor.model.document.selection,
                    t = (0, o.first)(e.getRanges()).getContainedElement();
                return t && t.is('element', 'tableCell') ? t : null;
            }
            _defineSelectionConverter() {
                const e = this.editor,
                    t = new Set();
                e.conversion.for('editingDowncast').add((e) =>
                    e.on(
                        'selection',
                        (e, i, n) => {
                            const o = n.writer;
                            !(function (e) {
                                for (const i of t) e.removeClass('ck-editor__editable_selected', i);
                                t.clear();
                            })(o);
                            const s = this.getSelectedTableCells();
                            if (!s) return;
                            for (const e of s) {
                                const i = n.mapper.toViewElement(e);
                                o.addClass('ck-editor__editable_selected', i), t.add(i);
                            }
                            const r = n.mapper.toViewElement(s[s.length - 1]);
                            o.setSelection(r, 0);
                        },
                        { priority: 'lowest' },
                    ),
                );
            }
            _enablePluginDisabling() {
                const e = this.editor;
                this.on('change:isEnabled', () => {
                    if (!this.isEnabled) {
                        const t = this.getSelectedTableCells();
                        if (!t) return;
                        e.model.change((i) => {
                            const n = i.createPositionAt(t[0], 0),
                                o = e.model.schema.getNearestSelectionRange(n);
                            i.setSelection(o);
                        });
                    }
                });
            }
            _handleDeleteContent(e, t) {
                const i = this.editor.plugins.get(vs),
                    [n, o] = t,
                    s = this.editor.model,
                    r = !o || 'backward' == o.direction,
                    a = i.getSelectedTableCells(n);
                a.length &&
                    (e.stop(),
                    s.change((e) => {
                        const t = a[r ? a.length - 1 : 0];
                        s.change((e) => {
                            for (const t of a) s.deleteContent(e.createSelection(t, 'in'));
                        });
                        const i = s.schema.getNearestSelectionRange(e.createPositionAt(t, 0));
                        n.is('documentSelection') ? e.setSelection(i) : n.setTo(i);
                    }));
            }
            _getCellsToSelect(e, t) {
                const i = this.editor.plugins.get('TableUtils'),
                    n = i.getCellLocation(e),
                    o = i.getCellLocation(t),
                    s = Math.min(n.row, o.row),
                    r = Math.max(n.row, o.row),
                    a = Math.min(n.column, o.column),
                    l = Math.max(n.column, o.column),
                    c = new Array(r - s + 1).fill(null).map(() => []),
                    d = { startRow: s, endRow: r, startColumn: a, endColumn: l };
                for (const { row: t, cell: i } of new Qo(e.findAncestor('table'), d)) c[t - s].push(i);
                const u = o.row < n.row,
                    m = o.column < n.column;
                return u && c.reverse(), m && c.forEach((e) => e.reverse()), { cells: c.flat(), backward: u || m };
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class er extends t.Plugin {
            static get pluginName() {
                return 'TableClipboard';
            }
            static get requires() {
                return [Xs, vs];
            }
            init() {
                const e = this.editor,
                    t = e.editing.view.document;
                this.listenTo(t, 'copy', (e, t) => this._onCopyCut(e, t)),
                    this.listenTo(t, 'cut', (e, t) => this._onCopyCut(e, t)),
                    this.listenTo(e.model, 'insertContent', (e, t) => this._onInsertContent(e, ...t), { priority: 'high' }),
                    this.decorate('_replaceTableSlotCell');
            }
            _onCopyCut(e, t) {
                const i = this.editor.plugins.get(Xs);
                if (!i.getSelectedTableCells()) return;
                if ('cut' == e.name && this.editor.isReadOnly) return;
                t.preventDefault(), e.stop();
                const n = this.editor.data,
                    o = this.editor.editing.view.document,
                    s = n.toView(i.getSelectionAsFragment());
                o.fire('clipboardOutput', { dataTransfer: t.dataTransfer, content: s, method: e.name });
            }
            _onInsertContent(e, t, i) {
                if (i && !i.is('documentSelection')) return;
                const n = this.editor.model,
                    o = this.editor.plugins.get(vs);
                let s = tr(t, n);
                if (!s) return;
                const r = o.getSelectionAffectedTableCells(n.document.selection);
                r.length
                    ? (e.stop(),
                      n.change((e) => {
                          const t = { width: o.getColumns(s), height: o.getRows(s) },
                              i = (function (e, t, i, n) {
                                  const o = e[0].findAncestor('table'),
                                      s = n.getColumnIndexes(e),
                                      r = n.getRowIndexes(e),
                                      a = { firstColumn: s.first, lastColumn: s.last, firstRow: r.first, lastRow: r.last },
                                      l = 1 === e.length;
                                  l &&
                                      ((a.lastRow += t.height - 1),
                                      (a.lastColumn += t.width - 1),
                                      (function (e, t, i, n) {
                                          const o = n.getColumns(e),
                                              s = n.getRows(e);
                                          i > o && n.insertColumns(e, { at: o, columns: i - o });
                                          t > s && n.insertRows(e, { at: s, rows: t - s });
                                      })(o, a.lastRow + 1, a.lastColumn + 1, n));
                                  l || !n.isSelectionRectangular(e)
                                      ? (function (e, t, i) {
                                            const { firstRow: n, lastRow: o, firstColumn: s, lastColumn: r } = t,
                                                a = { first: n, last: o },
                                                l = { first: s, last: r };
                                            nr(e, s, a, i), nr(e, r + 1, a, i), ir(e, n, l, i), ir(e, o + 1, l, i, n);
                                        })(o, a, i)
                                      : ((a.lastRow = ms(o, a)), (a.lastColumn = gs(o, a)));
                                  return a;
                              })(r, t, e, o),
                              n = i.lastRow - i.firstRow + 1,
                              a = i.lastColumn - i.firstColumn + 1,
                              l = { startRow: 0, startColumn: 0, endRow: Math.min(n, t.height) - 1, endColumn: Math.min(a, t.width) - 1 };
                          s = ns(s, l, e);
                          const c = r[0].findAncestor('table'),
                              d = this._replaceSelectedCellsWithPasted(s, t, c, i, e);
                          if (this.editor.plugins.get('TableSelection').isEnabled) {
                              const t = o.sortRanges(d.map((t) => e.createRangeOn(t)));
                              e.setSelection(t);
                          } else e.setSelection(d[0], 0);
                      }))
                    : us(s, o);
            }
            _replaceSelectedCellsWithPasted(e, t, i, n, o) {
                const { width: s, height: r } = t,
                    a = (function (e, t, i) {
                        const n = new Array(i).fill(null).map(() => new Array(t).fill(null));
                        for (const { column: t, row: i, cell: o } of new Qo(e)) n[i][t] = o;
                        return n;
                    })(e, s, r),
                    l = [...new Qo(i, { startRow: n.firstRow, endRow: n.lastRow, startColumn: n.firstColumn, endColumn: n.lastColumn, includeAllSlots: !0 })],
                    c = [];
                let d;
                for (const e of l) {
                    const { row: t, column: i } = e;
                    i === n.firstColumn && (d = e.getPositionBefore());
                    const l = t - n.firstRow,
                        u = i - n.firstColumn,
                        m = a[l % r][u % s],
                        g = m ? o.cloneElement(m) : null,
                        h = this._replaceTableSlotCell(e, g, d, o);
                    h && (ls(h, t, i, n.lastRow, n.lastColumn, o), c.push(h), (d = o.createPositionAfter(h)));
                }
                const u = parseInt(i.getAttribute('headingRows') || 0),
                    m = parseInt(i.getAttribute('headingColumns') || 0),
                    g = n.firstRow < u && u <= n.lastRow,
                    h = n.firstColumn < m && m <= n.lastColumn;
                if (g) {
                    const e = ir(i, u, { first: n.firstColumn, last: n.lastColumn }, o, n.firstRow);
                    c.push(...e);
                }
                if (h) {
                    const e = nr(i, m, { first: n.firstRow, last: n.lastRow }, o);
                    c.push(...e);
                }
                return c;
            }
            _replaceTableSlotCell(e, t, i, n) {
                const { cell: o, isAnchor: s } = e;
                return s && n.remove(o), t ? (n.insert(t, i), t) : null;
            }
            getTableIfOnlyTableInContent(e, t) {
                return tr(e, t);
            }
        }
        function tr(e, t) {
            if (!e.is('documentFragment') && !e.is('element')) return null;
            if (e.is('element', 'table')) return e;
            if (1 == e.childCount && e.getChild(0).is('element', 'table')) return e.getChild(0);
            const i = t.createRangeIn(e);
            for (const e of i.getItems())
                if (e.is('element', 'table')) {
                    const n = t.createRange(i.start, t.createPositionBefore(e));
                    if (t.hasContent(n, { ignoreWhitespaces: !0 })) return null;
                    const o = t.createRange(t.createPositionAfter(e), i.end);
                    return t.hasContent(o, { ignoreWhitespaces: !0 }) ? null : e;
                }
            return null;
        }
        function ir(e, t, i, n, o = 0) {
            if (t < 1) return;
            return os(e, t, o)
                .filter(({ column: e, cellWidth: t }) => or(e, t, i))
                .map(({ cell: e }) => ss(e, t, n));
        }
        function nr(e, t, i, n) {
            if (t < 1) return;
            return rs(e, t)
                .filter(({ row: e, cellHeight: t }) => or(e, t, i))
                .map(({ cell: e, column: i }) => as(e, i, t, n));
        }
        function or(e, t, i) {
            const n = e + t - 1,
                { first: o, last: s } = i;
            return (e >= o && e <= s) || (e < o && n >= o);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class sr extends t.Plugin {
            static get pluginName() {
                return 'TableKeyboard';
            }
            static get requires() {
                return [Xs, vs];
            }
            init() {
                const e = this.editor.editing.view.document;
                this.listenTo(e, 'arrowKey', (...e) => this._onArrowKey(...e), { context: 'table' }),
                    this.listenTo(e, 'tab', (...e) => this._handleTabOnSelectedTable(...e), { context: 'figure' }),
                    this.listenTo(e, 'tab', (...e) => this._handleTab(...e), { context: ['th', 'td'] });
            }
            _handleTabOnSelectedTable(e, t) {
                const i = this.editor,
                    n = i.model.document.selection.getSelectedElement();
                n &&
                    n.is('element', 'table') &&
                    (t.preventDefault(),
                    t.stopPropagation(),
                    e.stop(),
                    i.model.change((e) => {
                        e.setSelection(e.createRangeIn(n.getChild(0).getChild(0)));
                    }));
            }
            _handleTab(e, t) {
                const i = this.editor,
                    n = this.editor.plugins.get(vs),
                    o = i.model.document.selection,
                    s = !t.shiftKey;
                let r = n.getTableCellsContainingSelection(o)[0];
                if ((r || (r = this.editor.plugins.get('TableSelection').getFocusCell()), !r)) return;
                t.preventDefault(), t.stopPropagation(), e.stop();
                const a = r.parent,
                    l = a.parent,
                    c = l.getChildIndex(a),
                    d = a.getChildIndex(r),
                    u = 0 === d;
                if (!s && u && 0 === c)
                    return void i.model.change((e) => {
                        e.setSelection(e.createRangeOn(l));
                    });
                const m = d === a.childCount - 1,
                    g = c === n.getRows(l) - 1;
                if (s && g && m && (i.execute('insertTableRowBelow'), c === n.getRows(l) - 1))
                    return void i.model.change((e) => {
                        e.setSelection(e.createRangeOn(l));
                    });
                let h;
                if (s && m) {
                    const e = l.getChild(c + 1);
                    h = e.getChild(0);
                } else if (!s && u) {
                    const e = l.getChild(c - 1);
                    h = e.getChild(e.childCount - 1);
                } else h = a.getChild(d + (s ? 1 : -1));
                i.model.change((e) => {
                    e.setSelection(e.createRangeIn(h));
                });
            }
            _onArrowKey(e, t) {
                const i = this.editor,
                    n = t.keyCode,
                    s = (0, o.getLocalizedArrowKeyCodeDirection)(n, i.locale.contentLanguageDirection);
                this._handleArrowKeys(s, t.shiftKey) && (t.preventDefault(), t.stopPropagation(), e.stop());
            }
            _handleArrowKeys(e, t) {
                const i = this.editor.plugins.get(vs),
                    n = this.editor.model,
                    o = n.document.selection,
                    s = ['right', 'down'].includes(e),
                    r = i.getSelectedTableCells(o);
                if (r.length) {
                    let i;
                    return (i = t ? this.editor.plugins.get('TableSelection').getFocusCell() : s ? r[r.length - 1] : r[0]), this._navigateFromCellInDirection(i, e, t), !0;
                }
                const a = o.focus.findAncestor('tableCell');
                if (!a) return !1;
                if (!o.isCollapsed)
                    if (t) {
                        if (o.isBackward == s && !o.containsEntireContent(a)) return !1;
                    } else {
                        const e = o.getSelectedElement();
                        if (!e || !n.schema.isObject(e)) return !1;
                    }
                return !!this._isSelectionAtCellEdge(o, a, s) && (this._navigateFromCellInDirection(a, e, t), !0);
            }
            _isSelectionAtCellEdge(e, t, i) {
                const n = this.editor.model,
                    o = this.editor.model.schema,
                    s = i ? e.getLastPosition() : e.getFirstPosition();
                if (!o.getLimitElement(s).is('element', 'tableCell')) {
                    return n.createPositionAt(t, i ? 'end' : 0).isTouching(s);
                }
                const r = n.createSelection(s);
                return n.modifySelection(r, { direction: i ? 'forward' : 'backward' }), s.isEqual(r.focus);
            }
            _navigateFromCellInDirection(e, t, i = !1) {
                const n = this.editor.model,
                    o = e.findAncestor('table'),
                    s = [...new Qo(o, { includeAllSlots: !0 })],
                    { row: r, column: a } = s[s.length - 1],
                    l = s.find(({ cell: t }) => t == e);
                let { row: c, column: d } = l;
                switch (t) {
                    case 'left':
                        d--;
                        break;
                    case 'up':
                        c--;
                        break;
                    case 'right':
                        d += l.cellWidth;
                        break;
                    case 'down':
                        c += l.cellHeight;
                }
                if (c < 0 || c > r || (d < 0 && c <= 0) || (d > a && c >= r))
                    return void n.change((e) => {
                        e.setSelection(e.createRangeOn(o));
                    });
                d < 0 ? ((d = i ? 0 : a), c--) : d > a && ((d = i ? a : 0), c++);
                const u = s.find((e) => e.row == c && e.column == d).cell,
                    m = ['right', 'down'].includes(t),
                    g = this.editor.plugins.get('TableSelection');
                if (i && g.isEnabled) {
                    const t = g.getAnchorCell() || e;
                    g.setCellSelection(t, u);
                } else {
                    const e = n.createPositionAt(u, m ? 0 : 'end');
                    n.change((t) => {
                        t.setSelection(e);
                    });
                }
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class rr extends T.DomEventObserver {
            constructor(e) {
                super(e), (this.domEventType = ['mousemove', 'mouseleave']);
            }
            onDomEvent(e) {
                this.fire(e.type, e);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ar extends t.Plugin {
            static get pluginName() {
                return 'TableMouse';
            }
            static get requires() {
                return [Xs, vs];
            }
            init() {
                this.editor.editing.view.addObserver(rr), this._enableShiftClickSelection(), this._enableMouseDragSelection();
            }
            _enableShiftClickSelection() {
                const e = this.editor,
                    t = e.plugins.get(vs);
                let i = !1;
                const n = e.plugins.get(Xs);
                this.listenTo(e.editing.view.document, 'mousedown', (o, s) => {
                    const r = e.model.document.selection;
                    if (!this.isEnabled || !n.isEnabled) return;
                    if (!s.domEvent.shiftKey) return;
                    const a = n.getAnchorCell() || t.getTableCellsContainingSelection(r)[0];
                    if (!a) return;
                    const l = this._getModelTableCellFromDomEvent(s);
                    l && lr(a, l) && ((i = !0), n.setCellSelection(a, l), s.preventDefault());
                }),
                    this.listenTo(e.editing.view.document, 'mouseup', () => {
                        i = !1;
                    }),
                    this.listenTo(
                        e.editing.view.document,
                        'selectionChange',
                        (e) => {
                            i && e.stop();
                        },
                        { priority: 'highest' },
                    );
            }
            _enableMouseDragSelection() {
                const e = this.editor;
                let t,
                    i,
                    n = !1,
                    o = !1;
                const s = e.plugins.get(Xs);
                this.listenTo(e.editing.view.document, 'mousedown', (e, i) => {
                    this.isEnabled && s.isEnabled && (i.domEvent.shiftKey || i.domEvent.ctrlKey || i.domEvent.altKey || (t = this._getModelTableCellFromDomEvent(i)));
                }),
                    this.listenTo(e.editing.view.document, 'mousemove', (e, r) => {
                        if (!r.domEvent.buttons) return;
                        if (!t) return;
                        const a = this._getModelTableCellFromDomEvent(r);
                        a && lr(t, a) && ((i = a), n || i == t || (n = !0)), n && ((o = !0), s.setCellSelection(t, i), r.preventDefault());
                    }),
                    this.listenTo(e.editing.view.document, 'mouseup', () => {
                        (n = !1), (o = !1), (t = null), (i = null);
                    }),
                    this.listenTo(
                        e.editing.view.document,
                        'selectionChange',
                        (e) => {
                            o && e.stop();
                        },
                        { priority: 'highest' },
                    );
            }
            _getModelTableCellFromDomEvent(e) {
                const t = e.target,
                    i = this.editor.editing.view.createPositionAt(t, 0);
                return this.editor.editing.mapper.toModelPosition(i).parent.findAncestor('tableCell', { includeSelf: !0 });
            }
        }
        function lr(e, t) {
            return e.parent.parent == t.parent.parent;
        }
        var cr = i(104),
            dr = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(cr.Z, dr);
        cr.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class ur extends t.Plugin {
            static get requires() {
                return [Hs, $s, Xs, ar, sr, er, ge.Widget];
            }
            static get pluginName() {
                return 'Table';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function mr(e) {
            const t = e.getSelectedElement();
            return t && hr(t) ? t : null;
        }
        function gr(e) {
            const t = e.getFirstPosition();
            if (!t) return null;
            let i = t.parent;
            for (; i; ) {
                if (i.is('element') && hr(i)) return i;
                i = i.parent;
            }
            return null;
        }
        function hr(e) {
            return !!e.getCustomProperty('table') && (0, ge.isWidget)(e);
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class pr extends t.Plugin {
            static get requires() {
                return [ge.WidgetToolbarRepository];
            }
            static get pluginName() {
                return 'TableToolbar';
            }
            afterInit() {
                const e = this.editor,
                    t = e.t,
                    i = e.plugins.get(ge.WidgetToolbarRepository),
                    n = e.config.get('table.contentToolbar'),
                    o = e.config.get('table.tableToolbar');
                n && i.register('tableContent', { ariaLabel: t('Table toolbar'), items: n, getRelatedElement: gr }),
                    o && i.register('table', { ariaLabel: t('Table toolbar'), items: o, getRelatedElement: mr });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function fr(e) {
            const t = e.t,
                i = e.config.get('codeBlock.languages');
            for (const e of i) 'Plain text' === e.label && (e.label = t('Plain text')), void 0 === e.class && (e.class = 'language-' + e.language);
            return i;
        }
        function br(e, t, i) {
            const n = {};
            for (const o of e) 'class' === t ? (n[o[t].split(' ').shift()] = o[i]) : (n[o[t]] = o[i]);
            return n;
        }
        function wr(e) {
            return e.data.match(/^(\s*)/)[0];
        }
        function kr(e) {
            const t = e.document.selection,
                i = [];
            if (t.isCollapsed) i.push(t.anchor);
            else {
                const n = t.getFirstRange().getWalker({ ignoreElementEnd: !0, direction: 'backward' });
                for (const { item: t } of n)
                    if (t.is('$textProxy') && t.parent.is('element', 'codeBlock')) {
                        const n = wr(t.textNode),
                            { parent: o, startOffset: s } = t.textNode,
                            r = e.createPositionAt(o, s + n.length);
                        i.push(r);
                    }
            }
            return i;
        }
        function vr(e) {
            const t = (0, o.first)(e.getSelectedBlocks());
            return t && t.is('element', 'codeBlock');
        }
        function _r(e, t) {
            return !t.is('rootElement') && !e.isLimit(t) && e.checkChild(t.parent, 'codeBlock');
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class yr extends t.Command {
            constructor(e) {
                super(e), (this._lastLanguage = null);
            }
            refresh() {
                (this.value = this._getValue()), (this.isEnabled = this._checkEnabled());
            }
            execute(e = {}) {
                const t = this.editor,
                    i = t.model,
                    n = i.document.selection,
                    o = fr(t)[0],
                    s = Array.from(n.getSelectedBlocks()),
                    r = void 0 === e.forceValue ? !this.value : e.forceValue,
                    a = (function (e, t, i) {
                        if (e.language) return e.language;
                        if (e.usePreviousLanguageChoice && t) return t;
                        return i;
                    })(e, this._lastLanguage, o.language);
                i.change((e) => {
                    r ? this._applyCodeBlock(e, s, a) : this._removeCodeBlock(e, s);
                });
            }
            _getValue() {
                const e = this.editor.model.document.selection,
                    t = (0, o.first)(e.getSelectedBlocks());
                return !!!(!t || !t.is('element', 'codeBlock')) && t.getAttribute('language');
            }
            _checkEnabled() {
                if (this.value) return !0;
                const e = this.editor.model.document.selection,
                    t = this.editor.model.schema,
                    i = (0, o.first)(e.getSelectedBlocks());
                return !!i && _r(t, i);
            }
            _applyCodeBlock(e, t, i) {
                this._lastLanguage = i;
                const n = this.editor.model.schema,
                    o = t.filter((e) => _r(n, e));
                for (const t of o)
                    e.rename(t, 'codeBlock'),
                        e.setAttribute('language', i, t),
                        n.removeDisallowedAttributes([t], e),
                        Array.from(t.getChildren())
                            .filter((e) => !n.checkChild(t, e))
                            .forEach((t) => e.remove(t));
                o.reverse().forEach((t, i) => {
                    const n = o[i + 1];
                    t.previousSibling === n && (e.appendElement('softBreak', n), e.merge(e.createPositionBefore(t)));
                });
            }
            _removeCodeBlock(e, t) {
                const i = t.filter((e) => e.is('element', 'codeBlock'));
                for (const t of i) {
                    const i = e.createRangeOn(t);
                    for (const t of Array.from(i.getItems()).reverse())
                        if (t.is('element', 'softBreak') && t.parent.is('element', 'codeBlock')) {
                            const { position: i } = e.split(e.createPositionBefore(t));
                            e.rename(i.nodeAfter, 'paragraph'), e.removeAttribute('language', i.nodeAfter), e.remove(t);
                        }
                    e.rename(t, 'paragraph'), e.removeAttribute('language', t);
                }
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Ir extends t.Command {
            constructor(e) {
                super(e), (this._indentSequence = e.config.get('codeBlock.indentSequence'));
            }
            refresh() {
                this.isEnabled = this._checkEnabled();
            }
            execute() {
                const e = this.editor.model;
                e.change((t) => {
                    const i = kr(e);
                    for (const n of i) {
                        const i = t.createText(this._indentSequence);
                        e.insertContent(i, n);
                    }
                });
            }
            _checkEnabled() {
                return !!this._indentSequence && vr(this.editor.model.document.selection);
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Cr extends t.Command {
            constructor(e) {
                super(e), (this._indentSequence = e.config.get('codeBlock.indentSequence'));
            }
            refresh() {
                this.isEnabled = this._checkEnabled();
            }
            execute() {
                const e = this.editor.model;
                e.change(() => {
                    const t = kr(e);
                    for (const i of t) {
                        const t = Ar(e, i, this._indentSequence);
                        t && e.deleteContent(e.createSelection(t));
                    }
                });
            }
            _checkEnabled() {
                if (!this._indentSequence) return !1;
                const e = this.editor.model;
                return !!vr(e.document.selection) && kr(e).some((t) => Ar(e, t, this._indentSequence));
            }
        }
        function Ar(e, t, i) {
            const n = (function (e) {
                let t = e.parent.getChild(e.index);
                (t && !t.is('element', 'softBreak')) || (t = e.nodeBefore);
                if (!t || t.is('element', 'softBreak')) return null;
                return t;
            })(t);
            if (!n) return null;
            const o = wr(n),
                s = o.lastIndexOf(i);
            if (s + i.length !== o.length) return null;
            if (-1 === s) return null;
            const { parent: r, startOffset: a } = n;
            return e.createRange(e.createPositionAt(r, a + s), e.createPositionAt(r, a + s + i.length));
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        function xr(e, t, i = !1) {
            const n = br(t, 'language', 'class'),
                o = br(t, 'language', 'label');
            return (t, s, r) => {
                const { writer: a, mapper: l, consumable: c } = r;
                if (!c.consume(s.item, 'insert')) return;
                const d = s.item.getAttribute('language'),
                    u = l.toViewPosition(e.createPositionBefore(s.item)),
                    m = {};
                i && ((m['data-language'] = o[d]), (m.spellcheck = 'false'));
                const g = a.createContainerElement('code', { class: n[d] || null }),
                    h = a.createContainerElement('pre', m, g);
                a.insert(u, h), l.bindElements(s.item, g);
            };
        }
        class Tr extends t.Plugin {
            static get pluginName() {
                return 'CodeBlockEditing';
            }
            static get requires() {
                return [P.ShiftEnter];
            }
            constructor(e) {
                super(e),
                    e.config.define('codeBlock', {
                        languages: [
                            { language: 'plaintext', label: 'Plain text' },
                            { language: 'c', label: 'C' },
                            { language: 'cs', label: 'C#' },
                            { language: 'cpp', label: 'C++' },
                            { language: 'css', label: 'CSS' },
                            { language: 'diff', label: 'Diff' },
                            { language: 'html', label: 'HTML' },
                            { language: 'java', label: 'Java' },
                            { language: 'javascript', label: 'JavaScript' },
                            { language: 'php', label: 'PHP' },
                            { language: 'python', label: 'Python' },
                            { language: 'ruby', label: 'Ruby' },
                            { language: 'typescript', label: 'TypeScript' },
                            { language: 'xml', label: 'XML' },
                        ],
                        indentSequence: '\t',
                    });
            }
            init() {
                const e = this.editor,
                    t = e.model.schema,
                    i = e.model,
                    n = e.editing.view,
                    o = e.plugins.has('DocumentListEditing'),
                    s = fr(e);
                e.commands.add('codeBlock', new yr(e)),
                    e.commands.add('indentCodeBlock', new Ir(e)),
                    e.commands.add('outdentCodeBlock', new Cr(e)),
                    this.listenTo(
                        n.document,
                        'tab',
                        (t, i) => {
                            const n = i.shiftKey ? 'outdentCodeBlock' : 'indentCodeBlock';
                            e.commands.get(n).isEnabled && (e.execute(n), i.stopPropagation(), i.preventDefault(), t.stop());
                        },
                        { context: 'pre' },
                    ),
                    t.register('codeBlock', { allowWhere: '$block', allowChildren: '$text', isBlock: !0, allowAttributes: ['language'] }),
                    t.addAttributeCheck((e, t) => {
                        const i = e.endsWith('codeBlock') && t.startsWith('list') && 'list' !== t;
                        return !(!o || !i) || (!e.endsWith('codeBlock $text') && void 0);
                    }),
                    e.model.schema.addChildCheck((e, t) => {
                        if (e.endsWith('codeBlock') && t.isObject) return !1;
                    }),
                    e.editing.downcastDispatcher.on('insert:codeBlock', xr(i, s, !0)),
                    e.data.downcastDispatcher.on('insert:codeBlock', xr(i, s)),
                    e.data.downcastDispatcher.on(
                        'insert:softBreak',
                        (function (e) {
                            return (t, i, n) => {
                                if ('codeBlock' !== i.item.parent.name) return;
                                const { writer: o, mapper: s, consumable: r } = n;
                                if (!r.consume(i.item, 'insert')) return;
                                const a = s.toViewPosition(e.createPositionBefore(i.item));
                                o.insert(a, o.createText('\n'));
                            };
                        })(i),
                        { priority: 'high' },
                    ),
                    e.data.upcastDispatcher.on(
                        'element:code',
                        (function (e, t) {
                            const i = br(t, 'class', 'language'),
                                n = t[0].language;
                            return (e, t, o) => {
                                const s = t.viewItem,
                                    r = s.parent;
                                if (!r || !r.is('element', 'pre')) return;
                                if (t.modelCursor.findAncestor('codeBlock')) return;
                                const { consumable: a, writer: l } = o;
                                if (!a.test(s, { name: !0 })) return;
                                const c = l.createElement('codeBlock'),
                                    d = [...s.getClassNames()];
                                d.length || d.push('');
                                for (const e of d) {
                                    const t = i[e];
                                    if (t) {
                                        l.setAttribute('language', t, c);
                                        break;
                                    }
                                }
                                c.hasAttribute('language') || l.setAttribute('language', n, c),
                                    o.convertChildren(s, c),
                                    o.safeInsert(c, t.modelCursor) && (a.consume(s, { name: !0 }), o.updateConversionResult(c, t));
                            };
                        })(0, s),
                    ),
                    e.data.upcastDispatcher.on('text', (e, t, { consumable: i, writer: n }) => {
                        let o = t.modelCursor;
                        if (!i.test(t.viewItem)) return;
                        if (!o.findAncestor('codeBlock')) return;
                        i.consume(t.viewItem);
                        const s = t.viewItem.data.split('\n').map((e) => n.createText(e)),
                            r = s[s.length - 1];
                        for (const e of s)
                            if ((n.insert(e, o), (o = o.getShiftedBy(e.offsetSize)), e !== r)) {
                                const e = n.createElement('softBreak');
                                n.insert(e, o), (o = n.createPositionAfter(e));
                            }
                        (t.modelRange = n.createRange(t.modelCursor, o)), (t.modelCursor = o);
                    }),
                    e.data.upcastDispatcher.on(
                        'element:pre',
                        (e, t, { consumable: i }) => {
                            const n = t.viewItem;
                            if (n.findAncestor('pre')) return;
                            const o = Array.from(n.getChildren()),
                                s = o.find((e) => e.is('element', 'code'));
                            if (s) for (const e of o) e !== s && e.is('$text') && i.consume(e, { name: !0 });
                        },
                        { priority: 'high' },
                    ),
                    this.listenTo(e.editing.view.document, 'clipboardInput', (t, n) => {
                        let o = i.createRange(i.document.selection.anchor);
                        if ((n.targetRanges && (o = e.editing.mapper.toModelRange(n.targetRanges[0])), !o.start.parent.is('element', 'codeBlock'))) return;
                        const s = n.dataTransfer.getData('text/plain'),
                            r = new T.UpcastWriter(e.editing.view.document);
                        n.content = (function (e, t) {
                            const i = e.createDocumentFragment(),
                                n = t.split('\n'),
                                o = n.reduce((t, i, o) => (t.push(i), o < n.length - 1 && t.push(e.createElement('br')), t), []);
                            return e.appendChild(o, i), i;
                        })(r, s);
                    }),
                    this.listenTo(i, 'getSelectedContent', (e, [n]) => {
                        const o = n.anchor;
                        !n.isCollapsed &&
                            o.parent.is('element', 'codeBlock') &&
                            o.hasSameParentAs(n.focus) &&
                            i.change((i) => {
                                const s = e.return;
                                if (s.childCount > 1 || n.containsEntireContent(o.parent)) {
                                    const t = i.createElement('codeBlock', o.parent.getAttributes());
                                    i.append(s, t);
                                    const n = i.createDocumentFragment();
                                    i.append(t, n), (e.return = n);
                                } else {
                                    const e = s.getChild(0);
                                    t.checkAttribute(e, 'code') && i.setAttribute('code', !0, e);
                                }
                            });
                    });
            }
            afterInit() {
                const e = this.editor,
                    t = e.commands,
                    i = t.get('indent'),
                    n = t.get('outdent');
                i && i.registerChildCommand(t.get('indentCodeBlock'), { priority: 'highest' }),
                    n && n.registerChildCommand(t.get('outdentCodeBlock')),
                    this.listenTo(
                        e.editing.view.document,
                        'enter',
                        (t, i) => {
                            e.model.document.selection.getLastPosition().parent.is('element', 'codeBlock') &&
                                ((function (e, t) {
                                    const i = e.model.document,
                                        n = e.editing.view,
                                        o = i.selection.getLastPosition(),
                                        s = o.nodeAfter;
                                    if (t || !i.selection.isCollapsed || !o.isAtStart) return !1;
                                    if (!Er(s)) return !1;
                                    return (
                                        e.model.change((t) => {
                                            e.execute('enter');
                                            const n = i.selection.anchor.parent.previousSibling;
                                            t.rename(n, 'paragraph'), t.setSelection(n, 'in'), e.model.schema.removeDisallowedAttributes([n], t), t.remove(s);
                                        }),
                                        n.scrollToTheSelection(),
                                        !0
                                    );
                                })(e, i.isSoft) ||
                                    (function (e, t) {
                                        const i = e.model,
                                            n = i.document,
                                            o = e.editing.view,
                                            s = n.selection.getLastPosition(),
                                            r = s.nodeBefore;
                                        let a;
                                        if (t || !n.selection.isCollapsed || !s.isAtEnd || !r || !r.previousSibling) return !1;
                                        if (Er(r) && Er(r.previousSibling)) a = i.createRange(i.createPositionBefore(r.previousSibling), i.createPositionAfter(r));
                                        else if (Mr(r) && Er(r.previousSibling) && Er(r.previousSibling.previousSibling))
                                            a = i.createRange(i.createPositionBefore(r.previousSibling.previousSibling), i.createPositionAfter(r));
                                        else {
                                            if (!(Mr(r) && Er(r.previousSibling) && Mr(r.previousSibling.previousSibling) && Er(r.previousSibling.previousSibling.previousSibling)))
                                                return !1;
                                            a = i.createRange(i.createPositionBefore(r.previousSibling.previousSibling.previousSibling), i.createPositionAfter(r));
                                        }
                                        return (
                                            e.model.change((t) => {
                                                t.remove(a), e.execute('enter');
                                                const i = n.selection.anchor.parent;
                                                t.rename(i, 'paragraph'), e.model.schema.removeDisallowedAttributes([i], t);
                                            }),
                                            o.scrollToTheSelection(),
                                            !0
                                        );
                                    })(e, i.isSoft) ||
                                    (function (e) {
                                        const t = e.model.document,
                                            i = t.selection.getLastPosition(),
                                            n = i.nodeBefore || i.textNode;
                                        let o;
                                        n && n.is('$text') && (o = wr(n));
                                        e.model.change((i) => {
                                            e.execute('shiftEnter'), o && i.insertText(o, t.selection.anchor);
                                        });
                                    })(e),
                                i.preventDefault(),
                                t.stop());
                        },
                        { context: 'pre' },
                    );
            }
        }
        function Mr(e) {
            return e && e.is('$text') && !e.data.match(/\S/);
        }
        function Er(e) {
            return e && e.is('element', 'softBreak');
        }
        var Sr = i(714),
            Lr = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Sr.Z, Lr);
        Sr.Z.locals;
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Nr extends t.Plugin {
            static get pluginName() {
                return 'CodeBlockUI';
            }
            init() {
                const e = this.editor,
                    t = e.t,
                    i = e.ui.componentFactory,
                    n = fr(e);
                i.add('codeBlock', (i) => {
                    const o = e.commands.get('codeBlock'),
                        s = (0, x.createDropdown)(i, x.SplitButtonView),
                        r = s.buttonView;
                    return (
                        r.set({
                            label: t('Insert code block'),
                            tooltip: !0,
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M12.87 12.61a.75.75 0 0 1-.089.976l-.085.07-3.154 2.254 3.412 2.414a.75.75 0 0 1 .237.95l-.057.095a.75.75 0 0 1-.95.237l-.096-.058-4.272-3.022-.003-1.223 4.01-2.867a.75.75 0 0 1 1.047.174zm2.795-.231.095.057 4.011 2.867-.003 1.223-4.272 3.022-.095.058a.75.75 0 0 1-.88-.151l-.07-.086-.058-.095a.75.75 0 0 1 .15-.88l.087-.07 3.412-2.414-3.154-2.253-.085-.071a.75.75 0 0 1 .862-1.207zM16 0a2 2 0 0 1 2 2v9.354l-.663-.492-.837-.001V2a.5.5 0 0 0-.5-.5H2a.5.5 0 0 0-.5.5v15a.5.5 0 0 0 .5.5h3.118L7.156 19H2a2 2 0 0 1-2-2V2a2 2 0 0 1 2-2h14zM5.009 15l.003 1H3v-1h2.009zm2.188-2-1.471 1H5v-1h2.197zM10 11v.095L8.668 12H7v-1h3zm4-2v1H7V9h7zm0-2v1H7V7h7zm-4-2v1H5V5h5zM6 3v1H3V3h3z"/></svg>',
                            isToggleable: !0,
                        }),
                        r.bind('isOn').to(o, 'value', (e) => !!e),
                        r.on('execute', () => {
                            e.execute('codeBlock', { usePreviousLanguageChoice: !0 }), e.editing.view.focus();
                        }),
                        s.on('execute', (t) => {
                            e.execute('codeBlock', { language: t.source._codeBlockLanguage, forceValue: !0 }), e.editing.view.focus();
                        }),
                        (s.class = 'ck-code-block-dropdown'),
                        s.bind('isEnabled').to(o),
                        (0, x.addListToDropdown)(s, this._getLanguageListItemDefinitions(n)),
                        s
                    );
                });
            }
            _getLanguageListItemDefinitions(e) {
                const t = this.editor.commands.get('codeBlock'),
                    i = new o.Collection();
                for (const n of e) {
                    const e = { type: 'button', model: new x.Model({ _codeBlockLanguage: n.language, label: n.label, withText: !0 }) };
                    e.model.bind('isOn').to(t, 'value', (t) => t === e.model._codeBlockLanguage), i.add(e);
                }
                return i;
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class jr extends t.Plugin {
            static get requires() {
                return [Tr, Nr];
            }
            static get pluginName() {
                return 'CodeBlock';
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        const Dr = 'code';
        class zr extends t.Plugin {
            static get pluginName() {
                return 'CodeEditing';
            }
            static get requires() {
                return [R.TwoStepCaretMovement];
            }
            init() {
                const e = this.editor;
                e.model.schema.extend('$text', { allowAttributes: Dr }),
                    e.model.schema.setAttributeProperties(Dr, { isFormatting: !0, copyOnEnter: !1 }),
                    e.conversion.attributeToElement({ model: Dr, view: 'code', upcastAlso: { styles: { 'word-wrap': 'break-word' } } }),
                    e.commands.add(Dr, new te(e, Dr)),
                    e.plugins.get(R.TwoStepCaretMovement).registerAttribute(Dr),
                    (0, R.inlineHighlight)(e, Dr, 'code', 'ck-code_selected');
            }
        }
        var Pr = i(180),
            Br = { injectType: 'singletonStyleTag', attributes: { 'data-cke': !0 }, insert: 'head', singleton: !0 };
        S()(Pr.Z, Br);
        Pr.Z.locals;
        class Rr extends t.Plugin {
            static get pluginName() {
                return 'CodeUI';
            }
            init() {
                const e = this.editor,
                    t = e.t;
                e.ui.componentFactory.add('code', (i) => {
                    const n = e.commands.get('code'),
                        o = new x.ButtonView(i);
                    return (
                        o.set({
                            label: t('Code'),
                            icon: '<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="m12.5 5.7 5.2 3.9v1.3l-5.6 4c-.1.2-.3.2-.5.2-.3-.1-.6-.7-.6-1l.3-.4 4.7-3.5L11.5 7l-.2-.2c-.1-.3-.1-.6 0-.8.2-.2.5-.4.8-.4a.8.8 0 0 1 .4.1zm-5.2 0L2 9.6v1.3l5.6 4c.1.2.3.2.5.2.3-.1.7-.7.6-1 0-.1 0-.3-.2-.4l-5-3.5L8.2 7l.2-.2c.1-.3.1-.6 0-.8-.2-.2-.5-.4-.8-.4a.8.8 0 0 0-.3.1z"/></svg>',
                            tooltip: !0,
                            isToggleable: !0,
                        }),
                        o.bind('isOn', 'isEnabled').to(n, 'value', 'isEnabled'),
                        this.listenTo(o, 'execute', () => {
                            e.execute('code'), e.editing.view.focus();
                        }),
                        o
                    );
                });
            }
        }
        /**
         * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
         * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
         */
        class Or extends t.Plugin {
            static get requires() {
                return [zr, Rr];
            }
            static get pluginName() {
                return 'Code';
            }
        }
        class Vr extends t.Plugin {
            static get pluginName() {
                return 'MyPlugin';
            }
            init() {
                const t = this.editor,
                    i = t.t,
                    n = t.model;
                t.ui.componentFactory.add('myButton', (o) => {
                    const s = new x.ButtonView(o);
                    return (
                        s.set({ label: i('My plugin'), icon: e, tooltip: !0 }),
                        this.listenTo(s, 'execute', () => {
                            n.change((e) => {
                                const t = e.createText('Hello CKEditor 5!');
                                n.insertContent(t);
                            }),
                                t.editing.view.focus();
                        }),
                        s
                    );
                });
            }
        }
        class Ur extends D {}
        const Fr = { ckeditor: e };
        (Ur.builtinPlugins = [
            Vr,
            V,
            Y,
            ee,
            oe,
            me,
            Ue,
            qe,
            wt,
            kt,
            Vt,
            ji,
            Pi,
            Vn,
            po,
            Do,
            Vo,
            ur,
            pr,
            jr,
            Or,
            /**
             * @license Copyright (c) 2003-2022, CKSource Holding sp. z o.o. All rights reserved.
             * For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-oss-license
             */
            class extends vi {
                static get requires() {
                    return [xi];
                }
                static get pluginName() {
                    return 'Base64UploadAdapter';
                }
                init() {
                    this.editor.plugins.get(xi).createUploadAdapter = (e) => new Mi(e);
                }
            },
        ]),
            (Ur.defaultConfig = {
                toolbar: [
                    'myButton',
                    '|',
                    'heading',
                    '|',
                    'bold',
                    'italic',
                    'link',
                    'code',
                    'bulletedList',
                    'numberedList',
                    '|',
                    'outdent',
                    'indent',
                    '|',
                    'uploadImage',
                    'blockQuote',
                    'insertTable',
                    'mediaEmbed',
                    'codeBlock',
                    '|',
                    'undo',
                    'redo',
                ],
                image: { toolbar: ['imageStyle:inline', 'imageStyle:block', 'imageStyle:side', '|', 'imageTextAlternative'] },
                table: { contentToolbar: ['tableColumn', 'tableRow', 'mergeTableCells'] },
                language: 'en',
            });
    })(),
        ((window.CKEditor5 = window.CKEditor5 || {}).custom = n);
})();

